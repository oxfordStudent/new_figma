
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a0a95748-ba95-58f9-9388-6afabb399b5b")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[7355],{237086:(e,t,n)=>{"use strict";n.d(t,{jW:()=>H,cI:()=>K,ex:()=>D});var l=n(411855),r=n(188507),a=n(767129),i=n(841368),o=n(169614),s=n(829826),c=n(948986),d=n(656927),p=n(480201),u=n(548891),m=n(487644),h=n(77153),g=n(402791),E=n(573760),_=n(487664),f=n(585219),y=n(131350),v=n(664080),b=n(797811),S=n(113420),w=n(947680),T=n(579038),P=n(127161),C=n(574560),k=n(625829),I=n(205786),N=n(829879),A=n(534766),R=n(757358),O=n(455399),M=n(82131),x=n(258376),L=n(951912);function K(e){return l.createElement(c.p,{name:"live_object_panel"},l.createElement(O.Zk,null,l.createElement(O.fI,{className:M.LO},l.createElement(O.xw,null,l.createElement("div",{className:"live_object_panel--title--9VTOA"},l.createElement(m.B,{svg:L.A}),l.createElement(g.Tx,{id:"fullscreen.live_object_panel.live_object"}))),l.createElement(B,{pasteSources:e.pasteSources,recordingKey:e.recordingKey}))))}async function F(e,t){for(let n=0;n<t;n++)try{let t=await d.Ay.post(e,void 0,{responseType:"arraybuffer"});return new Uint8Array(t.data)}catch(e){console.error(e)}throw Error(`Failed to download bytes from ${e}`)}async function D(e,t,n){try{let e=[];for(let l of t)(0,o.sx)("update_live_object",{...l}),l.srcFile?(e.push(F(`/api/file_proxy/file/${l.srcFile}/canvas?nodes_to_extract=${l.srcNode}&fv=${n}`,2).then(e=>{b.l7.user("update-live-object-remote",()=>v.glU.updateLiveObject(e,l.nodeId,l.srcNode,l.srcFile))})),await Promise.all(e)):b.l7.user("update-live-object-local",()=>v.glU.updateLiveObject(new Uint8Array,l.nodeId,l.srcNode,""))}catch(t){e(E.F.enqueue({message:(0,g.t)("fullscreen.live_object_panel.live_update_error"),error:!0}))}y.Y5.triggerAction("commit"),e(E.F.enqueue({message:(0,g.t)("fullscreen.live_object_panel.live_update_success")}))}function H(e){let t=(0,r.wA)(),n=(0,w.eY)(),a=function(){let e=(0,I.Z)("outline_navigate"),t=(0,C.Yk)();return l.useCallback(n=>{N.wr(),N.Dh([n]);let l=y.Y5.getViewportInfo();e((0,A.QZ)({nodeId:n,alwaysPan:!0,viewportRect:k.r.fromOriginAndSize(l.x,l.y,l.width,l.height-l.y-t)}))},[t,e])}(),{pasteSources:i,liveUpdate:o,isLiveUpdating:c}=e,d=(0,r.d4)(e=>e.mirror.selectionProperties.resettableInstanceOverrides),u=(0,r.d4)(e=>e.mirror.appModel.keyboardShortcuts),m=!1;if(d){if(d.bubbledInstanceOverrides)m=!0;else for(let e of Object.values(d.selectionOverrides))if(e){m=!0;break}}return l.createElement(l.Fragment,null,l.createElement(p.W.Option,{onClick:()=>{if(1!==i.length)return;let e=i[0];e.srcFile?t((0,_.RK)({rawInput:`${window.location.origin}/file/${e.srcFile}?node-id=${e.srcNode}`})):a(e.srcNode)},disabled:1!==i.length,recordingKey:s.Pt(e,"goToOriginal"),key:"goToOriginal"},l.createElement(g.Tx,{id:"fullscreen.live_object_panel.go_to_original"})),l.createElement(p.W.Option,{disabled:!m,onClick:()=>{let e=i.map(e=>e.nodeId);b.l7.user("reset-instance-overrides",()=>v.glU.resetSymbolOverridesForNodes(e,v.YnC.OVERRIDES_FOR_LAYER_AND_SUBLAYERS)),y.Y5.commit()},recordingKey:s.Pt(e,"resetAllChanges"),key:"resetAllChanges"},l.createElement(g.Tx,{id:"fullscreen.live_object_panel.reset_all_changes"})),l.createElement(p.W.Option,{onClick:()=>o(i),disabled:c,recordingKey:s.Pt(e,"updateLiveObject-menu"),key:"updateLiveObject"},l.createElement(g.Tx,{id:"fullscreen.live_object_panel.update_live_object"})),l.createElement(p.W.Separator,{key:"divider"}),l.createElement(p.W.Option,{className:"live_object_panel--menuOption--MSmCN",onClick:()=>{let e=[];for(let t of i){let l=n.get(t.nodeId);l&&(e.push(t.nodeId),l.clearPasteSource())}b.l7.user("detach-instances",()=>v.glU.detachInstances(e)),y.Y5.commit()},recordingKey:s.Pt(e,"detachFromLive"),key:"detachFromLive"},l.createElement(g.Tx,{id:"fullscreen.live_object_panel.detach_from_live"}),l.createElement("span",{className:"live_object_panel--shortcut--hBzZv"},(0,P.c1)(u,"detach-instance"))))}function B(e){let{pasteSources:t}=e,n=(0,r.wA)(),{showing:o,toggle:c}=(0,S.B)("live-object-dropdown"),d=(0,r.d4)(e=>e.fileVersion),[p,m]=l.useState(!1),E=l.useRef(null),_=s.Pt(e,"updateLiveObject"),y=s.Pt(e,"liveObjectMenu"),v=l.useCallback(async e=>{m(!0),await D(n,e,d),m(!1)},[d,n]);return l.createElement(l.Fragment,null,p?l.createElement(u.kt,{className:"live_object_panel--spinner--iQ62Q",altIcon:x.A}):l.createElement(a.K,{as:"button",onClick:()=>v(t),onMouseDown:f.dG,"data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,g.t)("fullscreen.live_object_panel.update_live_object"),"aria-label":(0,g.t)("fullscreen.live_object_panel.update_live_object"),recordingKey:_},l.createElement(h.U,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:x.A})),l.createElement("div",{ref:E},l.createElement(O.YW,{selected:o,onClick:c,onMouseDown:f.dG,className:"live_object_panel--iconButton--vrVs2","data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,g.t)("fullscreen.live_object_panel.live_object_options"),recordingKey:y},l.createElement(i.J,null))),o&&(E.current?l.createElement(R.Cf,{targetRect:E.current.getBoundingClientRect(),propagateCloseClick:!0},l.createElement(H,{pasteSources:t,liveUpdate:v,isLiveUpdating:p,recordingKey:y})):null))}},66097:(e,t,n)=>{"use strict";let l,r,a,i,o;n.r(t),n.d(t,{PropertiesPanel:()=>u6});var s=n(411855),c=n(629019),d=n.n(c),p=n(169614),u=n(499200),m=n(611464),h=n(272078),g=n(963039),E=n(271078),_=n(829826),f=n(785341),y=n(143551),v=n(835293),b=n(948986),S=n(451015),w=n(577241),T=n(106309),P=n(714287),C=n(797019);function k(e){return(0,T.TR)()?s.createElement(I,{...e}):s.createElement(s.Fragment,null,e.children)}function I({name:e,trackingEnabled:t,alsoTrack:n,children:l}){let r=(0,S.F)(n),a=(0,T.U2)({name:e,trackingEnabled:t,alsoTrackRef:r,isNamespace:!1,autoTrackable:!1}),{error:i,trackablePath:o}=a,c=(0,T.MF)(()=>(0,T.ET)(o));(0,T.fK)(o,c);let d=(0,w.o3)(w.nt.trackableDebug),p=(0,T.MF)(()=>(0,T.R8)({componentName:"Trackable",name:e,error:i,alsoTrackedProperties:c()}));return l=(0,C.C)({children:l,isDebugMode:d,name:e,color:i?"red":"green",depth:o.length,getTooltipText:p}),s.createElement(P.f.Provider,{value:a},s.createElement("div",{style:{display:"contents"},"data-trackable-name":e},l))}var N=n(42910),A=n(62385),R=n(178041),O=n(467066),M=n(487644),x=n(138611),L=n(345866),K=n(183518),F=n(402791),D=n(876233),H=n(258458),B=n(965923),V=n(586271),U=n(878515),z=n(61415),Z=n(165077),G=n(585219),Y=n(45481),W=n(999231),X=n(131350),$=n(664080),Q=n(449565),j=n(245470),q=n(829879),J=n(292229),ee=n(303896),et=n(509047),en=n(19599),el=n(422710),er=n(327092),ea=n(748673),ei=n(127161),eo=n(170766),es=n(109388),ec=n(188507),ed=n(459593);function ep(e){return s.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.293 2.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-1.146 1.147a.5.5 0 1 1-.707-.708L12 7 8 3 4 7l1.146 1.146a.5.5 0 1 1-.707.708L3.293 7.707a1 1 0 0 1 0-1.414l4-4Zm-2.147 8.353a.5.5 0 0 0 .708.708L7.5 9.707V13.5a.5.5 0 0 0 1 0V9.707l1.646 1.647a.5.5 0 0 0 .708-.708l-2.5-2.5a.5.5 0 0 0-.708 0l-2.5 2.5Z",clipRule:"evenodd"}))}function eu(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15 18.5a.5.5 0 0 0 1 0v-6.55a2.5 2.5 0 0 0 0-4.9V5.5a.5.5 0 0 0-1 0v1.55a2.5 2.5 0 0 0 0 4.9v6.55Zm-1-9a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0Zm-6-4a.5.5 0 0 1 1 0v6.55a2.5 2.5 0 0 1 0 4.9v1.55a.5.5 0 0 1-1 0v-1.55a2.5 2.5 0 0 1 0-4.9V5.5Zm-1 9a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z",clipRule:"evenodd"}))}var em=n(204556),eh=n(480201),eg=n(77153),eE=n(983245),e_=n(705715),ef=n(579038),ey=n(718314),ev=n(40782),eb=n(757358),eS=n(369700),ew=n(20865);function eT({ref:e,onTextChange:t,text:n}){let[l,r]=(0,s.useState)(!1),a=(0,ew.w)(e);return(0,s.useLayoutEffect)(()=>void(null==t||t()),[t,n]),(0,s.useLayoutEffect)(()=>{var t;r(!!(t=e.current)&&t.clientWidth<t.scrollWidth)},[e,a,n]),l}function eP(e){let{containerClassName:t,isHTMLString:n,onExpandCallback:l,text:r}=e,a=s.useMemo(()=>n?(0,eS.A)(r):r,[n,r]),[i,o]=s.useState(!1),c=s.useRef(null),d=eT({ref:c,onTextChange:s.useCallback(()=>o(!1),[]),text:a}),p=s.useCallback(()=>{l?l(!i):o(!i)},[i,l]),u=i?"Show less":"Show more";return s.createElement("div",{className:`${t} expandable_text_container--container--fauZM`},s.createElement("div",{ref:c,className:i?"":"expandable_text_container--truncatedText--Zh19Y ellipsis--ellipsis--Tjyfa"},a),d&&s.createElement("div",{className:"expandable_text_container--toggleToExpandPrompt--y9zk9",onClick:p},u))}var eC=n(358278),ek=n(709744),eI=n(509952),eN=n(695614),eA=n(216309),eR=n(797811),eO=n(955505),eM=n(974492),ex=n(360448),eL=n(709955),eK=n(455399);let eF="rich_text_asset_description_input--quillInput--w9zzt";function eD({description:e,isViewOnly:t,placeholder:n,onBlur:l,onSubmit:r}){let a=s.useCallback(e=>{e.stopPropagation()},[]);return t&&""===e?null:s.createElement(eK.fI,{className:"rich_text_asset_description_input--textRow--JlCKa component_controls_picker--inputRow--piRyG sf_pro--uiFontWithSFProFallback--m-p9V",onMouseDown:a,onPointerDown:a},s.createElement("div",{className:t?"rich_text_asset_description_input--labelViewOnly--EBSZ9 rich_text_asset_description_input--label--U3bKd":"rich_text_asset_description_input--label--U3bKd"},s.createElement(F.Tx,{id:"design_systems.component_panel.description"})),s.createElement("div",{className:t?"rich_text_asset_description_input--quillInputViewOnly--Q329g":eF},t?s.createElement(eL.R,{fallback:null,errorFallback:null,quillClassName:"rich_text_asset_description_input--readOnlyEditor--wT16t",value:e}):s.createElement(ex.A,{fallback:null,errorFallback:null,bounds:`.${eF}`,debounceMs:1e3,flushOnBlur:!0,onBlur:l,mountBehavior:"focus",onInputChange:r,placeholder:n,defaultValue:e})))}function eH(e){let{description:t,isViewOnly:n,onSubmitDescription:l}=e,r=(0,J.gl)(t),a=eB(t),i=_.qP("componentDescriptionText","submit",e=>{e!==eB(t)&&(0===(0,eS.A)(e).trim().length?l(""):l(e))}),o=s.useCallback(()=>{X.Y5.commit()},[]);return s.createElement(eD,{description:a,isViewOnly:n,placeholder:r?(0,F.t)("design_systems.component_panel.description_mixed"):(0,F.t)("design_systems.component_panel.description_placeholder"),onBlur:o,onSubmit:i})}function eB(e){return(0,J.gl)(e)?(0,F.t)("design_systems.component_panel.description_mixed"):e}var eV=n(894689),eU=n(838320);let ez=/^\w+:/;function eZ(e){let{links:t,onSubmitLinks:n}=e,[l,r]=s.useState(null),a=s.useCallback(e=>e.keyCode===h.Uz.ENTER&&!e.shiftKey&&(e.currentTarget.blur(),!0),[]),i=s.useCallback(e=>{r(e.target.value)},[r]),{inputRef:o,inputProps:{onChange:c,onFocus:d,onMouseUp:p,onMouseLeave:u,onKeyUp:m}}=(0,eV.X)({onChange:i}),g=null==t?void 0:t.find(e=>e),E=s.useCallback(()=>{if(null!==l){if(l.length<1){n([]),X.Y5.commit();return}n([{uri:l.match(ez)?l:`https://${l}`}]),X.Y5.commit(),r(null)}},[n,l,r]),f=_.c1(e),y=null===l?null==g?void 0:g.uri:l;return s.createElement(s.Fragment,null,s.createElement("div",{className:"documentation_link_input--label--ATBu1"},s.createElement(F.Tx,{id:"design_systems.component_panel.link"})),s.createElement(eK.fI,{className:"documentation_link_input--row--Ph7Ip component_controls_picker--inputRow--piRyG sf_pro--uiFontWithSFProFallback--m-p9V"},s.createElement(eU.L,{ref:o,key:"symbol-link",className:"documentation_link_input--documentationLink--3NlJC raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u ellipsis--ellipsis--Tjyfa",value:y||"",placeholder:(0,F.t)("design_systems.component_panel.link_to_documentation"),onFocus:d,onBlur:E,onChange:c,onKeyDown:a,onMouseUp:p,onMouseLeave:u,onKeyUp:m,recordingKey:f("componentSymbolLinks")})))}var eG=n(619258),eY=n(356932),eW=n(2137);let eX="component_link_display--linkWrapper--sxTXs";function e$({links:e}){let t=null==e?void 0:e[0];if(null==t)return null;let n=s.createElement(s.Fragment,null,s.createElement("div",{className:"component_link_display--favicon--BwLu-"},s.createElement(eY.v,{url:t.uri})),s.createElement("span",{className:"component_link_display--link--l6rH8"},t.uri));return s.createElement("div",{className:"component_link_display--wrapper--CLPXG"},s.createElement("div",{className:"component_link_display--header--fts8b"},s.createElement(F.Tx,{id:"design_systems.component_panel.link"})),(0,eW.G)(t.uri??"")?s.createElement(eG.N,{className:eX,trusted:!1,href:t.uri,target:"_blank"},n):s.createElement("div",{className:eX},n))}let eQ="component-controls-picker",ej="instance-controls-picker";function eq(e){return(null==e?void 0:e.id)===eQ||(null==e?void 0:e.id)===ej}var eJ=n(485463),e0=n(256296),e5=n(304913),e1=n(959875);function e7(){let e=(0,ec.d4)(e=>{var t;let n=(0,eM.Lg)(e)??"";return(null==(t=e.mirror.sceneGraph.get(n))?void 0:t.simplifyInstancePanels)??!1});return s.createElement("div",{className:e1.cx.bSolid.bt1.colorBorder.pt16.pb28.pl12.pr12.$},s.createElement(eJ.S,{checked:e,label:s.createElement(e0.J,null,(0,F.t)("design_systems.component_panel.simplify_instances")),onChange:()=>eR.l7.user("simplify-instance-panels",()=>$.glU.setSimplifyInstancePanels(!e)),recordingKey:"simplifyInstancePanelsCheckbox","data-testid":"simplify-instance-panels-checkbox"},s.createElement(F.Tx,{id:"design_systems.component_panel.simplify_instances_help_text"}),s.createElement(s.Fragment,null,"\xa0",s.createElement(e5.CY,{href:"https://help.figma.com/hc/articles/5579474826519-Explore-component-properties#simplified",target:"_blank",trusted:!0},s.createElement(F.Tx,{id:"general.learn_more"})))))}function e2(e){let{descriptionElement:t,menuType:n,description:l,links:r,pickerShown:a}=e,i=(0,ec.d4)(eC.i$),o=a.id===ej,c=(0,ec.d4)(e=>"state-group"===n?[(0,eM.od)(e)].filter(e=>null!=e):(0,eO.F4)(e)),d=s.useCallback(e=>{eR.l7.user("set-description",()=>{for(let t of c)t.setDescriptionRich(e)});let{componentKeys:t,updatedNodeIds:n}=e4(c);(0,p.sx)("component description updated",{updatedNodeIds:n,componentKeys:t,isRichText:!0,length:e.length})},[c]),u=s.useCallback(e=>{for(let t of c)(0,eI.c2)(t.symbolLinks,e)||(eA.wt.reportAnyPropertyChange(["symbolLinks"]),t.symbolLinks=e);let{componentKeys:t,updatedNodeIds:n}=e4(c);(0,p.sx)("component links updated",{updatedNodeIds:n,componentKeys:t})},[c]),m=(null==a?void 0:a.id)===eQ&&i!==$.iCO.STATE;return s.createElement(s.Fragment,null,s.createElement("div",{className:o?"component_controls_menu--descriptionContainerViewOnly--VAeo9 component_controls_menu--descriptionContainer--me8J2":"component_controls_menu--descriptionContainer--me8J2"},t,s.createElement(eH,{key:n,description:l,isViewOnly:o,onSubmitDescription:d,recordingKey:_.Pt(e,"componentDescriptionText")}),a.id===eQ?s.createElement(eZ,{links:r,onSubmitLinks:u}):s.createElement(e$,{links:r})),m&&s.createElement(e7,null))}function e4(e){let t=e.map(e=>e.guid),n=t.map(e=>$.Egt.getAssetKeyForPublish(e)).filter(eN.Vq).map(e=>e.toString());return{updatedNodeIds:t,componentKeys:n}}var e3=n(868879),e8=n(474554),e6=n(120550),e9=n(383987);function te({children:e}){let t=(0,ec.wA)(),n=(0,ec.d4)(e=>e.pickerShown),l=(0,ec.d4)(e=>e.mirror.sceneGraph),r=(0,e9.Tv)(),a=(0,ek.yr)(),i=null==a?void 0:a.find(e=>e),o=new N.Mi(null==n?void 0:n.initialX,null==n?void 0:n.initialY);(0,e3.h)(()=>{let e=(null==n?void 0:n.id)===ej,t=(0,e8._P)(null==i?void 0:i.uri),a=null==r?void 0:r.map(e=>(null==n?void 0:n.id)===eQ?$.Egt.getAssetKeyForPublish(e):(null==n?void 0:n.id)===ej?$.Egt.getAssetKeyForPublish((0,e8.k4)([e],l)??""):"").filter(eN.Vq).map(e=>e.toString());(0,p.sx)("Component documentation modal opened",{hostname:t,selectedNodeIds:r,componentKeys:a,isInstance:e})});let c=(null==n?void 0:n.id)===ej?(0,F.t)("design_systems.component_panel.component_documentation"):(0,F.t)("design_systems.component_panel.component_controls");return s.createElement(e6.vx,{autoflowHeight:!0,headerSize:"small",initialPosition:o,initialWidth:320,onClose:()=>{t(D.XE())},scrollOverflow:!1,title:c},e)}var tt=n(313888),tn=n(531800);let tl=["component_set","selected_variant"],tr={component_set:{displayName:()=>(0,F.t)("design_systems.component_panel.component_set"),icon:tt.A},selected_variant:{displayName:()=>(0,F.t)("design_systems.component_panel.selected_variant"),icon:tn.A}};function ta(e){var t;let{description:n,links:l,containingStateGroupDescription:r,containingStateGroupLinks:a,isViewOnly:i,recordingKey:o}=e,[c,d]=s.useState((t=l??[],!i||(0,J.gl)(n)||n.length>0||t.length>0?"selected_variant":"component_set")),p=!i||(n||(null==l?void 0:l.length))&&(r||(null==a?void 0:a.length)),u=_.qP(o??"variantDocumentationMenu","changeTab",e=>d(e)),m=(0,ec.d4)(e=>e.pickerShown);return eq(m)?s.createElement(s.Fragment,null,!!p&&s.createElement("div",{className:"variant_documentation_menu--tabContainer--TDuq4",role:"tablist"},tl.map(e=>s.createElement(ti,{key:e,onSetSelectedTab:u,selectedTab:c,tabType:e}))),s.createElement("div",null,s.createElement(e2,{pickerShown:m,menuType:"selected_variant"===c?"selection":"state-group",description:"selected_variant"===c?n:r??"",links:"selected_variant"===c?l:a,recordingKey:_.Pt(e,"componentControlsMenu")}))):null}function ti({selectedTab:e,onSetSelectedTab:t,tabType:n}){let{displayName:l,icon:r}=tr[n],a=s.useCallback(()=>t(n),[t,n]),i=s.useCallback(e=>{e.keyCode===h.Uz.ENTER&&t(n)},[t,n]);return s.createElement("span",{className:e===n?"variant_documentation_menu--tabActive--3IOzf variant_documentation_menu--_tabBase--cM6W3 text--fontPos11--2LvXf text--_fontBase--QdLsd":"variant_documentation_menu--tab--r9UJ6 variant_documentation_menu--_tabBase--cM6W3 text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:a,onKeyDown:i,key:n,role:"tab",tabIndex:0},s.createElement(M.B,{className:"variant_documentation_menu--tabIcon--f91ai",svg:r}),l())}function to(e){let{description:t,containingStateGroupDescription:n,containingStateGroupLinks:l}=e,r=(0,ec.d4)(eC.i$),a=(0,ec.d4)(e=>e.pickerShown),i=(0,ek.yr)();return eq(a)?s.createElement(te,null,r===$.iCO.STATE||r===$.iCO.STATE_INSTANCE?s.createElement(ta,{description:t,links:i,containingStateGroupDescription:n,containingStateGroupLinks:l,isViewOnly:a.id===ej,recordingKey:_.Pt(e,"variantDocumentationMenu")}):s.createElement(e2,{description:t,links:i,descriptionElement:n?s.createElement(s.Fragment,null,s.createElement(eP,{isHTMLString:!0,containerClassName:"component_controls_picker--stateGroupDescriptionContainer--ggLn7",text:n}),s.createElement("p",{className:"component_controls_picker--header--ELquL"},s.createElement(F.Tx,{id:"design_systems.component_panel.current_variant"}))):void 0,menuType:"selection",pickerShown:a,recordingKey:_.Pt(e,"componentControlsMenu")})):null}var ts=n(294608),tc=n(515573),td=n(108465),tp=n(955766),tu=n(625264),tm=n(54656);let th="instance-property-preview-picker";function tg(e){let t=(0,ec.wA)(),n=(0,ec.d4)(e=>e.pickerShown),l=(0,ec.d4)(tm.Z3),r=(0,ec.d4)(eO.dK);if((null==n?void 0:n.id)!==th)return null;let a=t=>{let n={};for(let e of t){let t=(0,e8.Yi)([e],r)||(0,e8.k4)([e],r);t&&(n[t]?n[t].push(e):n[t]=[e])}return Object.values(n).map(t=>s.createElement(tu.ME,{key:`bubbledInstancePreview.${t[0]}`,guids:t,instanceAndSublayerGUIDs:t,instanceNameDisplayOverride:tp.NA.NAME_ONLY,containerWidth:e8.O2.WIDE,shouldHideInstanceTitleButtons:!0,propDimension:e8.OE.ASSIGNMENT,viewOnlyMode:tu.BK.ALL_PROPS,hideErrors:!0,recordingKey:e.recordingKey}))};return s.createElement(e6.vx,{title:(0,F.t)("design_systems.component_properties.instance_property_preview"),initialPosition:new N.Mi(n.initialX,n.initialY),initialWidth:304,headerSize:"small",onClose:()=>{t(D.XE())}},s.createElement("div",{className:"instance_property_preview_picker--container--pG-JM"},l.map((e,t)=>a(e))))}var tE=n(797795),t_=n(772990),tf=n(901004),ty=n(109618),tv=n(849790);function tb(){let e=(0,ec.d4)(e=>e.library.local),t=(0,ec.d4)(eO.qd),n=s.useMemo(()=>{let n=new Set;for(let l of t){let t=(0,en.n5)(l,e);t&&(t.type===t_.PW.COMPONENT||t.type===t_.PW.STATE_GROUP)&&!(0,en.zE)(t)?n.add(t.node_id):t&&t.type===t_.PW.MODULE&&n.add(t.node_id)}return n},[e,t]),l=(0,ec.wA)(),r=s.useCallback(()=>{l(e_.to({type:tv.dD,data:{initiallyCheckedItemIDs:n,entrypoint:tf.RR.PROPERTIES_PANEL}}))},[l,n]);return n.size?s.createElement(ty.z,{onClick:r},(0,F.t)("design_systems.component_panel.publish_new_changes")):null}var tS=n(338998),tw=n(57567);function tT({description:e}){let t=s.useMemo(()=>(0,J.gl)(e)?"":(0,eS.A)(e),[e]),n=(0,tS.Rt)(tS.G1.READY);return""===t?null:n?s.createElement(tw.Ad,{appendedClassName:"asset_description_preview--ui3DescriptionRow--U6fJ7",label:null,input:s.createElement("div",{className:"asset_description_preview--ui3Description--s4mHd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k"},t)}):s.createElement(eK.fI,null,s.createElement("div",{className:"asset_description_preview--description--1Twh6 ellipsis--ellipsis--Tjyfa"},t))}var tP=n(464123);function tC(e){return 1>=(0,ec.d4)(e=>(0,eC._7)(e))?null:s.createElement(b.p,{name:"create_state_group_panel"},s.createElement(eK.Zk,null,s.createElement(eK.fI,null,s.createElement(eK.xw,null,s.createElement(F.Tx,{id:"design_systems.states_panel.components"}))),s.createElement(tk,{...e})))}function tk(e){let t=(0,ec.d4)(e=>(0,eC._7)(e)),n=e=>{(0,p.sx)("Creating Variant Component",{type:"Merge",numVariants:e}),X.Y5.triggerActionInUserEditScope("create-state-group")};return s.createElement(ty.z,{key:"merge-button",recordingKey:_.Pt(e,"mergeButton"),onClick:()=>n(t)},s.createElement(F.Tx,{id:"design_systems.states_panel.combine_as_variants"}))}var tI=n(82131),tN=n(832039);let tA="component_panel--titleButtons--R-kU7",tR="component_panel--componentControlsButton--O969g";var tO=n(968109),tM=n(999918);function tx(){return(0,ts.R)(e=>{let t=(0,eC.i$)(e),n=(0,eM.od)(e);return{dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,stateGroupSelectionMode:t,containingProductComponent:n,containingStateGroupDescription:t===$.iCO.STATE?null==n?void 0:n.description:void 0,containingStateGroupLinks:t===$.iCO.STATE?null==n?void 0:n.symbolLinks:void 0,componentDescription:(0,eM.cv)(e)}})}function tL(e){let t=(0,ec.wA)(),{dropdownShown:n,pickerShown:l}=tx(),r=s.useMemo(()=>(null==n?void 0:n.type)===e8.C4,[n]),a=(null==l?void 0:l.id)===eQ,i=tK(e);return s.useCallback(e=>{r&&t(eE.oB()),a?t(D.XE()):i(e,eQ,320)},[a,r,t,i])}function tK(e){let t=(0,ec.wA)();return s.useCallback((n,l,r=ey.qo)=>{if(!e)return;let a=es.findDOMNode(e.current),i=(0,ey.cn)(a,r);t(D.u1({id:l,initialX:i.x,initialY:i.y})),t(B.sw()),t(D.Uv())},[t,e])}let tF=s.memo(function(e){let{pickerShown:t,stateGroupSelectionMode:n,containingProductComponent:l,containingStateGroupDescription:r,containingStateGroupLinks:a,componentDescription:i}=tx(),o=(0,tS.Rt)(tS.G1.READY),c=!!(0,ec.d4)(tm.Z3).length,d=(0,ec.wA)(),p=s.useRef(null),u=e=>e.stopPropagation(),m=(null==t?void 0:t.id)===th,h=tK(p),g=tL(p),E=s.useCallback(e=>{m?d(D.XE()):h(e,th,304)},[d,m,h]),f=(0,ec.d4)(td.Dr),y=(0,ec.d4)(td.Ct);return o&&n!==$.iCO.STATE?null:l||n!==$.iCO.NON_STATE_COMPONENTS?l&&l.isAlive()?s.createElement(eK.Zk,{ref:p},s.createElement(eK.fI,{className:tI.LO},s.createElement(tD,null),s.createElement("span",{className:tA},n===$.iCO.STATE&&c&&s.createElement(tE.YW,{selected:(null==t?void 0:t.id)===th,onClick:E,onMouseDown:u,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.component_properties.instance_property_preview"),svg:tO.A,recordingKey:"instancePropertyPreviewButton"}),s.createElement(tE.YW,{className:tR,selected:(null==t?void 0:t.id)===eQ,onClick:g,onMouseDown:u,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.component_panel.component_controls"),svg:tM.A,recordingKey:"componentControls"}))),s.createElement(tT,{description:i}),s.createElement(to,{containingStateGroupDescription:r,containingStateGroupLinks:a,description:i,recordingKey:_.Pt(e,"componentControlsPicker")}),s.createElement(tg,null),n===$.iCO.STATE&&s.createElement(tu.e6,{containerWidth:e8.O2.REGULAR,propDimension:e8.OE.DEFINITION,guids:[l.guid],recordingKey:e.recordingKey}),f&&y&&s.createElement(tb,null)):null:s.createElement(tC,{recordingKey:"createStateGroup"})});function tD({interiorSvg:e,alwaysShowParentComponent:t,svgOverride:n,focusedInputOverridesClassName:l,unfocusedInputOverridesClassName:r}){let{stateGroupSelectionMode:a,containingProductComponent:i}=tx();if(!i)return null;let o=a===$.iCO.STATE&&!t;return s.createElement(tc.E,{name:"component_title_control"},s.createElement(tP.R,{interiorSvg:e,guid:i.guid,value:o?(0,F.t)("design_systems.component_panel.current_variant"):i.name,canEdit:!o,icon:n??s.createElement(M.B,{svg:tt.A,className:tN.Kk}),editAction:"rename-component",focusedInputOverridesClassName:l,unfocusedInputOverridesClassName:r}))}var tH=n(268622),tB=n(767129),tV=n(31524),tU=n(404095),tz=n(463420),tZ=n(96796),tG=n(828675),tY=n(55330),tW=((l=tW||{})[l.VERTICAL=0]="VERTICAL",l[l.MIDDLE_CHILD=1]="MIDDLE_CHILD",l[l.LAST_CHILD=2]="LAST_CHILD",l);function tX(e){let{lineConfiguration:t,hideLine:n,wideContainer:l}=e;return s.createElement("div",{className:l?"bubbled_props_line_styles--containerWide--csTgg bubbled_props_line_styles--container--XumJm":"bubbled_props_line_styles--container--XumJm"},!n&&s.createElement("div",{className:"bubbled_props_line_styles--lineContainer--pEgTS"},(()=>{switch(t){case 0:return s.createElement("div",{className:"bubbled_props_line_styles--vertical--pialf bubbled_props_line_styles--_line--Vhv8-"});case 1:return s.createElement(s.Fragment,null,s.createElement("div",{className:"bubbled_props_line_styles--middleChildVertical--PxRp- bubbled_props_line_styles--_childVertical--Y-Ypj bubbled_props_line_styles--_line--Vhv8-"}),s.createElement("div",{className:"bubbled_props_line_styles--middleChildHorizontal--ucsHZ bubbled_props_line_styles--_childHorizontal--3bRi7 bubbled_props_line_styles--_line--Vhv8-"}));case 2:return s.createElement(s.Fragment,null,s.createElement("div",{className:"bubbled_props_line_styles--lastChildVertical--83Los bubbled_props_line_styles--_childVertical--Y-Ypj bubbled_props_line_styles--_line--Vhv8-"}),s.createElement("div",{className:"bubbled_props_line_styles--lastChildHorizontal--kGsHC bubbled_props_line_styles--_childHorizontal--3bRi7 bubbled_props_line_styles--_line--Vhv8-"}))}})()),e.children)}let t$="bubbled_instances_list--minusIcon--dY8i-",tQ="bubbled_instances_list--instanceName--09LuV",tj="bubbled_instances_list--instanceNameWide---L338 bubbled_instances_list--instanceName--09LuV",tq="bubbled_instances_list--ui3LineContainer--OdBbV",tJ="bubbled_instances_list--ui3Line--SIYpX";var t0=n(349307);function t5(e){let{showUnbubbledPrimaryInstances:t,showNumHidden:n,wideContainer:l,scrollableContainer:r}=e,a=(0,ec.d4)(tm.K4),i=(0,tS.Rt)(),o=e=>{eR.l7.user("toggle-props-bubbled",()=>$.glU.togglePropsAreBubbled(e)),$.Ez5.canvasViewState().temporarilyHoveredNodes.set([])},c=e=>{$.Ez5.canvasViewState().temporarilyHoveredNodes.set(e)},p=()=>{$.Ez5.canvasViewState().temporarilyHoveredNodes.set([])};return s.createElement("div",{className:d()({"bubbled_instances_list--scrollableContainer--ob0LQ":r})},null==a?void 0:a.map((r,a)=>{if(!t&&!r.isBubbled)return;let d=r.connectedGUIDs.slice(0).sort();return s.createElement(tG.D8,{className:"bubbled_instances_list--instanceSection--tLYN0",key:a,onMouseEnter:()=>c(r.connectedGUIDs),onMouseLeave:p,recordingKey:_.Pt(e,d[0])},i?t?s.createElement(t4,{data:r,showNumHidden:n,onUnbubbleInstance:o,recordingKey:_.Pt(e,"checkbox",d[0]),wideContainer:l}):s.createElement(t7,{data:r,onUnbubbleInstance:o,recordingKey:_.Pt(e,"unbubble",d[0]),wideContainer:l}):s.createElement(s.Fragment,null,s.createElement(tX,{lineConfiguration:tW.VERTICAL,hideLine:0===r.bubbledNestedInstances.length,wideContainer:l},t?s.createElement(t1,{data:r,onUnbubbleInstance:o,showNumHidden:n,wideContainer:l,recordingKey:_.Pt(e,"checkbox",d[0])}):s.createElement(s.Fragment,null,s.createElement(M.B,{className:"bubbled_instances_list--instanceIcon--aRlGl",svg:tO.A}),s.createElement("p",{className:l?tj:tQ},r.name),s.createElement(tE.K0,{className:t$,svg:t0.A,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.component_properties.unbubble_instance"),onClick:()=>{o(r.connectedGUIDs[0])},recordingKey:_.Pt(e,"unbubble",d[0])}))),r.bubbledNestedInstances.map((e,t)=>s.createElement("div",{key:t},s.createElement(tX,{lineConfiguration:t===r.bubbledNestedInstances.length-1?tW.LAST_CHILD:tW.MIDDLE_CHILD,wideContainer:l},s.createElement("div",{className:l?tj:tQ},e.name))))))}))}function t1({data:e,onUnbubbleInstance:t,showNumHidden:n,wideContainer:l,recordingKey:r}){return s.createElement("div",{className:l?"bubbled_instances_list--checkboxContainerWide--Kdd3u bubbled_instances_list--checkboxContainer--qm3X7":"bubbled_instances_list--checkboxContainer--qm3X7"},s.createElement(tY.S,{label:e.name,checked:e.isBubbled,onChange:()=>{t(e.connectedGUIDs[0])},truncateLabel:{truncate:"line-clamp",lineClamp:2},recordingKey:r}),n&&!!e.numHidden&&s.createElement("div",{className:"bubbled_instances_list--numHidden--fW-Sr"},s.createElement(F.Tx,{id:"design_systems.component_properties.num_hidden",num:e.numHidden})))}function t7({data:e,onUnbubbleInstance:t,recordingKey:n,wideContainer:l}){let{bubbledNestedInstances:r}=e,a=s.createElement(tw.s2,{leftIcon:s.createElement(tV.y,null),label:null,input:s.createElement("p",{className:tQ},e.name),rightIcon:s.createElement("div",{className:t$},s.createElement(tB.K,{as:"button","data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.component_properties.unbubble_instance"),"aria-label":(0,F.t)("design_systems.component_properties.unbubble_instance"),onClick:()=>{t(e.connectedGUIDs[0])},onMouseDown:G.dG,recordingKey:n},s.createElement(tU.f,null)))});return 0===r.length?a:s.createElement(t2,{data:e,row:a,wideContainer:l})}function t2({data:e,row:t,wideContainer:n}){let[l,r]=(0,s.useState)(!0),a=s.createElement(tG.GG,{className:"bubbled_instances_list--ui3CollapsibleRowWrapper--exQH7",onMouseDown:()=>r(!l)},s.createElement("div",{className:"bubbled_instances_list--ui3CollapsibleRowIcon--pTsfJ"},l?s.createElement(tz.k,null):s.createElement(tZ.O,null)),t),i=null;return l||(i=e.bubbledNestedInstances.map((e,t)=>s.createElement("div",{key:t},s.createElement(tw.s2,{label:null,input:s.createElement("div",{className:n?tj:tQ},e.name),leftIcon:s.createElement("div",{className:tq},s.createElement("div",{className:tJ})),rightIcon:null})))),s.createElement(s.Fragment,null,a,i)}function t4({data:e,onUnbubbleInstance:t,recordingKey:n,showNumHidden:l,wideContainer:r}){return s.createElement(s.Fragment,null,s.createElement(tw.Ad,{label:null,input:s.createElement(t1,{data:e,onUnbubbleInstance:t,showNumHidden:l,wideContainer:r,recordingKey:n})}),e.bubbledNestedInstances.map((e,t)=>s.createElement("div",{key:t},s.createElement(tw.Ad,{label:null,input:s.createElement("div",{className:"bubbled_instances_list--ui3CheckboxViewNestedInstance--YgTEc"},s.createElement("div",{className:tq},s.createElement("div",{className:tJ})),s.createElement("div",{className:r?tj:tQ},e.name))}))))}function t3(){let e="bubbledPropsPicker",t=(0,ec.d4)(e=>e.pickerShown),n=(0,ec.wA)(),l=new N.Mi(null==t?void 0:t.initialX,null==t?void 0:t.initialY);return(null==t?void 0:t.id)!==e8.Dd?null:s.createElement(e6.vx,{title:(0,F.t)("design_systems.component_properties.expose_nested_instances"),initialPosition:l,initialWidth:e8.wh,headerSize:"small",onClose:()=>{n(D.XE())},recordingKey:e},s.createElement("div",{className:"bubbled_props_picker--container--I6VX-"},s.createElement(t5,{showUnbubbledPrimaryInstances:!0,showNumHidden:!0,wideContainer:!0,scrollableContainer:!0,recordingKey:e})))}var t8=n(740840),t6=n(765872);let t9="props_panel--addButtonContainer--a58gi",ne="props_panel--addButton--jAtAX draggable_list--addButton--D0q--",nt="props_panel--dropdownRowWithIcon--03FtD",nn="props_panel--dropdownRowWithoutIcon--F8Ra-",nl="props_panel--bubbledInstancesHeading--C26v2";var nr=n(633779),na=n(100562),ni=n(501191);function no({recordingKey:e}){let t=(0,ec.wA)(),{version:n}=(0,em.DP)(),l="ui3"===n,r=(0,ec.d4)(eC.i$),a=(0,ec.d4)(eM.od),i=!(0,ec.d4)(t6.Jp),o=(0,ec.d4)(e=>!!e.dropdownShown&&e.dropdownShown.type===e8.C4),c=(0,ec.d4)(e=>!!e.modalShown&&e.modalShown.type===t8.n.type),{componentDescription:d}=tx(),p=(0,ec.d4)(e=>e.pickerShown),u=o||c||(null==p?void 0:p.id)===e8.Dd,m=!!(0,ec.d4)(tm.Z3).length,h=(0,ec.d4)(tm.K4),g=!!(null==h?void 0:h.length),E=s.useRef(null),f=s.useRef(null),y=s.useCallback(e=>{p&&t(D.XE()),o?t(eE.oB()):t(eE.j7({type:e8.C4}))},[t,p,o]),v=s.useCallback(e=>{(0,e8.Pp)(a,!1,e,e8.Fv.ICON),t(e_.to({type:t8.n,data:{propType:e}}))},[t,a]),b=s.useCallback(()=>{a&&(a.isLooseComponent?X.Y5.triggerActionInUserEditScope("create-state-group"):v($.J0O.VARIANT))},[v,a]),S=s.useCallback(()=>{let e=es.findDOMNode(f.current),n=e?(0,ey.cn)(e,e8.wh):{};t(D.u1({id:e8.Dd,initialX:null==n?void 0:n.x,initialY:null==n?void 0:n.y}))},[t]),w=[$.J0O.BOOL,$.J0O.INSTANCE_SWAP,$.J0O.TEXT];return a?s.createElement(eK.Zk,{ref:f},s.createElement(l?nc:ns,{isPanelEmpty:i,isAddPropButtonSelected:u,hasBubbledInstances:m,stateGroupSelectionMode:r,selectAddPropOptionRef:E,toggleAddPropDropdown:y}),o&&E.current&&s.createElement(eb.Cf,{targetRect:E.current.getBoundingClientRect(),propagateCloseClick:!0},s.createElement(eh.W.Option,{disabled:!0,className:nn},s.createElement(F.Tx,{id:"design_systems.component_properties.create_new_property"})),s.createElement(eh.W.Option,{className:nt,onClick:b,recordingKey:_.Pt("openCreatePropModal",(0,e8.xb)($.J0O.VARIANT))},s.createElement(ev.N,null,s.createElement(eg.U,{svg:na.A},s.createElement(ed.m,null))),s.createElement(F.Tx,{id:"design_systems.component_properties.across_variants"})),w.map(e=>s.createElement(eh.W.Option,{key:e,className:nt,onClick:()=>v(e),recordingKey:_.Pt("openCreatePropModal",(0,e8.xb)(e))},s.createElement(ev.N,null,s.createElement(eg.U,{svg:(0,e8.qe)(e)},(0,e8.zn)(e,!0))),(0,e8.xb)(e))),g&&s.createElement(s.Fragment,null,s.createElement(eh.W.Separator,null),s.createElement(eh.W.Option,{disabled:!0,className:nn},s.createElement(F.Tx,{id:"design_systems.component_properties.expose_nested_instances"})),s.createElement(eh.W.Option,{className:nt,onClick:S,recordingKey:"openBubbledPropPicker"},s.createElement(ev.N,null,s.createElement(eg.U,{svg:nr.A},s.createElement(ep,null))),(0,F.t)("design_systems.component_properties.choose_instances")))),(null==p?void 0:p.id)===e8.Dd&&s.createElement(t3,null),l&&!i?s.createElement(tT,{description:d}):null,s.createElement(tu.e6,{containerWidth:l?e8.O2.RESIZABLE_SIDEBAR:e8.O2.REGULAR,propDimension:e8.OE.DEFINITION,guids:[a.guid],recordingKey:e}),m&&s.createElement(s.Fragment,null,s.createElement("p",{className:nl},(0,F.t)("design_systems.component_properties.bubbled_instances")),s.createElement(t5,{recordingKey:e}))):null}function ns({isPanelEmpty:e,isAddPropButtonSelected:t,hasBubbledInstances:n,stateGroupSelectionMode:l,selectAddPropOptionRef:r,toggleAddPropDropdown:a}){return s.createElement(eK.fI,{className:!e||t||n?void 0:"props_panel--panelHeaderRowFaded--r4klF draggable_list--panelHeaderRowFaded--kETRR"},s.createElement(eK.xw,{className:"props_panel--panelTitleText--i7WqG draggable_list--panelTitleText--SwKez"},s.createElement(F.Tx,{id:"design_systems.component_properties.properties"})),l!==$.iCO.STATE&&s.createElement("div",{ref:r,className:t9},s.createElement(eK.YW,{className:ne,onClick:a,selected:t,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.component_panel.create_component_property"),svg:ni.A,recordingKey:"openCreatePropModalDropdown"})))}function nc({isPanelEmpty:e,isAddPropButtonSelected:t,hasBubbledInstances:n,stateGroupSelectionMode:l,selectAddPropOptionRef:r,toggleAddPropDropdown:a}){let{pickerShown:i,containingStateGroupDescription:o,containingStateGroupLinks:c,componentDescription:d}=tx(),p=s.useRef(null),u=tL(p),m=s.createElement(eK.YW,{selected:(null==i?void 0:i.id)===eQ,onClick:u,onMouseDown:G.dG,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.component_panel.component_controls"),recordingKey:"componentControls"},s.createElement(eu,null));return s.createElement(s.Fragment,null,s.createElement(tH.Dl,{ref:p,faded:e&&!t&&!n,titleTx:s.createElement(F.Tx,{id:"design_systems.component_properties.properties"}),leftIcon:m,rightIcon:l!==$.iCO.STATE?s.createElement("div",{ref:r,className:t9},s.createElement(eK.YW,{className:ne,onClick:a,selected:t,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.component_panel.create_component_property"),svg:ni.A,recordingKey:"openCreatePropModalDropdown"})):void 0}),s.createElement(to,{containingStateGroupDescription:o,containingStateGroupLinks:c,description:d,recordingKey:"componentControlsPicker"}))}var nd=n(10199),np=n(15110),nu=n(870482),nm=n(462443),nh=n(510326),ng=n(641160);function nE({initialPosition:e,styleNameInputPrefix:t,styleType:n,inheritStyleKeyField:l,recordingKey:r}){let a=(0,ec.wA)(),i=(0,ec.d4)(e=>e.mirror.selectedStyleProperties),o=(0,ec.d4)(e=>e.mirror.sceneGraphSelection),c=s.useRef(Object.keys(o).length>0),[d,p]=s.useState(!c.current&&void 0),u="ui3"===(0,em.DP)().version,{styleRef:m,createStyle:h}=(0,np.u)({inheritStyleKeyField:l,isCreatingFromSelection:c.current,trackingOptions:{styleType:n}}),g=_.of(r,"submit",()=>{h(),a(D.XE()),a(D.Uv()),a(B.sw())}),E=(0,ec.d4)(e=>{let t=e.mirror.selectedStyleProperties;switch(n){case"FILL":return t.fillPaints&&"length"in t.fillPaints&&t.fillPaints.length>0;case"GRID":return t.layoutGrids&&t.layoutGrids.length>0;case"EFFECT":return t.effects&&t.effects.length>0;default:return!0}});return i.styleType?s.createElement(nm.zK.Provider,{value:nm.zM.CREATE_STYLE},s.createElement(e6.vx,{title:(e=>{switch(e){case"FILL":return(0,F.t)("design_systems.create_style.color");case"TEXT":return(0,F.t)("design_systems.create_style.text");case"EFFECT":return(0,F.t)("design_systems.create_style.effect");case"EXPORT":return(0,F.t)("design_systems.create_style.export");case"GRID":return(0,F.t)("design_systems.create_style.grid");default:return(0,F.t)("design_systems.create_style.create_new_style_generic")}})(i.styleType),headerSize:"small",initialWidth:nh.tA,initialPosition:e,onClose:()=>a(B.sw()),recordingKey:_.Pt("createStyleModal"),dragHeaderOnly:!0},s.createElement("div",{className:ng.FY},s.createElement(nu.O,{type:i.styleType,recordingKey:"createStyleModal",styleNameInputPrefix:t,isInspectPanel:!1,selectedStyleProperties:i,showProperties:d,onEnterPressed:g}),!m&&s.createElement("div",{className:"create_style_modal--errorMessage--8ZpFE"},s.createElement(F.Tx,{id:"design_systems.create_style.an_error_occurred_while_creating_the_style"})),s.createElement(nd.AutoLayout,{horizontalAlignItems:c.current?void 0:"end",verticalAlignItems:"center",spacing:c.current?"auto":void 0,padding:u?8:16},c.current&&s.createElement(eK.JU,{className:d?"create_style_modal--fadedShowMorePropertiesLabel--g8ydZ":"create_style_modal--showMorePropertiesLabel--mJpGe",onClick:()=>p(!d)},d?s.createElement(F.Tx,{id:"design_systems.create_style.hide_options"}):s.createElement(F.Tx,{id:"design_systems.create_style.show_more_options"})),s.createElement(e5.$$,{style:{justifySelf:"right"},onClick:g,disabled:!E||!m,tabIndex:0},s.createElement(F.Tx,{id:"design_systems.create_style.create_style"})))))):null}var n_=n(631044),nf=n(667351);function ny(e){let t=(0,ec.wA)(),n=(0,K.dI)(e.selectedStyleProperties.guid),l="",r="",[a,i]=(0,nf.Fk)((e,t)=>{let n=e.get(t);return[(null==n?void 0:n.name)||"",(null==n?void 0:n.styleDescription)||""]},n);return e.externalStyle?(l=e.externalStyle.name||"",r=e.externalStyle.description_rt?(0,eS.A)(e.externalStyle.description_rt):e.externalStyle.description||""):(0,K.dI)(e.selectedStyleProperties.guid)&&(l=a,r=(0,eS.A)(i)),s.createElement(nm.zK.Provider,{value:nm.zM.EDIT_STYLE},s.createElement(nu.O,{type:e.selectedStyleProperties.styleType,recordingKey:e.recordingKey,onEnterPressed:()=>t(B.sw()),styleName:l,styleDescription:r,hideNameDescription:e.hideNameDescription,...e}))}var nv=n(945137),nb=n(762076);function nS({recordingKey:e}){let t=(0,ec.wA)(),{version:n}=(0,em.DP)(),l=(0,ec.d4)(eM._k),r=!(0,ec.d4)(t6.Jp),a=(0,ec.d4)(e=>!!e.dropdownShown&&e.dropdownShown.type===e8.C4),i=(0,ec.d4)(e=>!!e.modalShown&&e.modalShown.type===t8.n.type),o=(0,ec.d4)(e=>e.pickerShown),c=a||i||(null==o?void 0:o.id)===e8.Dd,d=!!(0,ec.d4)(tm.Z3).length,p=(0,ec.d4)(tm.K4),u=!!(null==p?void 0:p.length),m=s.useRef(null),h=s.useRef(null),g=s.useCallback(()=>{o&&t(D.XE()),a?t(eE.oB()):t(eE.j7({type:e8.C4}))},[t,o,a]),E=s.useCallback(()=>{let e=es.findDOMNode(h.current),n=e?(0,ey.cn)(e,e8.wh):{};t(D.u1({id:e8.Dd,initialX:null==n?void 0:n.x,initialY:null==n?void 0:n.y}))},[t]);return l&&u?s.createElement(eK.Zk,{ref:h},s.createElement("ui3"===n?nc:ns,{isPanelEmpty:r,isAddPropButtonSelected:c,hasBubbledInstances:d,selectAddPropOptionRef:m,toggleAddPropDropdown:g,stateGroupSelectionMode:void 0}),a&&m.current&&s.createElement(eb.Cf,{targetRect:m.current.getBoundingClientRect(),propagateCloseClick:!0},s.createElement(eh.W.Option,{disabled:!0,className:nn},s.createElement(F.Tx,{id:"design_systems.component_properties.expose_nested_instances"})),s.createElement(eh.W.Option,{className:nt,onClick:E,recordingKey:"openBubbledPropPicker"},s.createElement(ev.N,null,s.createElement(eg.U,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:nr.A})),(0,F.t)("design_systems.component_properties.choose_instances"))),(null==o?void 0:o.id)===e8.Dd&&s.createElement(t3,null),d&&s.createElement(s.Fragment,null,s.createElement("p",{className:nl},(0,F.t)("design_systems.component_properties.bubbled_instances")),s.createElement(t5,{recordingKey:e}))):null}var nw=n(239338),nT=n(36317),nP=n(728068);function nC(){return null}var nk=n(76008),nI=n(540368),nN=n(210504),nA=n(794307),nR=n(897138),nO=n(216817),nM=n(483469),nx=n(951784),nL=n(948993),nK=n(24422),nF=n(947680),nD=n(669234),nH=n(597721),nB=n(46160),nV=n(428748),nU=n(9789),nz=n(507776),nZ=n(237962),nG=n(410134),nY=n(386455),nW=n(860168);let nX="styles--contextMenu--C-hVT",n$="styles--showOnRowHover--OUqRT",nQ="styles--showOnSelectedRowHover--Lcf7e styles--showOnRowHover--OUqRT";function nj({childLeft:e,childRight:t,deleteSelectedItems:n,forceShowHoverBorder:l,hideStylePreview:r,index:a,inspectStyleSelected:i,isDragging:o,isEditable:c,isRenaming:d,level:p,name:u,nameRef:m,onChildLeftClick:g,onContextMenu:E,onCreateFolder:f,onDoubleClick:y,onHoverChange:v,onMouseDown:b,onMouseMove:S,recordingKey:w,rowRef:T,secondaryName:P,selected:C,selectedSecondary:k,stopRenamingItem:I,tooltipData:N}){let A=s.useRef(null),[R,O]=s.useState(u),[M,x]=s.useState(!1),L=(0,nY.GS)(),K=s.useCallback(e=>{if(e){let t=es.findDOMNode(e);t&&t.select()}},[]);s.useEffect(()=>{O(u)},[u]);let F=s.useCallback(e=>{""===e.trim()?(I(a,u),O(u)):I(a,e)},[a,u,I]),D=(0,_.AF)((0,_.Pt)(w,"text-input"),"change",s.useCallback(e=>{O(e.currentTarget.value)},[O])),H=(0,_.v_)((0,_.Pt)(w,"text-input"),"keydown",e=>{e.keyCode===h.Uz.ESCAPE?(I(a,u),O(u)):e.keyCode===h.Uz.ENTER&&F(e.currentTarget.value)},{recordMetadata:e=>({inputValue:e.currentTarget.value}),playbackMetadata:e=>({currentTarget:{value:e.inputValue}})}),B=(0,_.v_)(w,"keydown",e=>{c&&!d&&(e.keyCode===h.Uz.BACKSPACE||e.keyCode===h.Uz.DELETE)?n():c&&!d&&e.keyCode===h.Uz.G&&(0,h.Fo)(e)?(f(),e.preventDefault()):!d&&e.nativeEvent&&X.Y5.forwardKeyboardEvent(e.nativeEvent)}),V=s.useCallback(()=>{F(R)},[F,R]),U=(0,_.rf)(w,"contextmenu",e=>{E(e)}),z=(0,_.rf)(w,"mousemove",e=>{S(e)},{recordMetadata:e=>({bounds:e.currentTarget.getBoundingClientRect(),pageX:e.pageX,pageY:e.pageY}),playbackMetadata:e=>({currentTarget:{getBoundingClientRect:()=>e.bounds},pageX:e.pageX,pageY:e.pageY})}),Z=(0,_.rf)(w,"mousedown",e=>{b(e),r()}),Y=(0,_.rf)(w,"mouseenter",s.useCallback(()=>{x(!0),null==v||v(!0)},[x,v])),W=s.useCallback(()=>{x(!1),null==v||v(!1)},[x,v]),$=(0,_.rf)(w,"dblclick",s.useCallback(e=>{y(e)},[y])),Q=Math.min((p-1)*3,18),j=nW.jNX-4-Q,q=l||M&&!o,J=s.createElement("div",{className:d?"styles--rowContentsRenaming--oDTtO styles--rowContents--37JBy":"styles--rowContents--37JBy",key:u,style:{gridColumnEnd:`span ${M&&!d||i?j-(L?7:5):j}`}},d?s.createElement(eK.ks,{autoCapitalize:"off",autoCorrect:"off",autoFocus:!0,className:"styles--input--LbjR0",onBlur:V,onChange:D,onKeyDown:H,ref:K,spellCheck:!1,value:R}):s.createElement(s.Fragment,null,s.createElement("div",{className:"styles--name--KWZ8d ellipsis--ellipsis--Tjyfa",ref:m,...N},u),P&&s.createElement("div",{className:"styles--textStyle--DiUv4"},P)));return s.createElement(nU.e,{className:k?"styles--rowSelectedSecondaryLightBlue--S-zy- draggable_list--rowSelectedSecondary--yOI1g raw_components--rowSelectedSecondary---U7Us raw_components--rowSelected--M2Eip styles--rowWithBorder--bphZ- styles--row--qsY-0":C?"styles--rowSelectedPrimary--Qpsa1 styles--rowWithBorder--bphZ- styles--row--qsY-0":q?"styles--rowWithHoveredBorder--0vgNj styles--rowWithBorder--bphZ- styles--row--qsY-0":"styles--rowWithBorder--bphZ- styles--row--qsY-0",dragging:o,hideGrabber:!0,onContextMenu:U,onKeyDown:B,onMouseDown:Z,onMouseEnter:Y,onMouseLeave:W,onMouseMove:z,onDoubleClick:$,ref:(0,nG.A)(A,T),selected:C,selectedSecondary:!1,tabIndex:0},Q>0&&s.createElement("span",{style:{gridColumnEnd:`span ${Q}`}}),s.createElement("div",{className:"styles--childLeftContainer--Hu61K",onMouseDown:g&&G.dG,onClick:g},e,L&&J),!L&&J,t)}var nq=n(949207),nJ=n(432023),n0=n(660164);function n5({deleteSelectedItems:e,folder:t,folderNameToNestUnder:n,hideStylePreview:l,index:r,isCollapsed:a,isDragging:i,isEditable:o,isRenaming:c,isTemporarilyExpanded:d,level:p,onContextMenu:u,onCreateFolder:m,onMouseDown:h,onMouseMove:g,onRenameItem:E,recordingKey:f,selected:y,selectedSecondary:v,stopRenamingItem:b,temporarilyExpandFolder:S,toggleFolder:w}){let T=(0,ec.wA)(),[P,C]=s.useState(!1),k=s.useRef(null),I=P&&!c&&o;s.useEffect(()=>{if(P&&i&&a){let e=setTimeout(()=>{S(t.name)},1e3);return()=>clearTimeout(e)}},[P,i,a,S,t]);let N=s.useCallback(()=>{var e;let n=(0,nZ.Zk)(t.styleTypeSection),l=null==(e=k.current)?void 0:e.getBoundingClientRect();n&&l&&T(B.Zs({rowLeft:l.left,rowTop:l.top,styleType:t.styleTypeSection,styleNameInputPrefix:`${t.name}/`,inheritStyleKeyField:n}))},[k,t.name,t.styleTypeSection,T]);return s.createElement(nj,{deleteSelectedItems:e,forceShowHoverBorder:n===t.name,hideStylePreview:l,index:r,isDragging:i,isEditable:o,isRenaming:c,level:p,name:(0,nH.kH)(t.name),onChildLeftClick:function(){w(!a)},onContextMenu:u,onCreateFolder:m,onDoubleClick:function(){t.styleTypeSection&&E(t.name,!1,t.styleTypeSection)},onHoverChange:C,onMouseDown:h,onMouseMove:g,onRenameItem:E,recordingKey:f,selected:y,selectedSecondary:v,stopRenamingItem:b,rowRef:e=>{e&&(k.current=es.findDOMNode(e))},childLeft:s.createElement(M.B,{svg:a&&!d?nJ.A:nq.A,className:"styles--caret--DZmzh"}),childRight:I&&s.createElement(eK.$4,null,s.createElement(eK.K0,{className:y?nQ:n$,recordingKey:_.Pt(f,"addButton"),"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.styles.tooltips.create"),svg:ni.A,fallbackSvg:n0.A,onClick:N}))})}var n1=n(613420),n7=n(336930),n2=n(162502);function n4({deleteSelectedItems:e,hideStylePreview:t,index:n,isDragging:l,isEditable:r,isRenaming:a,level:i,onContextMenu:o,onCreateFolder:c,onInspectStyle:d,onMouseDown:p,onMouseMove:m,onRenameItem:h,recordingKey:g,selected:E,selectedSecondary:f,stopRenamingItem:y,dsStyle:v,stylePreviewShown:b,updateContextMenuStyleRef:S,updateSelection:w,updateFocusRowRef:T}){var P;let[C,k]=s.useState(!1),I=(0,ec.wA)(),N=s.useRef(null),A=s.useRef(null),R=s.useCallback(()=>{r&&h(v.node_id,!0,v.style_type)},[h,v.node_id,v.style_type,r]),O=b.isShown&&!b.isCreating&&b.style.node_id===v.node_id&&(0,Y.EF)(b.style,v),M=C&&!a||O,x=s.useCallback(function(){let e=A.current;if(e){let t=e.getBoundingClientRect();O?I(B.sw()):(I(B.rk({style:v,rowTop:t.top,rowLeft:t.left})),d(v),w({type:v.style_type,folderNames:new Set,styleIds:new Set(v.node_id)}))}I(D.XE())},[I,d,w,v,O]),L=s.useCallback(e=>{(2===e.button||e.ctrlKey)&&S(A.current),p(e),O&&x()},[x,p,O,S]),K=N.current,H=!!K&&K.offsetWidth<K.scrollWidth,V=s.useMemo(()=>!l&&v.description&&H?{"data-tooltip-type":ef.Ib.SPECIAL,"data-tooltip":ef.MW.STYLE_INFO,"data-tooltip-style-name":(0,nH.kH)(v.name),"data-tooltip-style-description":v.description,"data-tooltip-max-width":nW.jNX*(0,u.hG)(nW.dGl)}:null,[H,l,v.name,v.description]),U="TEXT"===v.style_type&&(null==(P=v.meta)?void 0:P.style_thumbnail)?v.meta.style_thumbnail:null;return s.createElement(nj,{deleteSelectedItems:e,hideStylePreview:t,index:n,inspectStyleSelected:O,isDragging:l,isEditable:r,isRenaming:a,level:i,name:(0,nH.kH)(v.name),nameRef:N,onContextMenu:o,onCreateFolder:c,onDoubleClick:R,onHoverChange:k,onMouseDown:L,onMouseMove:m,onRenameItem:h,recordingKey:g,rowRef:e=>{if(e){let t=es.findDOMNode(e);T&&T(t),A.current=t}},secondaryName:U&&(0,n1.P$)(U,!0),selected:E,selectedSecondary:f,stopRenamingItem:y,tooltipData:V,childLeft:s.createElement(s.Fragment,null,s.createElement(n7.zi,{dsStyle:v,disableTooltip:!0}),E&&"FILL"===v.style_type&&s.createElement("div",{className:"styles--selectedRing--UniEc"})),childRight:M&&s.createElement(eK.$4,null,s.createElement("div",{style:{gridColumnEnd:"span 1"}}),s.createElement(tE.YW,{className:E?nQ:n$,recordingKey:_.Pt(g,"customButton"),"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":r?(0,F.t)("design_systems.styles.edit_style"):(0,F.t)("design_systems.styles.view_style"),svg:n2.A,selected:O,onMouseDown:G.dG,onClick:x}))})}function n3({styleType:e,children:t}){let n=!(0,nF.p8)("isReadOnly");return s.createElement("div",{className:"styles--styleTypeSection--jPjTq component_tiles--section--qMua7"},n?s.createElement(n8,{styleType:e,recordingKey:`style-section-header-${e}`}):s.createElement("div",{className:"styles--styleTypeSectionHeader--224lA component_tiles--sectionHeader--eEC6d raw_components--panelTitle--VAQQA"},(0,en.QT)(e)),t)}function n8({styleType:e,recordingKey:t}){let[n,l]=s.useState(!1),r=(0,ec.wA)(),a=s.useRef(null),i=s.useCallback(()=>{var t;let n=(0,nZ.Zk)(e),l=null==(t=a.current)?void 0:t.getBoundingClientRect();n&&l&&r(B.Zs({rowLeft:l.left,rowTop:l.top,styleType:e,inheritStyleKeyField:n}))},[a,e,r]);return s.createElement(tG.D8,{className:"styles--styleTypeSectionRow--wVTIO",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),recordingKey:t,forwardedRef:a},s.createElement(eK.JU,{className:"styles--styleTypeSectionRowLabel--PrKm-"},(0,en.QT)(e)),n&&s.createElement(tE.K0,{className:"styles--styleTypeSectionRowButton--V4Co2 styles--showOnRowHover--OUqRT",recordingKey:_.Pt(t,"addButton"),"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.styles.tooltips.create_style_from_section",{kind:(0,en.XV)(e).toLowerCase()}),svg:ni.A,fallbackSvg:n0.A,onClick:i}))}n3.displayName="StyleTypeSection";var n6=n(113420),n9=n(59082);let le=eh.W.Dropdown,lt=eh.W.Option,ln=eh.W.Separator,ll="styles-by-type-context-menu",lr=.75*(0,u.hG)(nW.uj0);function la({styleRowRef:e,onEditStyle:t,onRenameItem:n,onCreateFolder:l,onDeleteItems:r,onCutItems:a,onPasteItems:i,styleType:o}){let c=(0,n6.U)(),d=(0,ec.d4)(e=>e.library.localStyleSelection),p=s.useMemo(()=>d&&d.type===o&&(null==c?void 0:c.type)===ll?(0,n9.QA)(d,c.data.uiList):[],[d,c,o]),u=s.useMemo(()=>(0,n9.Ug)(p).map(e=>e.node_id),[p]),m=u.length;return c&&u.length?s.createElement(li,{styleRowRef:e,selectedItems:p,numStyles:m,dropdownShown:c,onEditStyle:t,onRenameItem:n,onCreateFolder:l,onDeleteItems:r,onCutItems:a,onPasteItems:i}):s.createElement("div",null)}function li({styleRowRef:e,selectedItems:t,numStyles:n,dropdownShown:l,onEditStyle:r,onRenameItem:a,onCreateFolder:i,onDeleteItems:o,onCutItems:c,onPasteItems:d}){var p;let u=(0,ec.wA)();s.useEffect(()=>($.glU.computePastableStyleCount(),()=>{$.glU.clearPastableStyleCount()}),[]);let m=(0,ec.d4)(e=>e.mirror.appModel.pastableStyleCount),h=!!(null==(p=(0,nD.q5)())?void 0:p.canEdit),g=s.useCallback(()=>{if(!t.length||t[0].type!==t_.PW.STYLE)return;let n=t[0];if(e){let t=e.getBoundingClientRect();u(B.rk({style:n,rowTop:t.top,rowLeft:t.left})),u(D.XE())}r(n)},[u,t,r,e]),E=s.useCallback(()=>{if(!t.length||t[0].type===t_.PW.STYLE)return;let e=t[0];a(e.name,!1,e.styleTypeSection)},[a,t]);if(-1===m)return s.createElement("div",null);if(!h)return n>1?s.createElement("div",null):s.createElement(le,{style:l.data.position,className:nX},s.createElement(lt,{recordingKey:"edit-style-option",onClick:g},s.createElement(F.Tx,{id:"design_systems.styles.view_style"})));let _=1===n&&(t[0].type===t_.PW.STYLE?s.createElement(lt,{recordingKey:"edit-style-option",onClick:g},s.createElement(F.Tx,{id:"design_systems.styles.edit_style"})):s.createElement(lt,{recordingKey:"rename-folder-option",onClick:E},s.createElement(F.Tx,{id:"design_systems.styles.rename_folder"})));return s.createElement(le,{style:l.data.position,className:nX},s.createElement(lt,{recordingKey:"create-folder-option",onClick:i},s.createElement(F.Tx,{id:"design_systems.styles.add_new_folder"})),_,s.createElement(lt,{recordingKey:"delete-style-option",onClick:o},s.createElement(F.Tx,{id:"design_systems.styles.delete_styles",numStyles:n})),s.createElement(ln,null),s.createElement(lt,{recordingKey:"cut-style-option",onClick:c},s.createElement(F.Tx,{id:"design_systems.styles.cut_styles",numStyles:n})),!!m&&s.createElement(lt,{recordingKey:"paste-style-option",onClick:d},s.createElement(F.Tx,{id:"design_systems.styles.paste_styles",numStyles:m})))}var lo=n(710752);function ls(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",d:"m6 16-.354-.354a.5.5 0 0 0-.146.355L6 16Zm.004 1.996h-.5a.5.5 0 0 0 .5.5v-.5Zm1.996 0v.5a.5.5 0 0 0 .353-.147L8 17.996Zm5.5-5.496.354-.354-.354.354Zm-2-2 .354-.354-.354.354ZM13 8l-.354.354.354.353.354-.353L13 8Zm3 3-.354-.353-.353.353.354.354L16 11Zm-3.01-3.01.353-.354-.353.354Zm1.02 5.02.354-.353-.354.353ZM5.5 16.001l.004 1.996 1-.003L6.5 16h-1Zm.504 2.495H8v-1H6.004v1Zm2.35-.147 5.5-5.495-.707-.708-5.5 5.496.706.707Zm5.5-6.203-2-2-.708.708 2 2 .708-.708Zm-2.708-2-5.5 5.5.708.708 5.5-5.5-.708-.708Zm-.51.197.51.51.707-.707-.51-.51-.707.708Zm3.728 2.314-.51-.51-.708.707.51.51.708-.707Zm1.98.707.02-.02-.708-.707-.02.02.708.707Zm-5.688-5.728-.02.02.707.708.02-.02-.707-.708Zm2.697.01-.01-.01-.707.707.01.01.707-.707Zm0 .708 2-2-.707-.708-2 2 .708.708Zm3.01 2.303-.01-.01-.707.707.01.01.708-.707Zm1.284-2.01-2 2 .707.707 2-2-.707-.708Zm0-2.293a1.62 1.62 0 0 1 0 2.292l.707.708a2.621 2.621 0 0 0 0-3.708l-.707.708Zm-6.283 1.99a.9.9 0 0 1 1.272 0l.707-.708a1.9 1.9 0 0 0-2.687 0l.707.707Zm5 5a1.9 1.9 0 0 0 0-2.687l-.708.707a.9.9 0 0 1 0 1.272l.708.708Zm-2.708.02a1.9 1.9 0 0 0 2.688 0l-.708-.707a.9.9 0 0 1-1.272 0l-.708.707Zm1.697-7.01a1.621 1.621 0 0 1 2.293 0l.708-.708a2.621 2.621 0 0 0-3.708 0l.707.708Zm-4.01 3.282a.9.9 0 0 1 0-1.272l-.707-.708a1.9 1.9 0 0 0 0 2.688l.707-.708Z"}))}var lc=n(884909),ld=n(304173),lp=n(608974),lu=n(257812),lm=n(319431),lh=n(914110);let lg="local-style-creation-dropdown";function lE(){var e;let t=(0,ec.wA)(),n=(0,s.useContext)(nm.lk),l=!(0,nF.p8)("isReadOnly"),r=s.useRef(null),a=s.useRef(null),i=r.current,o=(0,n6.U)(),c=(null==o?void 0:o.type)===lg,d=null==(e=null==o?void 0:o.data)?void 0:e.targetRect,u="localStyleHeader",m=0===(0,nh.Bs)().length,h=(0,ec.d4)(e=>e.stylePreviewShown.isShown&&e.stylePreviewShown.isCreating),g=s.useMemo(()=>d||(c&&i?i.getBoundingClientRect():null),[d,i,c]),E=()=>{t(eE.oB())},f=()=>{t(eE.j7({type:lg}))},y=e=>{e.stopPropagation(),t(B.YG());let n=r.current;c?E():n&&((0,p.sx)("editor-local-styles-dropdown-show"),f())},v=e=>{var t;E();let l=(0,nZ.Zk)(e),r=null==(t=a.current)?void 0:t.getBoundingClientRect();l&&r&&n({styleType:e,inheritStyleKeyField:l,rowLeft:r.left,rowTop:r.top})},b=m&&!c&&!h;return s.createElement(eK.fI,{className:b?"styles--panelHeaderRowFaded--pfgKz styles--panelHeaderRow--Kxqgo styles--styleTypeSectionRow--wVTIO draggable_list--panelHeaderRowFaded--kETRR":"styles--panelHeaderRow--Kxqgo styles--styleTypeSectionRow--wVTIO",forwardedRef:a},s.createElement(eK.xw,{className:"styles--panelTitleText--v7gXm draggable_list--panelTitleText--SwKez",onMouseDown:e=>b&&y(e),onClick:e=>e.stopPropagation()},s.createElement(F.Tx,{id:"design_systems.styles.local_styles"})),l&&s.createElement(s.Fragment,null,s.createElement(eK.K0,{svg:ni.A,fallbackSvg:n0.A,ref:r,onMouseDown:y,onClick:e=>e.stopPropagation(),className:c?"styles--stylesHeaderButtonHighlight--WTeWy raw_components--iconButtonSelected--bJibL raw_components--_iconButton---ybo6":"styles--stylesHeaderButton--jhpA5 draggable_list--addButton--D0q--","data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.create_style.create_style"),recordingKey:_.Pt(u,"addButton")}),c&&g&&s.createElement(eb.Cf,{targetRect:g,minWidth:128,disableDropdownScrollContainer:!0,propagateCloseClick:!0},en.og.map(e=>{let{icon:t,label:n}=function(e){switch(e){case"TEXT":return{icon:s.createElement(eg.U,{svg:lh.A},s.createElement(lo.e,null)),label:(0,F.t)("design_systems.styles.dropdown.text")};case"FILL":return{icon:s.createElement(eg.U,{svg:lu.A},s.createElement(ls,null)),label:(0,F.t)("design_systems.styles.dropdown.fill")};case"GRID":return{icon:s.createElement(eg.U,{svg:lm.A},s.createElement(lc.E,null)),label:(0,F.t)("design_systems.styles.dropdown.grid")};case"EFFECT":return{icon:s.createElement(eg.U,{svg:lp.A},s.createElement(ld.n,null)),label:(0,F.t)("design_systems.styles.dropdown.effect")};default:throw(0,nA.j)(e),Error(`Invalid style type: ${e}`)}}(e),l=t=>{t.stopPropagation(),v(e)};return s.createElement(eh.W.Option,{key:e,className:"styles--createStyleDropdownRow--7iCXQ",onClick:l,onPointerUp:l,recordingKey:_.Pt(u,`dropdown-option-${e}`)},s.createElement(ev.N,null,t),n)}))))}let l_="collapsed-style-folders";function lf({scrollContainer:e,recordingKey:t}){let n=(0,nh.Bs)(),l=(0,nF.p8)("isReadOnly");return 0===n.length&&l?null:s.createElement(b.p,{name:"local_styles_panel"},s.createElement(eK.Zk,null,s.createElement(ly,{scrollContainer:e,recordingKey:t})))}function ly({scrollContainer:e,recordingKey:t}){let n=(0,ec.wA)(),l=(0,ec.d4)(e=>e.stylePreviewShown),r=(0,ec.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),a=(0,ec.d4)(e=>e.mirror.appModel.currentTool),i=s.useRef(null),o=(0,nh.Bs)(),c=(0,ec.d4)(e=>e.library.localStyleSelection),[d,u]=s.useState(null),[m,h]=s.useState(null),g=s.useRef(null),[E,f]=s.useState(!1),y=r===$.m1T.GRADIENT||r===$.m1T.RASTER||a===$.NLJ.DROPPER_COLOR;s.useEffect(()=>{let e=()=>{!y&&(n(nL.Bn(null)),l.isShown&&(n(B.sw()),$.glU.selectStyle(A.n3.INVALID,A.IA.INVALID)))},t=(0,G.ft)();return t?window.addEventListener("pointerdown",e):window.addEventListener("mousedown",e),()=>{t?window.removeEventListener("pointerdown",e):window.removeEventListener("mousedown",e)}},[n,l.isShown,y]);let{stylesByType:v,foldersAndStylesByType:b}=s.useMemo(()=>{let e=(0,en.Kw)(o),t=new Map;return en.og.map(n=>{let l=e.get(n);if(l){(0,en.LX)(l);let e=(0,n9.lM)(l,n),r=(0,n9.l0)(e);t.set(n,r)}}),{stylesByType:e,foldersAndStylesByType:t}},[o]),S=s.useCallback(e=>{(0,nA.KF)(null!=e.content_hash,"style does not have a hash"),$.glU.selectStyleByGuid(e.node_id),n(nL.ay({isRenaming:!1})),(0,p.sx)("Style Inspected",{styleType:e.style_type,from:"styleListClick"})},[n]),w=s.useCallback((e,t,n)=>{u(t?e:null),h(t?null:{name:e,styleTypeSection:n})},[]),T=s.useCallback(e=>{if(!e){n(nL.Bn(null));return}let t=new Set;e.styleIds.forEach(n=>{let l=o.find(e=>e.type===t_.PW.STYLE&&e.node_id===n);if(!l)return;let r=(0,nH.In)(l.name);e.folderNames.has(r)||t.add(n)});let l={type:e.type,folderNames:e.folderNames,styleIds:t};n(nL.Bn(l))},[n,o]),P=s.useCallback((e,t,n)=>{if(!c)return;let l=e[t],r=(e,t)=>{let l=(0,nH.ke)(e.name),r=null!=t?t:l.length-1;l[r]=n;let a=(0,n9.Pc)(l.join("/"));eR.l7.user("rename-style",()=>$.glU.renameNode(e.node_id,a))};if(l.name!==n){if(l.type===t_.PW.STYLE)r(l);else{(0,n9.mx)(t,e).forEach(t=>{let n=e[t];n.type===t_.PW.STYLE&&r(n,l.level-1)});let a=new Set(c.folderNames);a.delete(l.name);let i=(0,nH.In)(l.name)+"/"+n;a.add(i),T({type:c.type,folderNames:a,styleIds:c.styleIds})}}X.Y5.triggerAction("commit"),u(null),h(null)},[c,T]),C=s.useCallback((e,t)=>{t.preventDefault(),t.stopPropagation(),n(eE.j7({type:ll,data:{uiList:e,position:{top:t.clientY,left:Math.min(t.clientX,window.innerWidth-lr)}}}))},[n]),k=s.useCallback(e=>{g.current=e},[]),I=s.useCallback(()=>{f(!0)},[]),N=s.useCallback(()=>{f(!1)},[]);return s.createElement("div",{className:"styles--localStylesPanel--T4Gqs",ref:i},s.createElement(lE,null),en.og.map(n=>{let l=v.get(n);if(!l)return;let r=b.get(n);if(r)return s.createElement(lv,{key:n,recordingKey:_.Pt(t,`style-section-${n}`),styleType:n,storedStyleList:l,styleList:r,updateSelection:T,isDragging:E,onDragStart:I,onDragEnd:N,onInspectStyle:S,onContextMenu:C,updateContextMenuStyleRef:k,renamingStyleID:d,renamingFolder:m,onRenameItem:w,stopRenamingItem:P,styleRowRef:g.current,onEditStyle:S,scrollContainer:e})}))}function lv({styleType:e,storedStyleList:t,styleList:n,renamingStyleID:l,renamingFolder:r,onRenameItem:a,stopRenamingItem:i,onDragStart:o,onDragEnd:c,onInspectStyle:d,onContextMenu:p,updateContextMenuStyleRef:u,updateSelection:m,styleRowRef:h,scrollContainer:E,recordingKey:f}){let y=(0,nD.q5)(),v=!(0,nF.p8)("isReadOnly"),b=(0,ec.wA)(),S=(0,ec.d4)(e=>e.stylePreviewShown),w=(0,ec.d4)(t=>(0,nB.i4)(t,e)),T=(0,ec.d4)(t=>(0,nB.A7)(t,e,n)),[P,C]=s.useState(()=>{if(nz.x4&&y){let t=JSON.parse(nz.x4.getItem(l_)||"{}");if(y.key in t){let n=t[y.key];if(e in n)return new Set(n[e])}else t[y.key]={},nz.x4.setItem(l_,JSON.stringify(t))}return new Set(n.filter(e=>"STYLE_FOLDER"===e.type).map(e=>e.name))}),[k,I]=s.useState([]),[N,R]=s.useState(null),[O,M]=s.useState(null),x=s.useMemo(()=>(0,nR.s)(()=>{b(nK.GT({styleType:e}))},200),[b,e]);s.useEffect(()=>{x()},[x,n]);let L=(0,nO.Z)(P);s.useEffect(()=>{if(!L||!nz.x4||!y||(0,nx._f)(L,P))return;let t=JSON.parse(nz.x4.getItem(l_)||"{}"),n=t[y.key];n&&(n[e]=[...P],nz.x4.setItem(l_,JSON.stringify(t)))},[P,y,L,e]);let K=s.useCallback(e=>!!e&&"STYLE_FOLDER"===e.type,[]),H=s.useCallback((e,t)=>{let l=new Set(e),r=[];n.forEach((e,t)=>{if(l.has(e)&&(r.push(t),"STYLE_FOLDER"===e.type)){let e=(0,n9.mx)(t,n);r.push(...e)}});let a=new Set(r),i=t?n.indexOf(t):n.length,o=[...(0,g.y1)(i).filter(e=>!a.has(e)),...r,...(0,g.y1)(i,n.length).filter(e=>!a.has(e))],s=new Map;return o.forEach((e,t)=>{e!==t&&s.set(e,t)}),s},[n]),V=s.useCallback(()=>{S.isShown&&(b(B.sw()),b(D.XE()),$.glU.selectStyle(A.n3.INVALID,A.IA.INVALID))},[b,S.isShown]),U=s.useMemo(()=>{if(!N)return null;if("in"===N.type){let e=n[N.index];return e?{folderNameToNestUnder:e.name,dividerStyles:{display:"none"}}:null}if(null==N.index||null==O||!w)return null;let e=(0,n9.QA)(w,n),t=e[0],l=null,r=null;if(0===N.index?r=n[N.index]:N.index===n.length?l=n[N.index-1]:(l=n[N.index-1],r=n[N.index]),(null==l?void 0:l.type)==="STYLE_FOLDER"&&P.has(l.name)&&-1===k.indexOf(l.name))return{folderNameToNestUnder:l.name,dividerStyles:{display:"none"}};if((null==l?void 0:l.type)===t_.PW.STYLE){let e=(0,nH.In)(l.name).split("/");for(let n=0;n<e.length;n++){let l=e.slice(0,n+1).join("/");if(P.has(l)&&-1===k.indexOf(l)){if("STYLE_FOLDER"!==t.type)return{folderNameToNestUnder:l,dividerStyles:{display:"none"}};return{folderNameToNestUnder:(0,nH.In)(l),dividerStyles:{marginLeft:24*Math.min((0,nH.ke)(l).length,8)-8}}}}}let a=0,i=null,o=l?(0,n9.rM)(l):0,s=r?(0,n9.rM)(r):0;if(o<=s)a=s,i=l?l.type===t_.PW.STYLE?(0,nH.In)(l.name):l.name:"";else if((0,nA.KF)(null!=l,"Dragging after an item that doesn't exist"),t.type===t_.PW.STYLE||O>=.5)a=o,i=(0,nH.In)(l.name);else{let e=Math.floor(O/.5*(0,n9.rM)(l));e=Math.max(s-1,e),i=(0,nH.ke)((0,nH.In)(l.name)).slice(0,e).join("/"),a=e+1}let c={marginLeft:24*Math.min(a,8)-8};return l&&e.includes(l)||!(0,n9.Md)(l,t,r)?{folderNameToNestUnder:null,dividerStyles:c}:{folderNameToNestUnder:i,dividerStyles:c}},[P,O,w,N,n,k]),z=s.useCallback((l,r,a,i)=>{if(!t||!r&&!a||!U)return;let o=U.folderNameToNestUnder;if(null===o)return;let s=[],c=[];l.forEach(e=>{(0,n9.Md)(r,e,a,o)&&("STYLE_FOLDER"===e.type?c.push(e):s.push(e))});let d=s.concat(c);if(!d.length)return;let p=eR.l7.user("reorder-styles",()=>(0,n9.VB)(d,r,a,o,n,t,i||!1)),u=new Set,h=new Set;d.forEach(e=>{let t=(0,n9.t_)(e),n=null==p?void 0:p.get(t);n&&("STYLE_FOLDER"===e.type?u.add(n):h.add(t))}),m({type:e,folderNames:u,styleIds:h});let g=new Set;return P.forEach(e=>{if(o.startsWith(e))return;let t=null==p?void 0:p.get(e);t?g.add(t):g.add(e)}),C(g),V(),i||X.Y5.triggerAction("commit"),H(d,a)},[m,P,U,H,V,t,n,e]),Z=s.useCallback((e,t)=>{if("STYLE_FOLDER"!==t.type)return;let l=n.indexOf(t),r=(0,n9.dm)(t).filter(e=>(0,nH.In)(e.name)===t.name);if(!r.length)return z(e,t,n[l+1]);{let t=r[r.length-1],l=n.indexOf(t);return z(e,t,n[l+1])}},[z,n]),G=(0,nM.xx)((e,t)=>{let l=new Map,r=t.map(e=>e.type===t_.PW.STYLE?e.node_id:e.name);return e.forEach(e=>{let a=r.indexOf(e);-1!==a&&(0,n9.mx)(a,n).forEach(e=>{let n=t[e],r="STYLE_FOLDER"===n.type?n.name:n.node_id,a=l.get(r);a||(a=0),l.set(r,a+1)})}),l}),Y=s.useCallback(()=>{if(!w)return;let t=(0,n9.QA)(w,n);if(0===t.length)return;let l=t[0],r=n.indexOf(l),i=r,o=r+1;if(l.type===t_.PW.STYLE&&n[o]&&n[o].type===t_.PW.STYLE){let e=(0,n9.rM)(l);for(let t=r+1;t<n.length;t++){let l=n[t];if("STYLE_FOLDER"===l.type&&l.level===e||(0,n9.rM)(l)<e){i=t-1,o=t;break}t===n.length-1&&(i=t,o=t+1)}}z(t,n[i],n[o],!0);let s=(0,nH.In)(l.name),c=(0,F.t)("design_systems.create_style.untitled_folder");s&&(c=`${s}/${c}`);let d=(e,t)=>{if(e.type===t_.PW.STYLE){let n=c+"/"+t+(0,nH.kH)(e.name);eR.l7.user("rename-style",()=>{$.glU.renameNode(e.node_id,n)})}else{let n=t+(0,nH.kH)(e.name)+"/";e.styles.forEach(e=>{d(e,n)}),e.subfolders.forEach(e=>{d(e,n)})}};t.forEach(e=>{d(e,"")}),m({type:e,folderNames:new Set([c]),styleIds:new Set}),a(c,!1,e)},[m,z,w,a,n,e]),W=s.useCallback((e,t)=>{let l=n[e];"STYLE_FOLDER"===l.type&&C(e=>{let n=new Set(e);return t?n.add(l.name):n.delete(l.name),n})},[n]),Q=s.useCallback((e,t)=>{C(l=>{let r=new Set(l),a=n[e];if("STYLE_FOLDER"===a.type){let e=(0,nH.In)(a.name),n=""===e?t:e+"/"+t;P.has(a.name)&&(P.delete(a.name),P.add(n)),(0,n9.KU)(a).forEach(e=>{if(P.has(e.name)){let t=e.name.replace(a.name,"");P.add(n+t),P.delete(e.name)}})}return r}),i(n,e,t)},[i,P,n]),j=s.useCallback(e=>{p(n,e)},[p,n]),q=s.useCallback((e,t,n)=>{R({index:e,type:n?"in":"before"}),M(t>.5?1:Math.round(1e3*t)/1e3)},[]),J=s.useCallback(()=>{C(e=>eR.l7.user("delete-styles",()=>{let t=new Set(e);return(w?(0,n9.QA)(w,n):[]).forEach(e=>{"STYLE_FOLDER"===e.type?((0,n9.a2)(e,(null==y?void 0:y.key)||null),P.delete(e.name),(0,n9.KU)(e).forEach(e=>P.delete(e.name))):(0,n9.Nr)(e,(null==y?void 0:y.key)||null)}),t})),X.Y5.triggerAction("commit"),S.isShown&&(b(B.sw()),b(D.XE()),$.glU.selectStyle(A.n3.INVALID,A.IA.INVALID)),m(null)},[S.isShown,m,w,n,null==y?void 0:y.key,P,b]),ee=s.useMemo(()=>{let e=w?(0,n9.QA)(w,n):[];return(0,n9.Ug)(e).map(e=>e.node_id)},[w,n]),et=s.useCallback(()=>{$.glU.cutStyles(ee)},[ee]),en=s.useCallback((e,t)=>{t===nV.zy.PASTE?$.glU.pasteStyles():e.shouldPropagate=!0},[]);s.useEffect(()=>{if(!w)return;let e=e=>{e.target&&("INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName)||et()};return document.addEventListener("cut",e),()=>{document.removeEventListener("cut",e)}},[et,w]);let el=s.useCallback(()=>{$.glU.pasteStyles()},[]),er=s.useCallback(e=>{I(t=>[...t,e])},[]),ea=s.useCallback(()=>{o()},[o]),ei=_.rf(f,"ondragend",s.useCallback(()=>{R(null),M(null),I([]),c()},[c])),eo=(0,nO.Z)(w);s.useEffect(()=>{eo!==w&&w&&C(e=>{let n=new Set(e);for(let e of w.styleIds.values()){let l=t.find(t=>t.node_id===e);if(!l)continue;let r=(0,nH.ke)(l.name);for(let e=0;e<r.length;e++){let t=r.slice(0,e).join("/");n.delete(t)}}return n})},[w,eo,t]);let es=s.useRef(null),ed=s.useCallback(e=>{es.current=e},[es]),ep=s.useCallback((e,t,i,o,c,p)=>{let h="STYLE_FOLDER"===e.type?e.name:e.node_id,g=!1,E=!1;for(let t of k)if("STYLE_FOLDER"===e.type){if(e.name===t){E=!0;break}e.name.startsWith(t)&&(g=!0)}else if((0,nH.In)(e.name)===t){g=!0;break}if(!E&&!g&&G(P,n).has(h))return null;if(e.type===t_.PW.STYLE){let n=(0,n9.rM)(e),r=null!=l&&l===e.node_id;return s.createElement(n4,{hideStylePreview:V,recordingKey:`style-row-${t}`,index:t,key:e.node_id,isDragging:o,dsStyle:e,selected:i,selectedSecondary:(null==T?void 0:T.styleIds.has(e.node_id))||!1,level:n,stylePreviewShown:S,onContextMenu:j,updateContextMenuStyleRef:u,updateFocusRowRef:i?ed:null,onMouseDown:c,onMouseMove:p,onInspectStyle:d,updateSelection:m,isEditable:v,deleteSelectedItems:J,isRenaming:r,onRenameItem:a,stopRenamingItem:Q,onCreateFolder:Y})}{let n=null!=r&&r.name===e.name&&r.styleTypeSection===e.styleTypeSection,l=(null==U?void 0:U.folderNameToNestUnder)||null;return s.createElement(n5,{recordingKey:`folder-section-${e.styleTypeSection}-row-${t}`,key:t,index:t,isDragging:o,folder:e,selected:i,selectedSecondary:(null==T?void 0:T.folderNames.has(e.name))||!1,isCollapsed:P.has(e.name),temporarilyExpandFolder:er,isTemporarilyExpanded:E,isRenaming:n,folderNameToNestUnder:l,onRenameItem:a,stopRenamingItem:Q,level:e.level,toggleFolder:e=>W(t,e),onContextMenu:j,onCreateFolder:Y,onMouseDown:c,onMouseMove:p,isEditable:v,deleteSelectedItems:J,hideStylePreview:V})}},[m,P,J,null==U?void 0:U.folderNameToNestUnder,G,V,j,Y,d,a,r,l,null==T?void 0:T.folderNames,null==T?void 0:T.styleIds,Q,n,S,er,k,W,u,v,ed]),eu=s.useCallback(t=>{let l=new Set,r=new Set;t.forEach(e=>{let t=n[e];"STYLE_FOLDER"===t.type?l.add(t.name):r.add(t.node_id)}),m({type:e,folderNames:l,styleIds:r})},[m,n,e]),em=s.useMemo(()=>w?(0,n9.h$)(w,n):[],[w,n]),eh=s.useRef(),eg=s.useRef();return s.useEffect(()=>{eh.current&&em.length?(eh.current(),es.current&&!es.current.contains(document.activeElement)&&es.current.focus()):eg.current&&!em.length&&(eg.current(),es.current=null)},[eh,em,es]),s.createElement(nN.vL,{name:"StyleDraggableList",handleClipboard:en,focusFunctionRef:eh,blurFunctionRef:eg},s.createElement(n3,{styleType:e},s.createElement(lb,{recordingKey:"style-draggable-list",listItems:n,onInsertItemsIn:Z,canInsertItemsIn:K,onInsertItemsBetweenValues:z,onDrag:q,onDragStart:ea,onDragEnd:ei,insertDividerStyle:null==U?void 0:U.dividerStyles,selectedIndices:em,updateSelection:eu,renderListItem:ep,scrollContainer:E,isDragDisabled:!v}),s.createElement(la,{styleRowRef:h,onDeleteItems:J,onCutItems:et,onPasteItems:el,onRenameItem:a,onEditStyle:d,onCreateFolder:Y,styleType:e})))}class lb extends nU.q{}var lS=n(448204),lw=n(793701),lT=n(725396),lP=n(395880);function lC(e){var t,n,l;return(null==(t=e.modalShown)?void 0:t.type)===lP.y.type||(null==(l=null==(n=e.modalShown)?void 0:n.prevModal)?void 0:l.type)===lP.y.type}function lk(){let e=(0,lP.m)(),t=(0,s.useCallback)(()=>{e()},[e]),n=(0,ec.d4)(lC),l=0===(0,lT.Rb)().length&&!n;return s.createElement(b.p,{name:"local_variables_panel"},s.createElement(eK.Zk,null,s.createElement(eK.fI,{className:l?"local_variables_panel--localVariablesPanelRowFaded--atToe local_variables_panel--localVariablesPanelRow--zR8nJ draggable_list--panelHeaderRowFaded--kETRR":"local_variables_panel--localVariablesPanelRow--zR8nJ"},s.createElement(eK.xw,{className:"local_variables_panel--titleText--7rdD7 draggable_list--panelTitleText--SwKez",onClick:t,"data-onboarding-key":"local-variables-panel-title"},s.createElement(F.Tx,{id:"variables.local_variables_panel.local_variables_title"})),s.createElement(tc.E,{name:"variables_modal_button"},s.createElement(tE.YW,{className:"local_variables_panel--openAuthoringModalButton--FiNXt draggable_list--addButton--D0q--",selected:n,recordingKey:(0,_.Pt)("localVariablesPanel","variablesModalButton"),"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("variables.local_variables_panel.open_variables_button_tooltip"),svg:n2.A,onClick:t})))))}var lI=n(841368),lN=n(247686),lA=n(95992),lR=n(57522),lO=n(828369);function lM(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 17.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75v-8.5A.75.75 0 0 1 8.75 8h.5a.75.75 0 0 1 .75.75v8.5Zm5-4a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 .75.75v4.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M17.5 6a.5.5 0 0 0 0-1h-12a.5.5 0 0 0 0 1h12Z"}))}function lx(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 6.75A.75.75 0 0 0 9.25 6h-.5a.75.75 0 0 0-.75.75v9.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-9.5Zm5 2a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v5.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-5.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M17.5 11a.5.5 0 0 1 0 1H15v-1h2.5ZM13 11h-3v1h3v-1Zm-7.5 0H8v1H5.5a.5.5 0 0 1 0-1Z",clipRule:"evenodd"}))}function lL(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 6.75A.75.75 0 0 0 9.25 6h-.5a.75.75 0 0 0-.75.75v8.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-8.5Zm5 4a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-4.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M17.5 18a.5.5 0 0 1 0 1h-12a.5.5 0 0 1 0-1h12Z"}))}function lK(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.25 10a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-8.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h8.5Zm-4 5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h4.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M6 17.5a.5.5 0 0 1-1 0v-12a.5.5 0 0 1 1 0v12Z"}))}function lF(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.25 10a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-9.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h9.5Zm-2 5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h5.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M13 17.5a.5.5 0 0 1-1 0V15h1v2.5Zm0-4.5v-3h-1v3h1Zm-1-7.5V8h1V5.5a.5.5 0 0 0-1 0Z",clipRule:"evenodd"}))}function lD(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.75 10A.75.75 0 0 1 6 9.25v-.5A.75.75 0 0 1 6.75 8h8.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-8.5Zm4 5a.75.75 0 0 1-.75-.75v-.5a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-4.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M18 17.5a.5.5 0 0 0 1 0v-12a.5.5 0 0 0-1 0v12Z"}))}function lH(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 15.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75v-6.5A.75.75 0 0 1 8.75 8h.5a.75.75 0 0 1 .75.75v6.5Zm5-4a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75v-2.5a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 .75.75v2.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon)",d:"M17.5 6a.5.5 0 0 0 0-1h-12a.5.5 0 0 0 0 1h12Z"}),s.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M5.5 8.5v8.25c0 .414.336.75.75.75h10.5a.75.75 0 0 0 .75-.75V8.5"}))}function lB(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 11.5a.5.5 0 0 0-.5-.5H15V9.75a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75V11h-3V7.75A.75.75 0 0 0 9.25 7h-.5a.75.75 0 0 0-.75.75V11H5.5a.5.5 0 0 0 0 1H8v3.25c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75V12h3v1.25c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75V12h2.5a.5.5 0 0 0 .5-.5Z",clipRule:"evenodd"}),s.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M5.5 14.5v2.25c0 .414.336.75.75.75h10.5a.75.75 0 0 0 .75-.75V14.5m0-6V6.25a.75.75 0 0 0-.75-.75H6.25a.75.75 0 0 0-.75.75V8.5"}))}function lV(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 7.75A.75.75 0 0 0 9.25 7h-.5a.75.75 0 0 0-.75.75v6.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-6.5Zm5 4a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v2.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-2.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon)",d:"M17.5 17a.5.5 0 0 1 0 1h-12a.5.5 0 0 1 0-1h12Z"}),s.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M17.5 14.5V6.25a.75.75 0 0 0-.75-.75H6.25a.75.75 0 0 0-.75.75v8.25"}))}function lU(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.25 10a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-8.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h8.5Zm-4 5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h4.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon)",d:"M6 17.5a.5.5 0 0 1-1 0v-12a.5.5 0 0 1 1 0v12Z"}),s.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M8.5 5.5h10.25a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75H8.5"}))}function lz(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.5 18a.5.5 0 0 0 .5-.5V15h2.25a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75H13v-3h4.25a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75H13V5.5a.5.5 0 0 0-1 0V8H7.75a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75H12v3H9.75a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75H12v2.5a.5.5 0 0 0 .5.5Z",clipRule:"evenodd"}),s.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M15.5 5.5h3.25a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75H15.5m-6 0H6.25a.75.75 0 0 1-.75-.75V6.25a.75.75 0 0 1 .75-.75H9.5"}))}function lZ(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.75 10A.75.75 0 0 1 6 9.25v-.5A.75.75 0 0 1 6.75 8h8.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-8.5Zm4 5a.75.75 0 0 1-.75-.75v-.5a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-4.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon)",d:"M18 17.5a.5.5 0 0 0 1 0v-12a.5.5 0 0 0-1 0v12Z"}),s.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M15.5 17.5H5.25a.75.75 0 0 1-.75-.75V6.25a.75.75 0 0 1 .75-.75H15.5"}))}var lG=n(795318),lY=n(43900),lW=n(471116),lX=n(514198),l$=n(487614),lQ=n(565012),lj=n(146708),lq=n(619310),lJ=n(467220),l0=n(174574),l5=n(503358),l1=n(496916),l7=n(678045),l2=n(180549),l4=n(687886),l3=n(399940),l8=n(391914),l6=n(341152),l9=n(116374),re=n(283804),rt=n(481928),rn=n(400658),rl=n(175895),rr=n(696875),ra=n(785828),ri=n(258654),ro=n(937476),rs=n(571262),rc=n(609091),rd=n(684391),rp=n(87428),ru=n(122302),rm=n(728642),rh=n(944584);let rg={"align-top":ra.A,"align-vertical-center":ro.A,"align-bottom":l$.A,"align-left":rt.A,"align-horizontal-center":l9.A,"align-right":rl.A,"distribute-horizontal-spacing":lG.A,"distribute-vertical-spacing":lW.A,"arrange-as-list-Y":rm.A,"arrange-as-list-X":rp.A,"arrange-as-grid":rc.A,"align-top-as-group":l4.A,"align-vertical-center-as-group":l8.A,"align-bottom-as-group":lj.A,"align-left-as-group":l5.A,"align-horizontal-center-as-group":lJ.A,"align-right-as-group":l7.A},rE={"align-top":ri.A,"align-vertical-center":rs.A,"align-bottom":lQ.A,"align-left":rn.A,"align-horizontal-center":re.A,"align-right":rr.A,"distribute-horizontal-spacing":lY.A,"distribute-vertical-spacing":lX.A,"arrange-as-list-Y":rh.A,"arrange-as-list-X":ru.A,"arrange-as-grid":rd.A,"align-top-as-group":l3.A,"align-vertical-center-as-group":l6.A,"align-bottom-as-group":lq.A,"align-left-as-group":l1.A,"align-horizontal-center-as-group":l0.A,"align-right-as-group":l2.A},r_={"align-top":lM,"align-vertical-center":lx,"align-bottom":lL,"align-left":lK,"align-horizontal-center":lF,"align-right":lD,"distribute-horizontal-spacing":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M6 5.5a.5.5 0 0 1 1 0v12a.5.5 0 0 1-1 0v-12Z"}),s.createElement("path",{fill:"var(--color-icon)",d:"M12.25 15a.75.75 0 0 0 .75-.75v-5.5a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v5.5c0 .414.336.75.75.75h.5Z"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M17 5.5a.5.5 0 0 1 1 0v12a.5.5 0 0 1-1 0v-12Z"}))},"distribute-vertical-spacing":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M18.5 6a.5.5 0 0 1 0 1h-12a.5.5 0 0 1 0-1h12Z"}),s.createElement("path",{fill:"var(--color-icon)",d:"M9 12.25c0 .414.336.75.75.75h5.5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75v.5Z"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M18.5 17a.5.5 0 0 1 0 1h-12a.5.5 0 0 1 0-1h12Z"}))},"arrange-as-list-Y":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5 6.75A.75.75 0 0 1 5.75 6h11.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75H5.75A.75.75 0 0 1 5 7.25v-.5Zm0 5a.75.75 0 0 1 .75-.75h11.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75H5.75a.75.75 0 0 1-.75-.75v-.5ZM5.75 16a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h11.5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75H5.75Z",clipRule:"evenodd"}))},"arrange-as-list-X":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.75 18a.75.75 0 0 1-.75-.75V5.75A.75.75 0 0 1 6.75 5h.5a.75.75 0 0 1 .75.75v11.5a.75.75 0 0 1-.75.75h-.5Zm5 0a.75.75 0 0 1-.75-.75V5.75a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 .75.75v11.5a.75.75 0 0 1-.75.75h-.5Zm4.25-.75c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75V5.75a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v11.5Z",clipRule:"evenodd"}))},"arrange-as-grid":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",d:"M5 5h3v3H5zm10 0h3v3h-3zm-5 0h3v3h-3zm-5 5h3v3H5zm10 0h3v3h-3zm-5 0h3v3h-3zm-5 5h3v3H5zm10 0h3v3h-3zm-5 0h3v3h-3z"}))},"align-top-as-group":lH,"align-vertical-center-as-group":lB,"align-bottom-as-group":lV,"align-left-as-group":lU,"align-horizontal-center-as-group":lz,"align-right-as-group":lZ};var rf=n(289298);let ry=parseInt("6px"),rv=["align-left","align-horizontal-center","align-right","align-top","align-vertical-center","align-bottom"],rb=["align-left-as-group","align-horizontal-center-as-group","align-right-as-group","align-top-as-group","align-vertical-center-as-group","align-bottom-as-group"],rS=["tidy-up","distribute-vertical-spacing","distribute-horizontal-spacing"],rw=s.memo(function(e){let t=(0,s.useRef)(null),[n,l]=(0,s.useState)(!1),[r,a]=rR(),i=(0,s.useCallback)(e=>{l(e.altKey||e.shiftKey)},[]);(0,s.useEffect)(()=>{function e(){l(!1)}return document.addEventListener("keydown",i),document.addEventListener("keyup",i),window.addEventListener("blur",e),()=>{document.removeEventListener("keydown",i),document.removeEventListener("keyup",i),window.removeEventListener("blur",e)}},[i]);let o=(0,lA.vm)(rb),c=function(e){let[t,n]=(0,s.useState)(0);return(0,s.useLayoutEffect)(()=>{n(rO(e.current))},[e]),(0,ew.w)(e,(0,s.useCallback)(()=>{n(rO(e.current))},[e])),t}(t),d=Math.floor(c/(24+ry));d*(24+ry)+24<=c&&++d;let[p,u]=function({visibleActionCount:e,renderGroupAlignButtons:t}){let{version:n}=(0,em.DP)(),l=t?rb:rv,r=[],a=[];if("ui2"===n)r=l,a=rS;else{let t=[...l,...rS];t.length>e?(r=t.slice(0,e-1),a=t.slice(e-1)):r=t}return[r,a]}({visibleActionCount:d,renderGroupAlignButtons:n&&r&&o});return s.createElement(b.p,{name:"align_panel"},s.createElement(eK.Zk,{className:(0,er.Zd)()?void 0:"align_panel--panel--hOaKr",onMouseMove:e=>i(e.nativeEvent),...a},s.createElement(rT,{ref:t},p.map(t=>s.createElement(rN,{key:t,action:t,recordingKey:e.recordingKey})),u.length>0&&s.createElement(rP,{actions:u,recordingKey:e.recordingKey}))))}),rT=s.forwardRef(function(e,t){let{version:n}=(0,em.DP)();return"ui3"===n?s.createElement("div",{ref:t,className:"align_panel--flexibleRow--5gjUF"},e.children):s.createElement(eK.fI,{forwardedRef:t},e.children)});function rP(e){let t=(0,n6.B)("FULLSCREEN_DISTRIBUTE_DROPDOWN"),n=(0,s.useRef)(null),{version:l}=(0,em.DP)(),r=(0,tS.Rt)(),a=(0,lA.yU)(e.actions),i=r?(0,F.t)("fullscreen.properties_panel.tooltip_moreActions"):(0,F.t)("fullscreen.properties_panel.align_panel.more_options");return s.createElement(s.Fragment,null,s.createElement(tc.E,{name:"toggle_align_options_button"},s.createElement(tB.K,{actionOnPointerDown:t.showing,ref:n,"aria-label":i,onClick:()=>{t.toggle({data:{targetRect:n.current.getBoundingClientRect()}})},disabled:"ui2"===l&&!a,recordingKey:_.Pt(e,"distributeDropdown"),"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":i},"ui2"===l?s.createElement("span",{className:"align_panel--dropdownIconHack--7hoNm"},s.createElement(rA,null),s.createElement(M.B,{svg:rf.A,className:"align_panel--ui3IconColorCompat--51gei"})):s.createElement(rA,null))),t.showing&&s.createElement(tc.E,{name:"dropdown"},s.createElement(eb.Cf,{targetRect:t.data.targetRect,propagateCloseClick:!0},e.actions.map(t=>s.createElement(rC,{key:t,action:t,recordingKey:e.recordingKey})))))}function rC(e){let{action:t}=e,n=(0,lA.Zr)(t),l=(0,ec.d4)(e=>e.mirror.appModel.keyboardShortcuts);return s.createElement(ev.a,{text:(0,lN.A)(t),isEnabled:n,hideCheck:!0,isChecked:!1,onClick:()=>{X.Y5.triggerActionInUserEditScope(t,"tidy-up"===t?{source:"panel"}:null)},key:t,shortcut:(0,ei.c1)(l,t),recordingKey:_.Pt(e,"distributeDropdown",t)},s.createElement(rk,{action:t}))}function rk({action:e}){if("tidy-up"===e)return s.createElement(rI,null);let t=r_[e];return s.createElement(eg.U,{svg:rg[e],fallbackSvg:rE[e]},t&&s.createElement(t,null))}function rI(){let e=(0,lR.kl)("detectableListAxis"),t=(0,lA.Zr)("arrange-as-grid")?"arrange-as-grid":`arrange-as-list-${(0,J._W)(e,"Y")}`,n=r_[t];return s.createElement(eg.U,{svg:rg[t],fallbackSvg:rE[t]},n&&s.createElement(n,null))}function rN(e){let t=(0,lA.Zr)(e.action),n=(0,lO.X)();return s.createElement(tc.E,{name:"align_button",alsoTrack:()=>({alignButtonAction:e.action})},s.createElement(tB.K,{as:"button",disabled:!t,onClick:()=>{X.Y5.triggerActionInUserEditScope(e.action)},onMouseDown:e=>{(null==n?void 0:n.id.startsWith("paint"))&&e.stopPropagation()},"data-tooltip-type":ef.Ib.LOOKUP,"data-tooltip":e.action,"data-tooltip-max-width":"200",recordingKey:_.Pt(e,"alignButton",e.action),key:e.action,"aria-label":e.action},s.createElement(rk,{action:e.action})))}function rA(){let{version:e}=(0,em.DP)(),t=(0,lA.Zr)("tidy-up");return"ui3"===e?s.createElement(lI.J,null):s.createElement(rk,{action:t?"tidy-up":"distribute-vertical-spacing"})}function rR(){let[e,t]=(0,s.useState)(!1);return[e,{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1)}]}function rO(e){let t=getComputedStyle(e);return parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)}var rM=n(21621),rx=n(266304),rL=n(851469),rK=n(208332),rF=n(961699),rD=n(943686);function rH({showLibrarySets:e,recordingKey:t}){let n=(0,ec.wA)(),l=(0,n6.U)(),r=s.useRef(null),a=s.useCallback(()=>{r.current&&n(eE.j7({type:rF.R,data:{targetRect:r.current.getBoundingClientRect()}}))},[n]),i=l&&l.type===rF.R;return(0,rK.A1)(e)?s.createElement(s.Fragment,null,s.createElement("div",{ref:r},s.createElement(tE.YW,{recordingKey:_.Pt(t,"applyMode"),selected:!!i,svg:rD.A,dataTestId:"applyModeButton","data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("variables.layer_panel.header.button.tooltip"),onMouseDown:e=>e.stopPropagation(),onClick:a})),s.createElement(rF.bt,{showLibrarySets:e,recordingKey:_.Pt(t,"applyModeDropdown")})):null}var rB=n(732326),rV=n(494304),rU=n(930850),rz=n(521054),rZ=n(664241),rG=n(258376);function rY({recordingKey:e}){let t=(0,rB.md)(rV.I7);return(0,rK.Tt)()&&!(0,m.kc)().ds_variables_relax_modes&&t?s.createElement(rX,{recordingKey:e}):null}let rW="VARIABLES_INCOMPATIBLE_MODES_UPDATE_DROPDOWN";function rX({recordingKey:e}){let t=(0,ec.wA)(),n=(0,n6.U)(),l=s.useRef(null),r=n&&n.type===rW,a=s.useCallback(()=>{l.current&&t(eE.j7({type:rW,data:{targetRect:l.current.getBoundingClientRect()}}))},[t]),i=s.useCallback(()=>{t(e_.to({type:rz.T,data:{initialTab:t_.Wv.UPDATES,entrypoint:rU.r6.VARIABLE_MODES_ACCEPT_UPDATES_DROPDOWN_OPTION}}))},[t]);return s.createElement(s.Fragment,null,s.createElement("div",{ref:l},s.createElement(tE.YW,{recordingKey:_.Pt(e,"updateIcon"),selected:!!r,svg:rG.A,className:rZ.l_,dataTestId:"updatesModesButton","data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("variables.layer_panel.header.update_button_direct.tooltip"),onMouseDown:e=>e.stopPropagation(),onClick:a})),r&&(l.current?s.createElement(eb.Cf,{targetRect:l.current.getBoundingClientRect(),maxWidth:226,disableDropdownScrollContainer:!0,propagateCloseClick:!0},s.createElement(s.Fragment,null,s.createElement(eh.W.Option,{className:rZ.Ig,recordingKey:_.Pt(e,"description"),key:"description",disabled:!0},(0,F.t)("variables.layer_panel.header.update_button.dropdown.description")),s.createElement(eh.W.Separator,null),s.createElement(eh.W.Option,{onClick:i,recordingKey:_.Pt(e,"review-update"),key:"review_update"},(0,F.t)("variables.layer_panel.header.update_button_direct.dropdown.option")))):null))}var r$=n(204459),rQ=n(998941),rj=n(473823),rq=n(554207),rJ=n(921325),r0=n(771963);class r5 extends s.PureComponent{constructor(e){super(e),this.chitRowRef=s.createRef(),this.colorFormatter=rx.TI,this.onColorChange=(e,t)=>{let n=e.a;e.a=1,X.Y5.updateSelectionProperties({backgroundColor:e,backgroundOpacity:n,backgroundEnabled:!0},{shouldCommit:t})},this.onColorChangeWithoutAlpha=(e,t)=>{X.Y5.updateSelectionProperties({backgroundColor:e,backgroundEnabled:!0},{shouldCommit:t})},this.onOpacityChange=(e,t)=>{X.Y5.updateSelectionProperties({backgroundOpacity:e,backgroundEnabled:0!==e},{shouldCommit:t})},this.onBackgroundEnabledChange=e=>X.Y5.updateSelectionProperties({backgroundEnabled:e}),this.onExportBackgroundDisabledChange=e=>{X.Y5.updateSelectionProperties({exportBackgroundDisabled:!e})},this.toggleColorPicker=()=>{if(this.props.pickerShown&&this.props.pickerShown.id===z.k8)this.props.dispatch(D.XE());else{(0,m.kc)().ce_properties_panel_tracking&&(0,p.sx)("editor-background-panel-color-picker-show");let e=this.chitRowRef.current?(0,ey.cn)(this.chitRowRef.current):{x:0,y:0};this.props.dispatch(D.u1({id:z.k8,initialX:e.x,initialY:e.y})),this.props.dispatch(B.sw())}},this.mergeColorAndOpacity=(0,nM.xx)(e=>{let t=(0,J.E7)(e.backgroundColor),n=(0,J.E7)(e.backgroundOpacity);return null!=t&&null!=n?{...t,a:n}:e.backgroundColor||J.oV})}get opacity(){return(0,J.hS)(this.props.backgroundOpacity)&&"number"==typeof this.props.backgroundOpacity&&isNaN(this.props.backgroundOpacity)?0:this.props.backgroundOpacity}renderInputWithChit(){return s.createElement("div",{className:"background_panel--colorValueContainer---lsls paint_panels--colorValueContainer--DGeSP raw_components--borderFocusWithin--BaipZ paint_panels--_baseColorValueContainer--t-UIV raw_components--base--T7G0z raw_components--singleRowHeight--dKM4t"},s.createElement(rQ.J,{color:this.mergeColorAndOpacity(this.props),opacity:this.opacity,onMouseDown:this.toggleColorPicker,recordingKey:_.Pt(this.props,"colorChit"),className:"background_panel--chit--EQGLT paint_panels--chit--twQEy"}),s.createElement(rq.AN,{className:this.props.backgroundEnabled?"background_panel--color--sBAtd paint_panels--colorInput--nSz13":"background_panel--colorHidden--CEpXN paint_panels--colorInputHidden--ZojfD paint_panels--colorInput--nSz13",formatter:this.colorFormatter,property:this.props.backgroundColor,onChange:this.onColorChangeWithoutAlpha,recordingKey:_.Pt(this.props,"color"),noBorderOnFocus:!0}),s.createElement(rL.Pd,{className:"background_panel--opacity--nwSdu paint_panels--opacityInputContainer--oqlsk",inputClassName:this.props.backgroundEnabled?void 0:"background_panel--opacityInputHidden--2-b0t paint_panels--opacityInputHidden--I2GEk",value:this.opacity,onValueChange:this.onOpacityChange,dispatch:this.props.dispatch,noBorderOnFocus:!0,recordingKey:_.Pt(this.props,"opacity")}))}renderVisibilityToggleButton(){return s.createElement("span",{className:"background_panel--visible--2-4Ns"},s.createElement(r0.B,{visible:this.props.backgroundEnabled,onChange:this.onBackgroundEnabledChange,recordingKey:_.Pt(this.props,"visibleToggle")}))}renderSimpleBackground(){return s.createElement("div",null,s.createElement(eK.fI,{className:"background_panel--panelTitleRow--uNINf"},s.createElement(eK.xw,null,s.createElement(F.Tx,{id:"fullscreen.properties_panel.page"})),s.createElement(rY,{recordingKey:"pageLevel"}),s.createElement(rH,{showLibrarySets:!0,recordingKey:"pageLevel"})),"ui2"===this.props.theme.version?this.renderUI2ColorInput():this.renderUI3ColorInput())}renderUI3ColorInput(){return s.createElement(tw.DE,{ref:this.chitRowRef,label:null,input:this.renderInputWithChit(),icon:this.renderVisibilityToggleButton()})}renderUI2ColorInput(){return s.createElement(s.Fragment,null,s.createElement(eK.fI,{forwardedRef:this.chitRowRef},this.renderInputWithChit(),this.renderVisibilityToggleButton()))}render(){var e;return s.createElement(b.p,{name:"background_panel"},s.createElement(eK.Zk,null,this.renderSimpleBackground(),this.props.hasExports&&s.createElement(eK.fI,{className:"background_panel--checkboxLabelRow--r-hmK"},s.createElement(r$.t,{className:"background_panel--checkbox--6U3j-",id:"export-background-disabled",property:this.props.exportBackgroundDisabled===J.oV?J.oV:!this.props.exportBackgroundDisabled,onChange:this.onExportBackgroundDisabledChange,recordingKey:_.Pt(this.props,"exportDisableCheckbox")}),s.createElement(eK.JU,{className:"background_panel--checkboxLabel--ITthj",htmlFor:"export-background-disabled","data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports")},s.createElement(F.Tx,{id:"fullscreen.properties_panel.show_in_exports"}))),(null==(e=this.props.pickerShown)?void 0:e.id)===z.k8&&s.createElement(rj.sk,{disabledVariableIds:new Set,title:(0,F.t)("fullscreen.properties_panel.background"),initialPosition:new N.Mi(this.props.pickerShown.initialX,this.props.pickerShown.initialY),color:(0,J.hS)(this.mergeColorAndOpacity(this.props))?(0,J.E7)(this.mergeColorAndOpacity(this.props)):{r:1,g:1,b:1,a:1},boundVariable:null,onChange:this.onColorChange,recordingKey:_.Pt(this.props,"colorPicker")}),s.createElement(rJ.wu,{showExplicitOnly:!0,recordingKey:"backgroundPanel-variableModeEntries"})))}}r5.displayName="BackgroundPanel";let r1=(0,em.SL)(r5);var r7=n(156321);function r2(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 8.5a.5.5 0 0 1 .5.5v5a.5.5 0 1 1-1 0v-2H7v2a.5.5 0 0 1-1 0V9a.5.5 0 0 1 1 0v2h9V9a.5.5 0 0 1 .5-.5Z",clipRule:"evenodd"}))}function r4(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8.5 6.5A.5.5 0 0 1 9 6h5a.5.5 0 0 1 0 1h-2v9h2a.5.5 0 0 1 0 1H9a.5.5 0 0 1 0-1h2V7H9a.5.5 0 0 1-.5-.5Z",clipRule:"evenodd"}))}var r3=n(159849),r8=n(816665),r6=n(438806),r9=n(235107);function ae(e){return"HORIZONTAL"===e?r9.A:r6.A}class at{constructor(e){this.isHorizontal="HORIZONTAL"===e}format(e){switch(e){case"MIN":return this.isHorizontal?(0,F.t)("fullscreen.properties_panel.constraints_panel.select.left"):(0,F.t)("fullscreen.properties_panel.constraints_panel.select.top");case"MAX":return this.isHorizontal?(0,F.t)("fullscreen.properties_panel.constraints_panel.select.right"):(0,F.t)("fullscreen.properties_panel.constraints_panel.select.bottom");case"STRETCH":return this.isHorizontal?(0,F.t)("fullscreen.properties_panel.constraints_panel.select.left_and_right"):(0,F.t)("fullscreen.properties_panel.constraints_panel.select.top_and_bottom");case"CENTER":return(0,F.t)("fullscreen.properties_panel.constraints_panel.select.center");case"SCALE":return(0,F.t)("fullscreen.properties_panel.constraints_panel.select.scale");default:return""}}}var an=n(344525);let al="constraint_select--chevron--vKwBF",ar="constraint_select--input--daUMm",aa=new class{format(e){if("AUTO"===e)return(0,F.t)("fullscreen.auto")}};function ai(e){return"HORIZONTAL"===e?s.createElement(r2,null):s.createElement(r4,null)}function ao(e){let{version:t}=(0,em.DP)(),n=am();if(e.readOnly&&(0,J.hS)(e.constraint)){let t=new at(e.axis).format(e.constraint);return s.createElement("div",{className:d()(e.className,"constraint_select--flexContainer--a9ZPi")},s.createElement(M.B,{svg:ae(e.axis),className:an.Vb}),s.createElement("span",{className:"constraint_select--readOnlyText--uBzWh ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},t))}let l=new at(e.axis);return"ui3"===t&&n?s.createElement(r8.l6,{id:e.id,chevronClassName:al,inputClassName:ar,className:e.className,dispatch:e.dispatch,dropdownShown:e.dropdownShown,property:"AUTO",formatter:aa,ui3Icon:ai(e.axis),svg:ae(e.axis),onChange:r3.lQ,disabled:n,recordingKey:_.Pt(e,"select")},s.createElement(r8.c$,{key:"AUTO",value:"AUTO",disabled:!0})):s.createElement(r8.l6,{id:e.id,chevronClassName:al,inputClassName:ar,className:e.className,dispatch:e.dispatch,dropdownShown:e.dropdownShown,property:e.constraint,formatter:l,ui3Icon:ai(e.axis),svg:ae(e.axis),onChange:t=>{let n="HORIZONTAL"===e.axis?"horizontalConstraint":"verticalConstraint";e.updateConstraints({[n]:t},!0)},disabled:n,recordingKey:_.Pt(e,"select")},["MIN","MAX","STRETCH","CENTER","SCALE"].map(t=>{let l=e.disableStretchScaleConstraints&&["STRETCH","SCALE"].includes(t);return s.createElement(r8.c$,{key:t,value:t,recordingKey:_.Pt(e,"select",t),disabled:n||l})}))}let as="constraint_selector--outerRow--vEwHH",ac="constraint_selector--compactOuterRow--lVbKK constraint_selector--outerRow--vEwHH",ad="constraint_selector--hover--QinHp";function ap(e){let[t,n]=(0,s.useState)(null),[l,r]=(0,s.useState)(null),{version:a}=(0,em.DP)(),i=am(),o="ui3"===a&&i?void 0:e.horizontalConstraint,c="ui3"===a&&i?void 0:e.verticalConstraint,p=e=>["top","bottom"].includes(e)?"VERTICAL":"HORIZONTAL",u=e=>"HORIZONTAL"===e?o:c,m=e=>e.shiftKey||e.metaKey,h=(t,n)=>l=>{if(e.readOnly)return;let r=n;if(m(l)){let l="MIN"===n?"MAX":"MIN",a=u(t),i="VERTICAL"===t?!e.disableVerticalStretchScaleConstraints:!e.disableHorizontalStretchScaleConstraints;a===n&&i?r="SCALE":a===l&&i?r="STRETCH":"STRETCH"===a&&(r=l)}"VERTICAL"===t?e.updateConstraints({verticalConstraint:r}):e.updateConstraints({horizontalConstraint:r})},g=t=>()=>{e.readOnly||n(t)},E=()=>{n(null)},f=e=>{let t=e.target.parentElement;if(!t)return console.error(`constraint selector inner target element is ${t}`),null;let{top:n,left:l,width:r,height:a}=t.getBoundingClientRect(),i=Math.abs(e.clientX-l-r/2),o=Math.abs(e.clientY-n-a/2);return i<3&&o<3?"HORIZONTAL":i<o?"VERTICAL":"HORIZONTAL"},y=t=>{if(!e.readOnly){if("CENTER"!==c||m(t)){if("CENTER"!==o||m(t)){if("VERTICAL"===f(t)){let n=m(t)&&"CENTER"===c?"SCALE":"CENTER";e.updateConstraints({verticalConstraint:n})}else{let n=m(t)&&"CENTER"===o?"SCALE":"CENTER";e.updateConstraints({horizontalConstraint:n})}}else e.updateConstraints({verticalConstraint:"CENTER"})}else e.updateConstraints({horizontalConstraint:"CENTER"})}},v=t=>{e.readOnly||("CENTER"===c?r("HORIZONTAL"):"CENTER"===o?r("VERTICAL"):r(f(t)))},b=()=>{r(null)},S=e=>d()({"constraint_selector--selected--Eb73C":e,"constraint_selector--disabled--hLCxk":i}),w=(n,l)=>{let r="HORIZONTAL"===p(n)?e.isCompact?"constraint_selector--compactOuterHorizontalHandle--LVIo0 constraint_selector--outerHorizontalHandle--5Riwa constraint_selector--_handle--LH-q2":"constraint_selector--outerHorizontalHandle--5Riwa constraint_selector--_handle--LH-q2":e.isCompact?"constraint_selector--compactOuterVerticalHandle--bF8mY constraint_selector--outerVerticalHandle--SrFsJ constraint_selector--_handle--LH-q2":"constraint_selector--outerVerticalHandle--SrFsJ constraint_selector--_handle--LH-q2";return d()(r,S(l),{[ad]:t===n&&!i})},T=(t,n)=>{let r="HORIZONTAL"===t?e.isCompact?"constraint_selector--compactInnerHorizontalHandle--voVqQ constraint_selector--_compactInnerHandle--gqwrT constraint_selector--_handle--LH-q2":"constraint_selector--innerHorizontalHandle--Zfxr0 constraint_selector--_innerHandle--UA2jx constraint_selector--_handle--LH-q2":e.isCompact?"constraint_selector--compactInnerVerticalHandle--UTZB- constraint_selector--_compactInnerHandle--gqwrT constraint_selector--_handle--LH-q2":"constraint_selector--innerVerticalHandle--slyp1 constraint_selector--_innerHandle--UA2jx constraint_selector--_handle--LH-q2";return d()(r,S(n),{[ad]:l===t&&!i})},P=t=>{let n=p(t),l=u(n),r=["top","left"].includes(t)?"MIN":"MAX",a=[r,"STRETCH"].includes(l),i="HORIZONTAL"===n?e.isCompact?"constraint_selector--compactOuterHorizontalTarget--5-m-j constraint_selector--outerHorizontalTarget--2Tsd3":"constraint_selector--outerHorizontalTarget--2Tsd3":e.isCompact?"constraint_selector--compactOuterVerticalTarget--0Lb9I constraint_selector--outerVerticalTarget--m0eT7":"constraint_selector--outerVerticalTarget--m0eT7",o=w(t,a);return s.createElement(tG.D8,{className:i,recordingKey:_.Pt(e,"constraint",t),onMouseDown:h(n,r),onMouseEnter:g(t),onMouseLeave:E},s.createElement("div",{className:o}))},C=t=>{let n="centerX"===t?"HORIZONTAL":"VERTICAL",l=u(n);return s.createElement(tG.D8,{className:T(n,"CENTER"===l),recordingKey:_.Pt(e,"constraint",t)})};return s.createElement("div",{className:e.isCompact?"constraint_selector--compactSelectorContainer--tn5PR constraint_selector--selectorContainer--stEPY":"constraint_selector--selectorContainer--stEPY"},s.createElement("div",{className:e.isCompact?ac:as},P("top")),s.createElement("div",{className:"constraint_selector--innerRow--Sq9bp"},P("left"),(()=>{let t=C("centerX"),n=C("centerY");return s.createElement("div",{className:e.isCompact?"constraint_selector--compactInnerTarget--RzKnh constraint_selector--innerTarget--8C-rg":"constraint_selector--innerTarget--8C-rg",onMouseDown:y,onMouseMove:v,onMouseLeave:b},"CENTER"===o?s.createElement(s.Fragment,null,n,t):s.createElement(s.Fragment,null,t,n))})(),P("right")),s.createElement("div",{className:e.isCompact?ac:as},P("bottom")))}function au(){return(0,ts.R)(e=>{var t;let n=e.mirror.selectionProperties;return{openFileKey:null==(t=e.openFile)?void 0:t.key,stackMode:n.stackMode,stackLayoutSizeOptions:n.stackLayoutSizeOptions,stackHorizontalSize:n.stackHorizontalSize,stackVerticalSize:n.stackVerticalSize,stackPositioning:n.stackPositioning,someConstraintItemsSelected:n.someNodesAreConstraintItems,nodesAreAllInsideStacks:n.nodesAreAllInsideStacks,horizontalConstraint:n.horizontalConstraint,verticalConstraint:n.verticalConstraint,scrollBehavior:n.scrollBehavior,allHaveScrollableFrameAsParent:n.allHaveScrollableFrameAsParent,hasHorizontallyScrollingParent:n.hasHorizontallyScrollingParent,hasVerticallyScrollingParent:n.hasVerticallyScrollingParent,isInstanceSublayerSelected:!!n.isInstanceSublayerSelected,hasMinOrMaxWidth:null!=n.minWidth||null!=n.maxWidth,hasMinOrMaxHeight:null!=n.minHeight||null!=n.maxHeight}})}function am(){let e=au(),{version:t}=(0,em.DP)();return e.isInstanceSublayerSelected||"ui3"===t&&e.nodesAreAllInsideStacks&&"AUTO"===e.stackPositioning||!1}function ah(e){let t=(0,ec.wA)(),{version:n}=(0,em.DP)(),l=au(),r=e=>{if(("HORIZONTAL"===e?l.stackHorizontalSize:l.stackVerticalSize)===et.mKm.FILL_CONTAINER||"NONE"!==l.stackMode&&("HORIZONTAL"===e?l.hasMinOrMaxWidth:l.hasMinOrMaxHeight))return!0;if(l.scrollBehavior!==J.oV&&"FIXED_WHEN_CHILD_OF_SCROLLING_FRAME"!==l.scrollBehavior)return!1;let t="HORIZONTAL"===e?l.hasHorizontallyScrollingParent:l.hasVerticallyScrollingParent;return!!(0,J.E7)(t)},a=(t,n=!1)=>{l.isInstanceSublayerSelected||((0,p.sx)("Constraint Changed",{fileKey:e.openFileKey,source:n?"dropdown":"panel",...t}),X.Y5.updateSelectionProperties(t))},i=r("HORIZONTAL"),o=r("VERTICAL"),c=s.createElement(tc.E,{name:"constraint_selector"},s.createElement(ap,{horizontalConstraint:l.horizontalConstraint,verticalConstraint:l.verticalConstraint,someConstraintItemsSelected:l.someConstraintItemsSelected,updateConstraints:a,disableHorizontalStretchScaleConstraints:i,disableVerticalStretchScaleConstraints:o,dispatch:t,recordingKey:_.Pt(e,"constraintSelector"),readOnly:e.readOnly})),d=s.createElement(tc.E,{name:"width_select"},s.createElement(ao,{id:"width-select",className:"constraints_panel--stackWidthDropdown--mbkWx constraints_panel--_sizeDropdown--1d1H2",axis:"HORIZONTAL",constraint:l.horizontalConstraint,updateConstraints:a,someConstraintItemsSelected:l.someConstraintItemsSelected,disableStretchScaleConstraints:i,dispatch:t,dropdownShown:e.dropdownShown,recordingKey:_.Pt(e,"width"),readOnly:e.readOnly})),u=s.createElement(tc.E,{name:"height_select"},s.createElement(ao,{id:"height-select",className:"constraints_panel--stackHeightDropdown--Aj-c5 constraints_panel--_sizeDropdown--1d1H2",axis:"VERTICAL",constraint:l.verticalConstraint,updateConstraints:a,someConstraintItemsSelected:l.someConstraintItemsSelected,disableStretchScaleConstraints:o,dispatch:t,dropdownShown:e.dropdownShown,recordingKey:_.Pt(e,"height"),readOnly:e.readOnly}));return"ui3"===n?s.createElement("div",{className:"constraints_panel--ui3Container--xPomZ"},c,s.createElement("div",{className:"constraints_panel--ui3Selects--ira8c"},d,u)):s.createElement(eK.fI,{heightMultiplier:2,className:"constraints_panel--container--bilN5"},c,d,u)}function ag(e){let t=au();return e.readOnly?s.createElement(ah,{...e}):t.nodesAreAllInsideStacks&&"AUTO"===t.stackPositioning?null:s.createElement(eK.Zk,null,s.createElement(eK.fI,null,s.createElement(eK.xw,{extended:!0},s.createElement(F.Tx,{id:"fullscreen.properties_panel.constraints_panel.constraints"}))),s.createElement(ah,{...e}))}function aE(e){return s.createElement(b.p,{name:"constraints_panel"},s.createElement(ag,{...e}))}var a_=n(371875),af=n(405622);function ay(e){let t=(0,tS.Rt)(tS.G1.READY),{productComponent:n}=e;return t||("SYMBOL"!==n.type||n.isState)&&!n.isStateGroup?null:s.createElement(b.p,{name:"containing_assets_panel"},s.createElement(eK.Zk,null,s.createElement(eK.fI,null,s.createElement(eK.xw,{className:a_.Dn},s.createElement(F.Tx,{id:"design_systems.component_panel.parent_component"}))),s.createElement(tc.E,{name:"select_component_button"},s.createElement(eK.fI,{className:a_.D9,onClick:()=>{q.tJ([n.guid])},recordingKey:"containingComponentPanel.jumpTo"},s.createElement(M.B,{svg:tt.A,className:a_.Vo}),s.createElement("div",{className:a_.TQ},n.name),s.createElement("div",{className:a_.UD},s.createElement(M.B,{"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.component_panel.select_component"),svg:af.A,className:a_.dC}))))))}function av(){let e=(0,ts.R)(eM.Lg);return(0,nf.Jk)(e)}function ab(e){let t=Object.keys(e);return(0,nf.Fk)((e,t)=>t.every(t=>{let n=e.get(t);return n&&"SYMBOL"===n.type&&n.isState}),t)}function aS(){let e=av();return e?s.createElement(ay,{productComponent:e}):null}function aw(e){let t=ab(e.selection),n=!e.scaleShouldHideOtherPanels&&(!e.shownPanels[$.ibQ.COMPONENT_ITEM]||t),l=(0,s.useRef)(new ea.H4(()=>s.createElement(aS,{key:"containingAssets"})));return s.createElement(s.Fragment,null,l.current.render(n))}var aT=n(876070),aP=n(472497),aC=n(667777),ak=n(487383),aI=n(180927),aN=n(849359),aA=n(731939);function aR(e){let t=(0,nD.q5)(),n=(0,aA.usePermissionsState)(),l=(0,en.IW)(e.stylePreviewShown),r=(0,aN.$Q)(null==l?void 0:l.file_key).data;if(!l||!r)return null;let a=(0,ak.to)(r);return a=(0,aP.dR)(a,{"node-id":encodeURIComponent((0,aI.E)(l.node_id))}),s.createElement(b.p,{name:"external_style_options"},s.createElement(eK.Zk,{key:"external-style-options"},(0,aC.J)({openFile:t,permissionsState:n,user:e.user,sourceLibraryFile:r})&&s.createElement(eK.fI,null,s.createElement(e5.N_,{className:ng.lf,href:a,target:"_blank",trusted:!0},s.createElement(F.Tx,{id:"fullscreen.properties_panel.go_to_style_definition_to_edit"})))))}var aO=n(766503),aM=n(532851),ax=n(648626);let aL="frame_presets--presetHeader--TKb-G";var aK=n(969537);class aF extends _.o6{constructor(){super(...arguments),this.toggleSection=e=>{this.props.expandedFramePresetType===e&&(e=$.EYD.NONE),(0,Q.UK)().expandedFramePresetType.set(e)},this.onSelectPreset=e=>{eR.l7.user("select-frame-preset",()=>{let t=`${e.name} -`;$.glU.createFrame(t,e.width,e.height),this.props.dispatch(D.sx({name:"Frame Size Preset Chosen",params:{method:"Frame Tool Preset List",deviceName:e.name}})),$.X3B.updateCurrentPagePrototypeDeviceIfNecessary()})}}render(){return s.createElement(b.p,{name:"frame_presets"},s.createElement("div",null,s.createElement(eK.fI,null,s.createElement(eK.xw,null,s.createElement(F.Tx,{id:"proto.frame_preset_panel.frame"}))),s.createElement(aD,{name:(0,F.t)("proto.frame_preset_panel.phone"),expanded:this.props.expandedFramePresetType===$.EYD.PHONE,onMouseDown:this.toggleSection.bind(this,$.EYD.PHONE),recordingKey:_.Pt(this.props,"phoneToggle")}),this.props.expandedFramePresetType===$.EYD.PHONE&&s.createElement(aH,{framePresets:ax.sE.phonePresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Pt(this.props,"phoneRows")}),s.createElement(aD,{name:(0,F.t)("proto.frame_preset_panel.tablet"),expanded:this.props.expandedFramePresetType===$.EYD.TABLET,onMouseDown:this.toggleSection.bind(this,$.EYD.TABLET),recordingKey:_.Pt(this.props,"framePresetPanel","tabletToggle")}),this.props.expandedFramePresetType===$.EYD.TABLET&&s.createElement(aH,{framePresets:ax.sE.tabletPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Pt(this.props,"tabletRows")}),s.createElement(aD,{name:(0,F.t)("proto.frame_preset_panel.desktop"),expanded:this.props.expandedFramePresetType===$.EYD.DESKTOP,onMouseDown:this.toggleSection.bind(this,$.EYD.DESKTOP),recordingKey:_.Pt(this.props,"desktopToggle")}),this.props.expandedFramePresetType===$.EYD.DESKTOP&&s.createElement(aH,{framePresets:ax.sE.desktopPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Pt(this.props,"desktopRows")}),s.createElement(aD,{name:(0,F.t)("proto.frame_preset_panel.presentation"),expanded:this.props.expandedFramePresetType===$.EYD.PRESENTATION,onMouseDown:this.toggleSection.bind(this,$.EYD.PRESENTATION),recordingKey:_.Pt(this.props,"presentationToggle")}),this.props.expandedFramePresetType===$.EYD.PRESENTATION&&s.createElement(aH,{framePresets:ax.sE.presentationPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Pt(this.props,"presentationRows")}),s.createElement(aD,{name:(0,F.t)("proto.frame_preset_panel.watch"),expanded:this.props.expandedFramePresetType===$.EYD.WATCH,onMouseDown:this.toggleSection.bind(this,$.EYD.WATCH),recordingKey:_.Pt(this.props,"watchToggle")}),this.props.expandedFramePresetType===$.EYD.WATCH&&s.createElement(aH,{framePresets:ax.sE.watchPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Pt(this.props,"watchRows")}),s.createElement(aD,{name:(0,F.t)("proto.frame_preset_panel.paper"),expanded:this.props.expandedFramePresetType===$.EYD.PAPER,onMouseDown:this.toggleSection.bind(this,$.EYD.PAPER),recordingKey:_.Pt(this.props,"paperToggle")}),this.props.expandedFramePresetType===$.EYD.PAPER&&s.createElement(aH,{framePresets:ax.sE.paperPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Pt(this.props,"paperRows")}),s.createElement(aD,{name:(0,F.t)("proto.frame_preset_panel.social_media"),expanded:this.props.expandedFramePresetType===$.EYD.SOCIALMEDIA,onMouseDown:this.toggleSection.bind(this,$.EYD.SOCIALMEDIA),recordingKey:_.Pt(this.props,"socialMediaToggle")}),this.props.expandedFramePresetType===$.EYD.SOCIALMEDIA&&s.createElement(aH,{framePresets:ax.sE.socialMediaPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Pt(this.props,"socialMediaRows")}),s.createElement(aD,{name:(0,F.t)("proto.frame_preset_panel.figma_community"),expanded:this.props.expandedFramePresetType===$.EYD.FIGMA,onMouseDown:this.toggleSection.bind(this,$.EYD.FIGMA),recordingKey:_.Pt(this.props,"figmaToggle")}),this.props.expandedFramePresetType===$.EYD.FIGMA&&s.createElement(aH,{framePresets:ax.sE.figmaPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Pt(this.props,"figmaRows")}),s.createElement(aD,{name:(0,F.t)("proto.frame_preset_panel.archive"),expanded:this.props.expandedFramePresetType===$.EYD.ARCHIVE,onMouseDown:this.toggleSection.bind(this,$.EYD.ARCHIVE),recordingKey:_.Pt(this.props,"archiveToggle")}),this.props.expandedFramePresetType===$.EYD.ARCHIVE&&s.createElement(aH,{framePresets:ax.sE.archivedPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Pt(this.props,"archiveRows")})))}}aF.displayName="FramePresetPanel";class aD extends _.o6{render(){return s.createElement(b.p,{name:"frame_preset_header_panel"},s.createElement(eK.Zk,{onMouseDown:this.props.onMouseDown,recordingKey:this.props.recordingKey,className:this.props.expanded?"frame_presets--presetHeaderExpanded--Qjd4B frame_presets--presetHeader--TKb-G":aL},s.createElement(eK.fI,{className:aL},s.createElement("div",{className:"frame_presets--caretAndName---NO1X"},s.createElement(M.B,{className:this.props.expanded?"frame_presets--caretDown--fFNWX frame_presets--caret--UJlom":"frame_presets--caret--UJlom",svg:this.props.expanded?nq.A:nJ.A}),s.createElement("div",{className:"frame_presets--name--54TF2"},this.props.name)))))}}aD.displayName="FramePresetHeader";class aH extends _.o6{constructor(){super(...arguments),this.onSelectPreset=e=>this.props.onSelectPreset(e)}render(){return s.createElement(b.p,{name:"frame_presets_list_panel"},s.createElement(eK.Zk,{className:"frame_presets--presetList--ayuEn"},this.props.framePresets.map(e=>s.createElement(eK.fI,{className:"frame_presets--presetRow--xaZa5",key:e.name,onMouseDown:this.onSelectPreset.bind(this,e),recordingKey:_.Pt(this.props,e.name)},s.createElement("div",{className:"frame_presets--presetName--q2eD4"},e.i18nName()),s.createElement("div",{className:"frame_presets--presetDimensions--ebk8Q"},e.width,"\u200A\xd7\u200A",e.height," ")))))}}aH.displayName="FramePresetList";class aB extends _.o6{constructor(){super(...arguments),this.state={focusedPreset:void 0},this.formatter={format:e=>e===$.V$M.FRAME?(0,F.t)("viewer.options_menu.frame"):e===$.V$M.GROUP?(0,F.t)("viewer.options_menu.group"):e===$.V$M.SECTION?(0,F.t)("viewer.options_menu.section"):e,isEqual:(e,t)=>e===t},this.onChange=e=>{if("number"==typeof e)e===$.V$M.SECTION&&this.changeSelectionToSection(),e===$.V$M.FRAME&&this.getFrameOrGroupOrSectionOrMixed()===$.V$M.SECTION&&this.changeSelectionSectionToFrame(),this.changeSelectionToFrameOrGroup(e);else{let t=ax.EZ[e];this.setPreset(t)}},this.changeSelectionToSection=()=>{X.Y5.triggerActionInUserEditScope("replace-selected-frame-with-section")},this.changeSelectionSectionToFrame=()=>{X.Y5.triggerActionInUserEditScope("replace-selected-section-with-frame")},this.changeSelectionToFrameOrGroup=e=>{eR.l7.user("change-selection-to-frame-or-group",()=>{$.glU.changeSelectionToFrameOrGroup(e),$.X3B.updateCurrentPagePrototypeDeviceIfNecessary()})},this.setPreset=e=>{this.props.dispatch(D.sx({name:"Frame Size Preset Chosen",params:{method:"Transform Panel",deviceName:e.name}})),eR.l7.user("set-frame-preset",()=>{$.glU.makeSelectedFramesManuallySized(),X.Y5.updateSelectionProperties({width:e.width,height:e.height}),$.X3B.updateCurrentPagePrototypeDeviceIfNecessary()})},this.getFrameOrGroupOrSectionOrMixed=()=>(0,J.hS)(this.props.resizeToFit)?this.props.resizeToFit?$.V$M.GROUP:this.props.isSection?$.V$M.SECTION:$.V$M.FRAME:J.oV,this.onFocus=e=>{this.setState({focusedPreset:e})},this.renderPresetOption=(e,t)=>{var n,l;return s.createElement(r8.c$,{value:e.name,key:t,recordingKey:_.Pt(this.props,e.name),focused:!((null==(n=this.state.focusedPreset)?void 0:n.name)!==e.name)},s.createElement(aU,{framePreset:e,focused:!((null==(l=this.state.focusedPreset)?void 0:l.name)!==e.name)}))}}render(){let e=[],t=this.getFrameOrGroupOrSectionOrMixed(),n=(0,J.hS)(this.props.width)&&(0,J.hS)(this.props.height)?(0,ax.fS)({width:this.props.width,height:this.props.height}):null;(0,J.hS)(t)&&e.push(t),n&&e.push(n.name),0===e.length&&e.push(J.oV);let l=e[0],r=this.props.isWidget,a=!this.props.isSection,i=!this.props.isOrInInstance;return s.createElement(tc.E,{name:"frame_preset_select"},s.createElement(r8.l6,{icon:this.props.leftIcon,className:this.props.selectClassName,inputClassName:this.props.inputClassName,chevronClassName:"frame_presets--framePresetDropdownChevron--0rJxs",id:this.props.id,property:l,multipleSelections:e,formatter:this.formatter,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownClassName:"frame_presets--presetDropdown----7Sd",recordingKey:_.Pt(this.props,"select"),onOptionFocus:this.onFocus,disabled:r},s.createElement(r8.c$,{value:$.V$M.SECTION,recordingKey:_.Pt(this.props,"SECTION"),disabled:!this.props.canBecomeSection}),s.createElement(r8.c$,{value:$.V$M.FRAME,recordingKey:_.Pt(this.props,"FRAME"),disabled:!i||!this.props.canBecomeFrame}),s.createElement(r8.c$,{value:$.V$M.GROUP,recordingKey:_.Pt(this.props,"GROUP"),disabled:!this.props.canBecomeGroup}),a&&s.createElement(r8.sK,null),a&&ax.sE.phonePresets.map(this.renderPresetOption),a&&s.createElement(r8.sK,null),a&&ax.sE.tabletPresets.map(this.renderPresetOption),a&&s.createElement(r8.sK,null),a&&ax.sE.desktopPresets.map(this.renderPresetOption),a&&s.createElement(r8.sK,null),a&&ax.sE.presentationPresets.map(this.renderPresetOption),a&&s.createElement(r8.sK,null),a&&ax.sE.watchPresets.map(this.renderPresetOption),a&&s.createElement(r8.sK,null),a&&ax.sE.paperPresets.map(this.renderPresetOption),a&&s.createElement(r8.sK,null),a&&ax.sE.socialMediaPresets.map(this.renderPresetOption),a&&s.createElement(r8.sK,null),a&&ax.sE.figmaPresets.map(this.renderPresetOption),a&&s.createElement(r8.sK,null),a&&ax.sE.archivedPresets.map(this.renderPresetOption)))}}function aV(e){return s.createElement("span",{className:e.className},s.createElement(tE.K0,{onClick:()=>{X.Y5.triggerActionInUserEditScope("resize-to-fit")},recordingKey:e.recordingKey,dataTestId:"resize-to-fit-button","data-tooltip-type":ef.Ib.LOOKUP,"data-tooltip":"resize-to-fit"},s.createElement(eg.U,{svg:aK.A},s.createElement(aO.F,null))))}function aU({focused:e,framePreset:t}){let[n,l]=s.useState(!1);return s.createElement("div",{className:e?"frame_presets--presetOptionFocused--xoc2A":"frame_presets--presetOption--FUHPW"},s.createElement(aM.ph,{text:t.i18nName(),className:"frame_presets--frameName--LztZn",onTruncationChange:e=>{n!==e&&l(e)}}),s.createElement("span",{className:n?"frame_presets--frameDimensions--EoK8C":""},t.width,"\u200A\xd7\u200A",t.height))}aB.displayName="FramePresetDropdown";var az=n(996582),aZ=n(575446),aG=n(517868),aY=n(208529),aW=n(985850);let aX=s.forwardRef(function({instanceDescription:e,containingStateGroupLinks:t,containingStateGroupDescription:n,isDescriptionPaneOpen:l,onOpenDescriptionPane:r},a){let i=(0,ek.yr)(),o=s.useMemo(()=>{var l,r,a;return e?(0,eS.A)(e):(null==(l=null==i?void 0:i[0])?void 0:l.uri)?null==(r=null==i?void 0:i[0])?void 0:r.uri:n?(0,eS.A)(n):(null==(a=null==t?void 0:t[0])?void 0:a.uri)??void 0},[e,i,t,n]),c=s.useRef(null),d=eT({ref:c,text:o}),p=s.useCallback(()=>r(!0),[r]),u=s.useMemo(()=>{let r=!!((null==i?void 0:i.length)||(null==t?void 0:t.length)),a=!!(e&&n);return!l&&(d||a||r)},[n,null==t?void 0:t.length,e,l,null==i?void 0:i.length,d]);return null==o?null:s.createElement("div",{className:"instance_description_preview--wrapper--YGSF3 text--fontPos11--2LvXf text--_fontBase--QdLsd",ref:a},s.createElement("div",{className:"instance_description_preview--description--726Xi ellipsis--ellipsis--Tjyfa",ref:c},o),u&&s.createElement("div",{className:"instance_description_preview--showMore--7-DPO",onClick:p,role:"button",tabIndex:0},s.createElement(F.Tx,{id:"design_systems.instance_panel.show_more"})))});var a$=n(687881);function aQ(e){let t=(0,ec.d4)(eM.Lg),{nestedInstances:n}=(0,aW.p)(e);return t&&!n.length?void 0:tp.NA.INSTANCE_SWAP_PICKER}let aj=s.memo(function(e){let{resettableInstanceOverridesMap:t}=e,n=(0,ec.d4)(e=>e.pickerShown),l=(0,ec.d4)(eM.cv),r=(0,ec.d4)(eO.qd),a=(0,ec.d4)(eO.dT),i=(0,ec.d4)(tm.Z3),o=(0,ec.wA)(),{backingSymbolGUID:c,singleBackingStateGroup:d}=(0,aY.$)(a),{version:p}=(0,em.DP)(),u="ui3"===p,{onlyInstances:m,onlyInstanceSublayers:h}=(0,aW.p)(a),g=s.useRef(null),E=s.useMemo(()=>(null==d?void 0:d.symbolLinks)??[],[d]),f=s.useCallback(e=>{if(e){let e=es.findDOMNode(g.current),t=(0,ey.cn)(e,320);o(D.u1({id:ej,initialX:t.x,initialY:t.y})),o(B.sw()),o(D.Uv())}else o(D.XE())},[o]),y=aQ(a),{variantPropDefs:v,typedPropDefsExcludingHidden:b}=(0,aZ.a)(a,e8.OE.ASSIGNMENT);return(0!==v.length||0!==b.length||!u)&&(m||h)?s.createElement(eK.Zk,null,!u&&s.createElement(tp.iN,{resettableInstanceOverrides:null==t?void 0:t.selectionOverrides,instanceAndSublayerGUIDs:a,instanceNameDisplayOverride:y,recordingKey:e.recordingKey}),(()=>{let e=(null==n?void 0:n.id)===ej,t=(0,J._W)(l,""),r=c&&(0,J.hS)(c)?(null==d?void 0:d.description)??"":void 0;return s.createElement(s.Fragment,null,e?s.createElement(to,{containingStateGroupLinks:E,containingStateGroupDescription:r,description:t}):null,s.createElement(aX,{instanceDescription:t,containingStateGroupDescription:r,containingStateGroupLinks:E,onOpenDescriptionPane:f,isDescriptionPaneOpen:e,ref:g}))})(),s.createElement(aq,{recordingKey:_.Pt(e,"restore")}),m&&s.createElement("div",{className:a$.Og},s.createElement(tu.e6,{containerWidth:u?e8.O2.RESIZABLE_SIDEBAR:e8.O2.REGULAR,propDimension:e8.OE.ASSIGNMENT,guids:r,recordingKey:e.recordingKey,errorBoxFlushWithContainer:!0})),i.map(n=>s.createElement("div",{key:`bubbledInstance.${n[0]}`,className:a$.Wf},s.createElement(tu.ME,{containerWidth:u?e8.O2.RESIZABLE_SIDEBAR:e8.O2.REGULAR,propDimension:e8.OE.ASSIGNMENT,guids:n,hideErrors:!0,resettableInstanceOverrides:t&&t.bubbledInstanceOverrides?t.bubbledInstanceOverrides[n[0]]:void 0,instanceAndSublayerGUIDs:n,instanceNameDisplayOverride:tp.NA.NAME_ONLY,shouldHideInstanceTitleButtons:!0,recordingKey:e.recordingKey,forBubbledProps:!0,highlightNodesOnHover:!0,errorBoxFlushWithContainer:!0})))):null});function aq({recordingKey:e}){let{sceneGraphSelection:t,library:n}=(0,ts.R)(e=>({sceneGraphSelection:e.mirror.sceneGraphSelection,library:e.library})),l=(0,ec.d4)(eO.dT),{affiliatedStateGroup:r,singleBackingSymbol:a,restoreType:i,stateResetType:o}=(0,aY.$)(l),c=(0,ec.d4)(rV.lm),d=(0,ec.d4)(nD.sS),p=(0,ec.wA)();return"STATE_GROUP"===i||"SYMBOL_AS_NON_STATE"===i?s.createElement(eK.fI,{className:a$.Ki},s.createElement(e5.nR,{className:a$.Kg,onClick:function(){X.Y5.triggerActionInUserEditScope("restore-symbol-or-state-group")},recordingKey:_.Pt(e,"restoreComponentButton")},s.createElement(F.Tx,{id:"design_systems.instance_panel.restore_component"}))):"DELETED_LOCAL_STATE"===o||"DELETED_SUBSCRIBED_STATE"===o?s.createElement(aG.aV,{title:"Missing variant"},s.createElement("div",{className:a$.AQ},s.createElement(F.Tx,{id:"design_systems.instance_panel.the_selected_variant_is_missing_in_the_component"})),s.createElement("div",{className:a$.ns},s.createElement(e5.nR,{className:a$.cZ,onClick:function(){let e;if(d){if("DELETED_SUBSCRIBED_STATE"===o){let t=null==a?void 0:a.componentKey;if(!t)return;e=c.get(t)}else if("DELETED_LOCAL_STATE"===o){let t=null==r?void 0:r.guid;if(!t)return;e=n.local.stateGroups[t]}eR.l7.user("reset-variant",()=>{e&&(0,az.V4)(e,p,d,t,"Reset Variant Button",!1)})}},recordingKey:_.Pt(e,"resetVariantButton")},s.createElement(F.Tx,{id:"design_systems.instance_panel.reset_to_default"})))):null}var aJ=n(668e3);function a0(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M9.5 6.5h-.6c-.84 0-1.26 0-1.58.163a1.5 1.5 0 0 0-.656.656c-.164.32-.164.74-.164 1.581v.6m8-3h.6c.84 0 1.26 0 1.581.163a1.5 1.5 0 0 1 .655.656c.164.32.164.74.164 1.581v.6m-3 8h.6c.84 0 1.26 0 1.581-.163a1.5 1.5 0 0 0 .655-.656c.164-.32.164-.74.164-1.581v-.6m-8 3h-.6c-.84 0-1.26 0-1.581-.163a1.5 1.5 0 0 1-.656-.656c-.163-.32-.163-.74-.163-1.581v-.6"}))}var a5=n(833019),a1=n(526912),a7=n(812386),a2=n(445978);function a4(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.5 6.5a.5.5 0 0 0-1 0v11a.5.5 0 1 0 1 0v-11Zm-3 2.604a.75.75 0 0 0-1.28-.53L5.5 11.292a1 1 0 0 0 0 1.414l2.72 2.72a.75.75 0 0 0 1.28-.53V9.103Zm-1 .603v4.586L6.207 12 8.5 9.707Zm6-.603a.75.75 0 0 1 1.28-.53l2.72 2.719a1 1 0 0 1 0 1.414l-2.72 2.72a.75.75 0 0 1-1.28-.53V9.103Zm1 .603v4.586L17.793 12 15.5 9.707Z",clipRule:"evenodd"}))}function a3(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.5 12.5a.5.5 0 1 0 0-1h-11a.5.5 0 0 0 0 1h11Zm-2.604 2a.75.75 0 0 1 .53 1.28l-2.719 2.72a1 1 0 0 1-1.414 0l-2.72-2.72a.75.75 0 0 1 .53-1.28h5.793Zm-.603 1H9.707L12 17.793l2.293-2.293Zm.603-6a.75.75 0 0 0 .53-1.28L12.708 5.5a1 1 0 0 0-1.414 0l-2.72 2.72a.75.75 0 0 0 .53 1.28h5.793Zm-.603-1H9.707L12 6.207 14.293 8.5Z",clipRule:"evenodd"}))}var a8=n(993167),a6=n(251763),a9=n(64813),ie=n(22583),it=n(45734),il=n(318426),ir=n(619008),ia=n(781779);let ii="corner_smoothing--cornerSmoothingInput--diqdz";function io({initialPosition:e,recordingKey:t,onClose:n}){return s.createElement(e6.vx,{title:(0,F.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),initialPosition:e,headerSize:"small",onClose:n,recordingKey:_.Pt(t,"modal")},s.createElement(eK.Id,null,s.createElement("div",{className:"corner_smoothing--modalControl--AXovi"},s.createElement(is,{recordingKey:t}))))}function is(e){let{version:t}=(0,em.DP)();return s.createElement("ui3"===t?id:ic,{...e})}function ic(e){let t=(0,ie.DP)(),n=(0,il.Xc)(),l=(0,lR.kl)("cornerSmoothing"),r=(0,ie.yM)(),a=s.useCallback((e,t)=>{ip(e.x,t)},[]),i=s.useCallback(e=>{let t=(0,ir.W)(e);ip((0,g.qE)((0,J._W)(l,0)+t/100,0,1),!0)},[l]),o=s.useCallback(e=>{let t=e.getContext("2d");t.fillStyle=(null==r?void 0:r.colorBgSecondary)||ia.z8Z,t.fillRect(0,0,c+n,n)},[null==r?void 0:r.colorBgSecondary,n]),c=138,d=new N.Mi((0,J._W)(l,0),0),p=new a9.LN;return s.createElement("div",{className:"corner_smoothing--root--tqWdN"},s.createElement(il.Kf,{hitBoxMargin:8,width:c,height:0,handlePadding:!0,value:d,mouseCallback:a,wheelCallback:r3.lQ,keyDownCallback:i,renderCanvas:o,containerClass:"corner_smoothing--sliderContainer--0-rJy",canvasWrapperStyles:"dark"===t?{border:"1px solid var(--color-conditionalborder)"}:{}},s.createElement("div",{className:"corner_smoothing--sliderAnnotationStroke--n6UqC",style:{position:"absolute",width:0,height:18,left:.6*c+.5*n,top:0,borderLeftWidth:1}},s.createElement(eK.UZ,{style:{position:"relative",left:-8,top:20},onClick:()=>{ip(.6,!0)}},s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.i_os"})))),s.createElement(rq.Q7,{recordingKey:_.Pt(e,"modal"),className:ii,formatter:p,property:d.x,onChange:e=>{ip(e,!0)}}))}function id({recordingKey:e}){let t=(0,s.useMemo)(()=>new a9.LN,[]),n=(0,J._W)((0,lR.kl)("cornerSmoothing"),0);return s.createElement("div",{className:"corner_smoothing--rootUi3--4yJI2"},s.createElement("div",{className:"corner_smoothing--sliderWrapperUi3--k4Z-O"},s.createElement(a6.A,{"aria-label":(0,F.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),value:n,onChange:(e,{commit:t})=>ip(e,t),min:0,max:1,step:.01,bigStep:.1,defaultValue:0,rangeAnchor:0,hints:[.6],recordingKey:_.Pt(e,"slider")})),s.createElement(rq.Q7,{recordingKey:_.Pt(e,"modal"),className:ii,formatter:t,property:n,onChange:e=>void ip(e,!0)}),s.createElement("div",{className:"corner_smoothing--labelWrapperUi3--Kt9lC"},s.createElement(eK.UZ,{className:"corner_smoothing--labelUi3--fPeZB",onClick:()=>{ip(.6,!0)}},s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.i_os"}))))}function ip(e,t){e=Math.round(100*e)/100,X.Y5.updateSelectionProperties({cornerSmoothing:e},{shouldCommit:t?it.zk.YES:it.zk.NO})}var iu=n(691039),im=n(728314),ih=n(229351),ig=n(736002),iE=((r=iE||{})[r.TOP_LEFT=0]="TOP_LEFT",r[r.BOTTOM_LEFT=1]="BOTTOM_LEFT",r[r.TOP_RIGHT=2]="TOP_RIGHT",r[r.BOTTOM_RIGHT=3]="BOTTOM_RIGHT",r);let i_={0:{svg:ih.A,variableField:"RECTANGLE_TOP_LEFT_CORNER_RADIUS",getTooltip:()=>(0,F.t)("fullscreen.properties_panel.transform_panel.top_left_corner_radius")},2:{svg:ig.A,variableField:"RECTANGLE_TOP_RIGHT_CORNER_RADIUS",getTooltip:()=>(0,F.t)("fullscreen.properties_panel.transform_panel.top_right_corner_radius")},1:{svg:iu.A,variableField:"RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS",getTooltip:()=>(0,F.t)("fullscreen.properties_panel.transform_panel.bottom_left_corner_radius")},3:{svg:im.A,variableField:"RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS",getTooltip:()=>(0,F.t)("fullscreen.properties_panel.transform_panel.bottom_right_corner_radius")}};function iy(e){return i_[e].variableField}var iv=n(92158),ib=n(113394),iS=n(51431),iw=n(723171),iT=n(533173),iP=n(484214),iC=n(453015),ik=n(91609),iI=n(489960),iN=n(946482),iA=n(934325),iR=n(334068);class iO{constructor(e){this._controls=0|e}get framePresetsItem(){return this.getValue($.Sqb.FRAME_PRESETS_ITEM)}get cornerRadius(){return this.getValue($.Sqb.CORNER_RADIUS)}get frameOptions(){return this.getValue($.Sqb.FRAME_OPTIONS)}get count(){return this.getValue($.Sqb.COUNT)}get starInnerScale(){return this.getValue($.Sqb.STAR_INNER_SCALE)}get rectangleCornerRadii(){return this.getValue($.Sqb.RECTANGLE_CORNER_RADII)}get fixedFrameOptions(){return this.getValue($.Sqb.FIXED_FRAME_OPTIONS)}get arcData(){return this.getValue($.Sqb.ARC_DATA)}get transform(){return this.getValue($.Sqb.TRANSFORM)}get size(){return this.getValue($.Sqb.SIZE)}get angle(){return this.getValue($.Sqb.ANGLE)}get sectionItem(){return this.getValue($.Sqb.SECTION_ITEM)}getValue(e){return!!(this._controls&1<<e)}}function iM(e){var t;let n=(0,ec.wA)(),l=(0,Q.sT)(),{bigNudgeAmount:r,smallNudgeAmount:a}=l,i=(0,s.useCallback)((e,t,l)=>{l.stopPropagation();let i=e===h.Uz.UP_ARROW?"+":"-",o=`${i}${t?r:a}`;n(ik.eB({target:{kind:ef.Ui.TEXT,text:o},targetRect:l.currentTarget.closest("label").getBoundingClientRect(),position:ef.Zj.BELOW,hideAfterDelay:200}))},[n,r,a]),o=(t=e.key,(0,s.useMemo)(()=>{class e extends iN.M{getValueForNode(e){return $.Egt.getNodeTransformProperties(e.guid)[t]}setValueForNode(e,n){eR.l7.user(`transform-change-${t}`,()=>{try{$.Egt.setNodeTransformProperties(e.guid,{[t]:n})}catch{}})}}return new e},[t])),c=function({key:e,setValue:t}){let n=(0,ec.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo.mode);return(0,s.useCallback)((l,r)=>{iF(e),n!==$.nzw.NONE&&$.glU.hideOnCanvasNameEditor(),t(l,r)},[e,n,t])}(e);return{...l,dispatch:n,onValueChange:c,mixedMathHandler:o,onMixedMathNudge:i,onKeyUp:G.dG}}function ix(){let{smallNudgeAmount:e,bigNudgeAmount:t}=(0,Q.sT)();return{smallNudgeAmount:e,bigNudgeAmount:t,wheelMultiplier:e,scrubMultiplier:e}}function iL(){let e=(0,lR.kl)("stackHorizontalSize"),t=(0,lR.kl)("stackVerticalSize"),n=(0,lR.kl)("textAutoResize"),l=iK(),r=(0,ec.d4)(e=>{let t=e.mirror.selectionProperties.numSelectedByType;return(0,iI.vx)(t,"TEXT")}),a=a=>{let i=("VERTICAL"===a?t:e)!==$.mKm.FIXED,o=r&&((0,J.gl)(n)||"WIDTH_AND_HEIGHT"===n||"VERTICAL"===a&&"HEIGHT"===n);return i||"VERTICAL"===a&&l||o};return{widthIsAuto:a("HORIZONTAL"),heightIsAuto:a("VERTICAL")}}function iK(){return(0,ec.d4)(e=>{let t=e.mirror.selectionProperties.numSelectedByType;return(0,iI.OU)(t,["LINE","WASHI_TAPE"])})}function iF(e){(0,m.kc)().ce_properties_panel_tracking&&(0,p.sx)("editor-transform-panel-change",{key:e}),(0,iR.a2)(e)}function iD(){let e=(0,iA.J2)($.Ez5.propertiesPanelState().shownTransformControls);return(0,s.useMemo)(()=>new iO(e),[e])}function iH(){let e=(0,iA.J2)($.Ez5.propertiesPanelState().enabledTransformControls);return(0,s.useMemo)(()=>new iO(e),[e])}let iB="independent_corner_radius_view--inputRow--WrZ2t";function iV({topLeftValue:e,topRightValue:t,bottomLeftValue:n,bottomRightValue:l,recordingKey:r,onTopLeftChange:a,onTopRightChange:i,onBottomLeftChange:o,onBottomRightChange:c}){let d=s.useMemo(()=>[iy(iE.TOP_LEFT)],[]),p=s.useMemo(()=>[iy(iE.TOP_RIGHT)],[]),u=s.useMemo(()=>[iy(iE.BOTTOM_LEFT)],[]),m=s.useMemo(()=>[iy(iE.BOTTOM_RIGHT)],[]),h=(0,lT.SG)(d).data??[],g=(0,lT.SG)(p).data??[],E=(0,lT.SG)(u).data??[],f=(0,lT.SG)(m).data??[],y=s.useRef(null),v=s.useRef(null),b=s.useRef(null),S=s.useRef(null),[w,T]=s.useState(null),P=s.useCallback((e,t)=>{t&&T({corner:e,initialPosition:(0,ey.VZ)(t,iP.d9)})},[]),C=s.useCallback(()=>{T(null)},[]);function k(r){switch(r){case iE.TOP_LEFT:return{value:e,variableFields:d,variablesForField:h,inputRef:y,onChange:a};case iE.TOP_RIGHT:return{value:t,variableFields:p,variablesForField:g,inputRef:v,onChange:i};case iE.BOTTOM_LEFT:return{value:n,variableFields:u,variablesForField:E,inputRef:b,onChange:o};case iE.BOTTOM_RIGHT:return{value:l,variableFields:m,variablesForField:f,inputRef:S,onChange:c}}}function I({corner:e,recordingKey:t}){return s.createElement(iz,{variableFields:k(e).variableFields,isPickerOpen:(null==w?void 0:w.corner)===e,onPickerOpen:()=>P(e,k(e).inputRef.current)},s.createElement(iU,{ref:k(e).inputRef,value:k(e).value,variableFields:k(e).variableFields,svg:i_[e].svg,tooltip:i_[e].getTooltip(),disableEntryPoint:0===k(e).variablesForField.length,recordingKey:t,onChange:k(e).onChange}))}return s.createElement("div",null,s.createElement(s.Fragment,null,s.createElement("div",{className:iB},I({corner:iE.TOP_LEFT,recordingKey:_.Pt(r,"rectangleTopLeftCornerRadiusInput")}),I({corner:iE.TOP_RIGHT,recordingKey:_.Pt(r,"rectangleTopRightCornerRadiusInput")})),s.createElement("div",{className:iB},I({corner:iE.BOTTOM_LEFT,recordingKey:_.Pt(r,"rectangleBottomLeftCornerRadiusInput")}),I({corner:iE.BOTTOM_RIGHT,recordingKey:_.Pt(r,"rectangleBottomRightCornerRadiusInput")}))),function(){if(!w)return null;let{corner:e,initialPosition:t}=w,n=(0,J._W)(k(e).value,0);return s.createElement(iZ,{corner:e,initialPosition:t,currentFieldValue:n,variableFields:k(e).variableFields,onClose:C})}())}let iU=s.forwardRef(({variableFields:e,value:t,svg:n,tooltip:l,recordingKey:r,disableEntryPoint:a,onChange:i},o)=>{let c=(0,ec.wA)(),{smallNudgeAmount:d,bigNudgeAmount:p,wheelMultiplier:u,scrubMultiplier:m}=ix(),{consumedVariable:h}=(0,rK.u3)(e),g=s.useId();return s.createElement(ib.sJ,{ref:o,currentFieldValue:(0,J._W)(t,0),disableEntryPoint:a},s.createElement(rL.$j,{dispatch:c,value:(0,J.gl)(t)?t:t??0,inputClassName:"independent_corner_radius_view--input--c5KCB raw_components--flushLeft--YH-5P",smallNudgeAmount:d,bigNudgeAmount:p,wheelMultiplier:u,scrubMultiplier:.1*m,noBorderOnHover:!0,isTokenizable:!0,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":l,"data-tooltip-proxy-element-id":h?g:void 0,recordingKey:r,onValueChange:i},s.createElement(M.B,{className:"independent_corner_radius_view--inputIcon--9Djlr transform_panel--inactiveLabel--fPCxr raw_components--iconInsideBorderFocusWithin--2g7fO raw_components--iconInsideBorderFocusWithin--2g7fO",svg:n,"data-tooltip-type":h?ef.Ib.TEXT:void 0,"data-tooltip":h?l:void 0,id:g})))});function iz({variableFields:e,isPickerOpen:t,onPickerOpen:n,children:l}){let{consumedVariable:r}=(0,rK.u3)(e),a=(0,iT.MH)(r),i=(0,lT.u)(a??void 0),o=!!i&&(0,iT.eF)(i),[c,d,p]=(0,iS.JV)(e,$.rXF.FLOAT);return s.createElement(iw.p.Provider,{value:{boundVariableId:a,isBoundVariableDeleted:o,isShowingBindingUI:t,showBindingUI:n,onVariableSelected:p}},l)}function iZ({corner:e,initialPosition:t,currentFieldValue:n,variableFields:l,onClose:r}){let a=(0,ec.wA)(),{updateVariableConsumption:i}=(0,rK.u3)(l),o=s.useCallback(e=>{a((0,iv.Yi)({item:e,callback:e=>{i((0,rK.y$)($.rXF.FLOAT,e))}}))},[a,i]);return s.createElement(s.Fragment,null,s.createElement(iS.jp,{fields:[iy(e)],resolvedType:$.rXF.FLOAT,initialPosition:t,currentFieldValue:n,onVariableSelected:o,onClose:r}),s.createElement(iC.$3,{onClose:r}))}let iG="240px";function iY(e){let t=function(){let e=(0,ts.R)(e=>{let t=e.mirror.selectionProperties;return{angle:t.angle,hasReflection:t.hasReflection,topLeft:t.rectangleTopLeftCornerRadius,topRight:t.rectangleTopRightCornerRadius,bottomRight:t.rectangleBottomRightCornerRadius,bottomLeft:t.rectangleBottomLeftCornerRadius}});return(0,s.useCallback)(t=>{let n=[{corner:0,value:e.topLeft,key:"rectangleTopLeftCornerRadius"},{corner:1,value:e.bottomLeft,key:"rectangleBottomLeftCornerRadius"},{corner:3,value:e.bottomRight,key:"rectangleBottomRightCornerRadius"},{corner:2,value:e.topRight,key:"rectangleTopRightCornerRadius"}],l=n.findIndex(({corner:e})=>e===t);e.hasReflection&&(l+=2),null!=e.angle&&(0,J.hS)(e.angle)&&(Math.abs(e.angle)>=135?l+=2:e.angle>=45?l+=3:e.angle<=-45&&(l+=1));let r=n[l%4];return{value:r.value,setter:(e,t=it.zk.YES)=>{X.Y5.updateSelectionProperties({[r.key]:e},{shouldCommit:t})}}},[e])}();return s.createElement(k,{name:"independent_corner_radius_modal"},s.createElement(e6.vx,{title:(0,F.t)("fullscreen.properties_panel.transform_panel.corner_radius"),initialPosition:e.initialPosition,headerSize:"small",onClose:e.onClose,recordingKey:_.Pt(e,"modal")},s.createElement("div",{className:"independent_corner_radius_modal--cornerRadiusContent--DPDSk"},s.createElement("div",{className:"independent_corner_radius_modal--cornerRadiusModalContent--sopW9"},s.createElement(iV,{topLeftValue:t(iE.TOP_LEFT).value,topRightValue:t(iE.TOP_RIGHT).value,bottomLeftValue:t(iE.BOTTOM_LEFT).value,bottomRightValue:t(iE.BOTTOM_RIGHT).value,recordingKey:_.Pt(e,"independentCornerRadius"),onTopLeftChange:t(iE.TOP_LEFT).setter,onTopRightChange:t(iE.TOP_RIGHT).setter,onBottomLeftChange:t(iE.BOTTOM_LEFT).setter,onBottomRightChange:t(iE.BOTTOM_RIGHT).setter})),s.createElement(eK.Zk,{className:"independent_corner_radius_modal--cornerSmoothingPanel--fUaKb independent_corner_radius_modal--cornerRadiusModalContent--sopW9"},s.createElement(eK.xw,{className:"independent_corner_radius_modal--cornerSmoothingTitle--WTrG6"},(0,F.t)("fullscreen.properties_panel.transform_panel.corner_smoothing")),s.createElement("div",{className:"independent_corner_radius_modal--cornerSmoothingContainer--DTnrk"},s.createElement(is,{recordingKey:_.Pt(e,"advanced")}))))))}function iW(e){let{controls:t}=e;return s.createElement("div",{className:"segmented_button--root--BlK0T"},t.map((e,t)=>{let{children:n,...l}=e;return s.createElement(tE.K0,{...l,key:t,className:"segmented_button--button--HF0rV"},s.createElement("span",null,n))}))}var iX=n(614851),i$=n(595869);let iQ=["CORNER_RADIUS"],ij=["RECTANGLE_TOP_LEFT_CORNER_RADIUS","RECTANGLE_TOP_RIGHT_CORNER_RADIUS","RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS","RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS"];function iq(e){var t;let n=(0,s.useId)(),l=s.useRef(null),{smallNudgeAmount:r,bigNudgeAmount:a,wheelMultiplier:i}=ix(),o=(0,ec.wA)(),[c,d]=(0,lR.lJ)("cornerRadius"),{consumedVariable:p,clearVariableConsumption:u}=(0,rK.u3)(iQ),{consumedVariable:m,clearVariableConsumption:h}=(0,rK.u3)(ij),g=(0,iT.MH)(p)??(0,iT.MH)(m),E=(0,lT.u)(g??void 0),f=!!E&&(0,iT.eF)(E),[y,v,b]=(0,iS.JV)(iQ,$.rXF.FLOAT),S=(0,eN.Vq)(c)&&(0,J.hS)(c)?c:void 0,w=0===((null==(t=(0,lT.SG)(iQ))?void 0:t.data)??[]).length,T=s.useCallback(()=>{u(),h()},[u,h]),P=s.useCallback(e=>{e?b(e):T()},[b,T]),C=s.useCallback(()=>{l.current&&v(l.current,{currentFieldValue:S})},[v,S]),k=s.useMemo(()=>({isShowingBindingUI:y,showBindingUI:C,boundVariableId:g,isBoundVariableDeleted:f,onVariableSelected:P}),[y,C,g,f,P]),I=(0,F.t)("fullscreen.properties_panel.transform_panel.corner_radius");return s.createElement(tc.E,{name:"corner_radius_input"},s.createElement(iw.p.Provider,{value:k},s.createElement(ib.sJ,{ref:l,inputClassName:e.inputClassName,currentFieldValue:S,disabled:e.disabled,disableEntryPoint:w,recordingKey:_.Pt(e,"cornerRadiusInputVariableWrapper")},s.createElement(rL.$j,{noBorderOnHover:!0,isTokenizable:!0,inputClassName:iX.hF,value:c,smallNudgeAmount:r,bigNudgeAmount:a,wheelMultiplier:i,onValueChange:e=>{iF("cornerRadius"),d(e)},dispatch:o,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":I,"data-tooltip-proxy-element-id":E?n:void 0,recordingKey:_.Pt(e,"cornerRadiusInput"),disabled:e.disabled,scrubMultiplier:.1*r,dataTestId:"transform-corner-radius"},s.createElement(M.B,{className:iX.QK,svg:i$.A,"data-tooltip-type":E?ef.Ib.TEXT:void 0,"data-tooltip":E?I:void 0,id:n})))))}var iJ=n(100433);function i0(e){let[t,n]=(0,lR.lJ)("angle"),{smallNudgeAmount:l,bigNudgeAmount:r,...a}=iM({key:"angle",setValue:n});return s.createElement(tc.E,{name:"rotation_input"},s.createElement(rL.Zp,{className:iX.BP,inputClassName:iX.hF,value:t,disabled:e.disabled,...a,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.rotation"),recordingKey:_.Pt(e,"angleInput")},s.createElement(M.B,{className:iX.QK,svg:iJ.A})))}var i5=n(362679),i1=n(13556),i7=n(502517);function i2(e){let{version:t}=(0,em.DP)(),[n]=(0,lR.lJ)("rectangleCornerRadiiIndependent"),l=(0,s.useRef)(null),r=(0,lO.k)("corner-smoothing"),a=(0,lA.Zr)("flip-horizontal"),i=(0,lA.Zr)("flip-vertical"),o=(0,lA.Zr)("rotate-90-clockwise"),c=(0,s.useCallback)(()=>{r.hide(),X.Y5.deselectProperty()},[r]),d=e.cornerRadiusDisabled||e.rectangleCornersDisabled,[u,h]=s.useState(null),g=e.rectangleCornersShown&&!!u,E=s.useCallback(()=>{(0,m.kc)().ce_properties_panel_tracking&&(0,p.sx)("editor-transform-panel-change",{key:"rectangleCornerRadiiIndependent",value:!(0,J._W)(n,!1)}),!g&&l.current?h((0,ey.cn)(l.current,parseInt(iG,10))):h(null)},[n,g]);return"ui2"===t?s.createElement(s.Fragment,null,s.createElement(eK.fI,{forwardedRef:l},s.createElement(i0,{disabled:e.angleDisabled,recordingKey:e.recordingKey}),e.cornerRadiusShown&&s.createElement(iq,{recordingKey:e.recordingKey,inputClassName:e.angleShown?iX.sC:iX.BP,disabled:g||e.cornerRadiusDisabled}),e.cornerRadiusShown&&e.rectangleCornersShown&&s.createElement(a8.m,{toggled:g,svg:i7.A,className:iX.gb,onMouseDown:E,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.independent_corners"),recordingKey:_.Pt(e,"rectangleCornerToolIndependentToggle"),disabled:d}),e.cornerRadiusShown&&!e.rectangleCornersShown&&s.createElement(eK.YW,{svg:i5.A,fallbackSvg:i1.A,className:iX.gb,onMouseDown:e=>i4(r,l,e),recordingKey:_.Pt(e,"cornerSmoothingToggle"),"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),selected:r.showing,disabled:e.cornerRadiusDisabled})),g&&u&&s.createElement(iY,{initialPosition:u,onClose:E,recordingKey:e.recordingKey}),r.showing&&s.createElement(io,{initialPosition:r.initialPosition,onClose:c,recordingKey:_.Pt(e,"advanced")})):s.createElement(tw.fn,{ref:l,leftLabel:s.createElement(F.Tx,{id:"properties.label.transform"}),leftInput:s.createElement(i0,{disabled:e.angleDisabled,recordingKey:e.recordingKey}),rightInput:s.createElement(iW,{controls:[i3("rotate-90-clockwise",s.createElement(a2.R,null),o),i3("flip-horizontal",s.createElement(a4,null),a),i3("flip-vertical",s.createElement(a3,null),i)]}),rightLabel:null,icon:null})}function i4(e,t,n){n.stopPropagation(),(0,m.kc)().ce_properties_panel_tracking&&(0,p.sx)("editor-transform-panel-change",{key:"cornerSmoothing",value:e.showing}),e.toggle(()=>(0,ey.cn)(t.current))}let i3=(e,t,n)=>({"aria-label":e,"data-tooltip":e,"data-tooltip-type":ef.Ib.LOOKUP,children:t,disabled:!n,onClick:()=>{X.Y5.triggerActionInUserEditScope(e)}});var i8=n(491059),i6=n(527808);function i9(e){var t,n;let l=(0,ec.wA)(),r=new N.Mi(null==(t=e.pickerShown)?void 0:t.initialX,null==(n=e.pickerShown)?void 0:n.initialY),a=(0,ec.d4)(e=>e.dropdownShown);return s.createElement(e6.vx,{title:(0,F.t)("fullscreen.properties_panel.constraints_panel.constraints"),initialPosition:r,headerSize:"small",onClose:()=>{l(D.XE())}},s.createElement(eK.Id,null,s.createElement(ah,{...e,dropdownShown:a})))}var oe=n(505838),ot=n(537545),on=n(64111);class ol extends oe.I{}class or extends oe.Y{}class oa extends s.PureComponent{constructor(){super(...arguments),this.getProperty=()=>(0,J.hS)(this.props.width)&&(0,J.hS)(this.props.height)?this.props.width>this.props.height?"LANDSCAPE":"PORTRAIT":J.oV,this.onChange=e=>{this.getProperty()!==e&&eR.l7.user("toggle-frame-orientation",()=>{X.Y5.triggerAction("toggle-frame-orientation"),$.X3B.updateCurrentPagePrototypeDeviceIfNecessary()})}}render(){let e=this.getProperty(),t=!(0,J.hS)(this.props.resizeToFit)||this.props.resizeToFit;return s.createElement(ol,{className:"orientation_control--orientationControl--JG3io",disabled:t,property:e,onChange:this.onChange,recordingKey:this.props.recordingKey},s.createElement(or,{value:"PORTRAIT",svg:on.A,tooltip:(0,F.t)("fullscreen.properties_panel.orientation.portrait")}),s.createElement(or,{value:"LANDSCAPE",svg:ot.A,tooltip:(0,F.t)("fullscreen.properties_panel.orientation.landscape")}))}}oa.displayName="OrientationControl";var oi=n(617617);function oo(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"m16.5 8.5-3 3 3 3m-9-6 3 3-3 3"}))}function os(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"m14.5 16.5-3-3-3 3m6-9-3 3-3-3"}))}function oc(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.354 8.146a.5.5 0 0 1 0 .708L7.207 11h9.586l-2.146-2.146a.5.5 0 0 1 .707-.708l3 3a.5.5 0 0 1 0 .707l-3 3a.5.5 0 0 1-.708-.707L16.793 12H7.207l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0Z",clipRule:"evenodd"}))}function od(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M14.854 14.146a.5.5 0 0 1 0 .707l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.707L11 16.293V7.707L8.854 9.854a.5.5 0 0 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L12 7.707v8.586l2.146-2.147a.5.5 0 0 1 .708 0Z",clipRule:"evenodd"}))}var op=n(995225),ou=n(78310),om=n(651903),oh=n(742900),og=n(682555),oE=n(611730),o_=n(552789),of=n(723472),oy=n(105752),ov=n(445889),ob=n(190152),oS=n(507245);function ow(e){let t=(0,ec.wA)(),n=(0,n6.U)(),l=(0,ec.d4)(e=>e.mirror.selectionProperties.stackLayoutSizeOptions),r=(0,e9.Tv)(),a=!1;e.axis===$._0v.Y&&r&&function(e){let t=new Set([]);for(let n of e){let l=oh.qo.instance.get(n);if(l&&l.parentGuid&&!t.has(l.parentGuid)&&(t.add(l.parentGuid),function(e,t){let n=e.parentNode,l=!1,r=!0;if(e&&n&&"WRAP"===n.stackWrap)for(let a of n.childrenGuids){t.find(e=>e===a)||(r=!1);let n=oh.qo.instance.get(a);a!==e.guid&&n&&"AUTO"===n.stackChildAlignSelf&&(l=!0)}return l&&!r}(l,e)))return!0}return!1}(r)&&(a=!0);let i=(0,ec.d4)(e=>!!e.mirror.selectionProperties.isInstanceSublayerSelected),o=(0,i8.am)(),c=(0,s.useMemo)(()=>new oP(e.axis),[e.axis]);if(null==l)return null;let[p,u]=oT(e.axis,e.size),m=function(e,t){let n=e===$._0v.X;switch(t){case $.mKm.HUG_CONTENT:return n?s.createElement(oo,null):s.createElement(os,null);case $.mKm.FILL_CONTAINER:return n?s.createElement(oc,null):s.createElement(od,null);default:return n?s.createElement(r2,null):s.createElement(r4,null)}}(e.axis,e.size);if(e.readOnly&&(0,J.hS)(e.size)){let t=oC(e.size);return s.createElement("div",{className:d()(e.className,"stack_sizing_select_v5--flexContainer--nrpIK")},s.createElement(op.t,{svg:p,fallbackSvg:u,className:an.Vb}),s.createElement("span",{className:"stack_sizing_select_v5--readOnlyText--Ik-gS ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},t))}var h,g=i;for(let e of l)if(e.size===$.mKm.HUG_CONTENT||e.size===$.mKm.FILL_CONTAINER){g=!1;break}let E=l.map(t=>{let n=$.mKm[t.size],l=t.size===$.mKm.FILL_CONTAINER&&a,r=t.disabled||l,i="no-fill-component"===t.disabledReason?(0,F.t)("fullscreen.properties_panel.stack_panel.sizing_disabled.no_fill_component"):l?(0,F.t)("fullscreen.properties_panel.stack_panel.sizing_disabled.select_all_fill"):void 0;return s.createElement(r8.c$,{key:t.size,value:t.size,recordingKey:_.Pt(e.recordingKey,"select",n),disabled:r,tooltip:i,tooltipType:ef.Ib.TEXT,dataTestId:`${n}-${$._0v[e.axis]}`})}),f=(null==(h=(0,ou.Gq)())?void 0:h.getPrimaryLocale(!0))===om.Xn?150:210;return s.createElement(r8.l6,{id:e.id,className:e.className,inputClassName:d()("stack_sizing_select_v5--tightText--xHUXj","stack_sizing_select_v5--stackLayoutSizeInput--aB6Pd"),chevronClassName:"stack_sizing_select_v5--stackLayoutSizeChevron--xh9BG",dropdownShown:n,dispatch:t,property:e.size,formatter:c,svg:p,fallbackSvg:u,ui3Icon:m,onChange:t=>{null!=t&&(eR.l7.user("set-stack-size",()=>$.Qa7.setStackSizeOnSelection(t,e.axis)),o("Autolayout sizing changed",{axis:e.axis,size:t,source:"dropdown"}))},disabled:g,recordingKey:_.Pt(e,"select"),dropdownWidth:f,dropdownAlignment:e.dropdownAlignment,truncation:"none",onOptionFocus:(t,n)=>e.onHover(t??null,n),onMouseEnter:()=>e.onHover((0,J.hS)(e.size)?e.size:null,"input"),onMouseLeave:()=>e.onHover(null,"input"),tooltip:e.axis===$._0v.X?(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.horizontal_resizing"):(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.vertical_resizing")},E)}function oT(e,t){let n=e===$._0v.X;switch(t){case J.oV:return n?[ob.A]:[o_.A];case $.mKm.HUG_CONTENT:return n?[oS.A]:[of.A];case $.mKm.FILL_CONTAINER:return n?[oy.A]:[og.A];default:return n?[r9.A,ov.A]:[r6.A,oE.A]}}class oP{constructor(e){this.axis=e}format(e){return null==e?"":oC(e)}formatExtended(e){if(null==e)return{text:""};let[t,n]=oT(this.axis,e);return{text:function(e,t){switch(t){case $.mKm.FIXED:return e===$._0v.X?(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed_width"):(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed_height");case $.mKm.HUG_CONTENT:return(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.hug_contents");case $.mKm.FILL_CONTAINER:return(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fill_container")}}(this.axis,e)||"",svg:t,fallbackSvg:n}}}function oC(e){switch(e){case $.mKm.FIXED:return(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed");case $.mKm.HUG_CONTENT:return(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.hug");case $.mKm.FILL_CONTAINER:return(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fill")}}function ok(e){let t=(0,lR.kl)("stackHorizontalSize"),n=(0,lR.kl)("stackVerticalSize"),l=(0,oi.aj)(),{version:r}=(0,em.DP)();return null==t||null==n?null:"ui2"===r?s.createElement(eK.fI,{"data-testid":"stack-sizing-row"},s.createElement(ow,{id:"stack-sizing-width",className:iX.oH,axis:et._0v.X,size:t,recordingKey:_.Pt(e.recordingKey,"stack-width-sizing"),dropdownAlignment:"left",onHover:e=>l(e,et._0v.X)}),s.createElement(ow,{id:"stack-sizing-height",className:iX.T1,axis:et._0v.Y,size:n,recordingKey:_.Pt(e.recordingKey,"stack-height-sizing"),dropdownAlignment:"right",onHover:e=>l(e,et._0v.Y)})):s.createElement(tw.fn,{"data-testid":"stack-sizing-row",leftLabel:s.createElement(F.Tx,{id:"properties.label.resizing"}),leftInput:s.createElement(ow,{id:"stack-sizing-width",className:iX.oH,axis:et._0v.X,size:t,recordingKey:_.Pt(e.recordingKey,"stack-width-sizing"),dropdownAlignment:"left",onHover:e=>l(e,et._0v.X)}),rightInput:s.createElement(ow,{id:"stack-sizing-height",className:iX.T1,axis:et._0v.Y,size:n,recordingKey:_.Pt(e.recordingKey,"stack-height-sizing"),dropdownAlignment:"right",onHover:e=>l(e,et._0v.Y)}),rightLabel:null,icon:null})}function oI(){return s.createElement("div",{className:"constraints_preview_icon--container--n518S"},s.createElement(oN,{axis:"HORIZONTAL"}),s.createElement("div",{className:oL(90)},s.createElement(oN,{axis:"VERTICAL"})))}function oN(e){let t=au(),n="HORIZONTAL"===e.axis?t.horizontalConstraint:t.verticalConstraint;if(t.nodesAreAllInsideStacks&&"AUTO"===t.stackPositioning)return s.createElement(oA,null);switch(n){case"MIN":return s.createElement(s.Fragment,null,s.createElement(oO,{selected:!0}),s.createElement(oO,{rotation:180}));case"MAX":return s.createElement(s.Fragment,null,s.createElement(oO,null),s.createElement(oO,{rotation:180,selected:!0}));case"STRETCH":return s.createElement(s.Fragment,null,s.createElement(oO,{selected:!0}),s.createElement(oO,{rotation:180,selected:!0}));case"CENTER":return s.createElement(s.Fragment,null,s.createElement(oO,null),s.createElement(oR,{selected:!0}),s.createElement(oO,{rotation:180}));case"SCALE":return s.createElement(s.Fragment,null,s.createElement(oM,{selected:!0}),s.createElement(oM,{rotation:180,selected:!0}));default:return s.createElement(oA,null)}}function oA(){return s.createElement(s.Fragment,null,s.createElement(oM,null),s.createElement(oM,{rotation:180}))}function oR(e){return s.createElement("svg",{viewBox:"0 0 24 24"},s.createElement(ox,{d:"M 10,12  L 14,12",...e}))}function oO(e){return s.createElement("svg",{viewBox:"0 0 24 24"},s.createElement(ox,{d:"M 5.5,10 L 5.5,14 M 5.5,12  L 8,12",rotation:e.rotation,selected:e.selected}))}function oM(e){return s.createElement("svg",{viewBox:"0 0 24 24"},s.createElement(ox,{d:"M 7.5,10  L 5.5,12 L 7.5,14",...e}))}function ox(e){return s.createElement("path",{d:e.d,fill:"none",className:d()("constraints_preview_icon--line--z6ghs",oL(e.rotation||0),{"constraints_preview_icon--selected--GXU2-":e.selected})})}let oL=e=>{switch(e){case 0:return;case 90:return"constraints_preview_icon--rotate90--uayVi constraints_preview_icon--_rotate--2AAty";case 180:return"constraints_preview_icon--rotate180--lqQgR constraints_preview_icon--_rotate--2AAty"}};var oK=n(823223),oF=n(78947);function oD(e){let[t,n]=(0,lR.lJ)("frameMaskDisabled"),{version:l}=(0,em.DP)(),r=(0,s.useId)();return"ui2"===l?s.createElement(eK.fI,null,s.createElement(r$.t,{className:iX.kv,id:r,property:(0,J.gl)(t)?J.oV:!t,onChange:e=>{(0,m.kc)().ce_properties_panel_tracking&&(0,p.sx)("editor-transform-panel-change",{key:"clipContent",value:e}),n(!e)},recordingKey:_.Pt(e,"clipContentCheckbox")}),s.createElement(eK.JU,{className:iX.mH,htmlFor:r},s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.clip_content"}))):s.createElement("div",{className:oF.Ww,"data-non-interactive":!0},s.createElement(oK.d,{mixed:(0,J.gl)(t),checked:!t,onChange:e=>{(0,m.kc)().ce_properties_panel_tracking&&(0,p.sx)("editor-transform-panel-change",{key:"clipContent",value:e}),n(!e)},label:s.createElement(e0.J,null,s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.clip_content"})),recordingKey:_.Pt(e,"clipContent")}))}var oH=n(887130),oB=n(560185),oV=n(30562);function oU(e){let t=(0,ec.wA)(),n=ix(),l=(0,lR.kl)("detectedList"),r=(0,lR.kl)("detectableListAxis"),a=(0,J.E7)(l),i=(0,lA.Zr)("arrange-as-grid"),{version:o}=(0,em.DP)(),c=(0,s.useRef)(null);if(!a&&null==c.current&&(!(0,m.kc)().ce_mixed_list_spacing||!i&&null==r))return null;let d=(null==a?void 0:a.canvasSpacingBetweenItemsX)!=null||"X"===r||i||c.current===$._0v.X,p=(null==a?void 0:a.canvasSpacingBetweenItemsY)!=null||"Y"===r||i||c.current===$._0v.Y,u=s.createElement(rL.gq,{dispatch:t,value:null==a?J.oV:a.canvasSpacingBetweenItemsX,min:oz(a,"X"),onValueChange:oZ(a,"X"),onScrubBegin:()=>{c.current=$._0v.X},onScrubEnd:()=>{c.current=null},mixedMathHandler:new oG($._0v.X),...n,className:iX.BP,inputClassName:iX.hF,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.list_spacing_x"),dataTestId:"list-spacing-x",tooltipForScreenReadersOnly:!0,recordingKey:_.Pt(e,"listSpacingX")},s.createElement(M.B,{className:iX.QK,svg:oB.A})),h=s.createElement(rL.gq,{dispatch:t,value:null==a?J.oV:a.canvasSpacingBetweenItemsY,min:oz(a,"Y"),onValueChange:oZ(a,"Y"),onScrubBegin:()=>{c.current=$._0v.Y},onScrubEnd:()=>{c.current=null},mixedMathHandler:new oG($._0v.Y),...n,className:d?iX.sC:iX.BP,inputClassName:iX.hF,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.list_spacing_y"),dataTestId:"list-spacing-y",tooltipForScreenReadersOnly:!0,recordingKey:_.Pt(e,"listSpacingY")},s.createElement(M.B,{className:iX.QK,svg:oV.A}));return"ui2"===o?s.createElement(eK.fI,null,d&&u,p&&h):s.createElement(tw.fn,{leftLabel:s.createElement(F.Tx,{id:"properties.label.gap"}),leftInput:d?u:h,rightInput:p&&d?h:null,icon:null,rightLabel:null})}function oz(e,t){return e?e.minItemSize?-e.minItemSize["X"===t?0:1]+1:0:-1/0}let oZ=(e,t)=>(n,l)=>{let r="X"===t?"canvasSpacingBetweenItemsX":"canvasSpacingBetweenItemsY";X.Y5.updateSelectionProperties({detectedList:{[r]:Math.max(n,oz(e,t))}},{shouldCommit:l});let a="number"==typeof(null==e?void 0:e.canvasSpacingBetweenItemsX)&&"number"==typeof(null==e?void 0:e.canvasSpacingBetweenItemsY);l&&oH.FZ.trackFromFullscreen("magic_collections_list_spacing_changed",{source:"panel",spacing_did_change:!e||n!==e[r],was_mixed:!e,type:a?"grid":"list"})};class oG{constructor(e){this.axis=e}getValue(){return $.glU.getCurrentListSpacing(this.axis)}onChange(e,t,n){let l=e.spacings.map(t);eR.l7.user("update-list-spacing",()=>{$.glU.setCurrentListSpacing({...e,spacings:l},this.axis),n!==it.zk.NO&&$.glU.triggerAction("commit",{})})}}var oY=n(708525);let oW=()=>!1;var oX=n(660339),o$=n(745056);function oQ(e){return(0,J.hS)(e)&&null!=e&&e!==$.mKm.FIXED}function oj(){let e=(0,lR.kl)("stackHorizontalSize"),t=(0,lR.kl)("stackVerticalSize");return oQ(e)||oQ(t)}function oq(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 5.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5Zm0 13a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5ZM8.797 8v8h1.207v-3.488h3.988V16h1.211V8h-1.21v3.477h-3.99V8H8.798Z",clipRule:"evenodd"}))}function oJ(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5.5 18a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 1 0v11a.5.5 0 0 1-.5.5Zm13 0a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 1 0v11a.5.5 0 0 1-.5.5ZM7.604 8l1.882 8h1.03L12 10.062 13.485 16h1.029l1.882-8h-1.027l-1.384 5.88L12.515 8h-1.03l-1.47 5.88L8.63 8H7.604Z",clipRule:"evenodd"}))}var o0=n(289637);let o5=["t","u","b","d"],o1=["r","l"],o7=/([rltubdc])([rltubdc]?)\s*$/i;var o2=((a=o2||{})[a.Vertical=0]="Vertical",a[a.Horizontal=1]="Horizontal",a[a.Center=2]="Center",a);let o4=e=>o5.includes(e),o3=e=>o1.includes(e),o8=e=>"c"===e,o6=e=>o4(e)?0:o3(e)?1:o8(e)?2:null,o9=(e,t,n)=>{switch(e){case"b":case"d":switch(t){case"l":return $.eVK.BOTTOM_LEFT;case"r":return $.eVK.BOTTOM_RIGHT;case null:return $.eVK.BOTTOM_CENTER}case"t":case"u":switch(t){case"l":return $.eVK.TOP_LEFT;case"r":return $.eVK.TOP_RIGHT;case null:return $.eVK.TOP_CENTER}case null:switch(t){case"l":return $.eVK.MIDDLE_LEFT;case"r":return $.eVK.MIDDLE_RIGHT;case null:if(n)return $.eVK.MIDDLE_CENTER}}return null};function se(e){let t=e.match(o7),n=null,l=null,r=null;if((null==t?void 0:t.length)===2){let e=t[1].toLowerCase(),a=o6(e);0===a?n=e:1===a?l=e:2===a&&(r=e)}else if((null==t?void 0:t.length)===3){let e=t[1].toLowerCase(),a=o6(e);0===a?n=e:1===a?l=e:2===a&&(r=e);let i=t[2].toLowerCase(),o=o6(i);if(0===o){if(n)throw new a9.LS("vertical anchor point already specified",null);n=i}else if(1===o){if(l)throw new a9.LS("horizontal anchor point already specified",null);l=i}else if(2===o){if(r)throw new a9.LS("center anchor point already specified",null);r=i}}return o9(n,l,r)}let st=e=>e.replace(o7,"");function sn(e,t){return(n,l)=>{if(!(0,m.kc)().ce_relative_xywh||n.type!==o0.By.SYNTAX_UNRECOGNIZED)return;let r=se(l);null!=r&&(l=st(l),eR.l7.user(e,()=>{t(l,r)!==it.zk.NO&&$.glU.triggerAction("commit",{})}))}}var sl=n(633138),sr=n(222077);function sa(e,t){return sn(e,(e,n)=>$.glU.setNodeSelectionSizeWithAnchor(e,t,n)?it.zk.YES:it.zk.NO)}let si=sa("relative-h",$._0v.Y),so=sa("relative-w",$._0v.X),ss=(0,s.createContext)(null);function sc({children:e}){let[t,n]=(0,lR.lJ)("height"),[l,r]=(0,lR.lJ)("minHeight"),[a,i]=(0,lR.lJ)("maxHeight"),o={key:"height",axis:$._0v.Y,dropdownAlignment:"right",limitIcon:sl.A,autolayoutMinMaxIcon:s.createElement(oq,null),removeLimitIcons:oi.XO.removeHeightLimit,relativeInputHandler:si,value:t,minValue:l,maxValue:a,setValue:n,setMinValue:r,setMaxValue:i,stackSize:(0,lR.kl)("stackVerticalSize"),isAuto:iL().heightIsAuto,variableField:"HEIGHT",minMaxOptions:[oi.zn,oi.jw],strings:{dimAbbrev:(0,F.t)("fullscreen.properties_panel.transform_panel.h"),dim:{fixed:(0,F.t)("fullscreen.properties_panel.transform_panel.height"),resizing:(0,F.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalResizing")},dimWithMinMax:{fixed:(0,F.t)("fullscreen.properties_panel.transform_panel.height_min_max"),resizing:(0,F.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalResizingMinMaxH")},dimWithMin:{fixed:(0,F.t)("fullscreen.properties_panel.transform_panel.height_min"),resizing:(0,F.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalResizingMinH")},dimWithMax:{fixed:(0,F.t)("fullscreen.properties_panel.transform_panel.height_max"),resizing:(0,F.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalResizingMaxH")}},scrubbableInputClass:iX.sC};return s.createElement(ss.Provider,{value:o},e)}function sd({children:e}){let[t,n]=(0,lR.lJ)("width"),[l,r]=(0,lR.lJ)("minWidth"),[a,i]=(0,lR.lJ)("maxWidth"),o={key:"width",axis:$._0v.X,dropdownAlignment:"left",limitIcon:sr.A,autolayoutMinMaxIcon:s.createElement(oJ,null),removeLimitIcons:oi.XO.removeWidthLimit,relativeInputHandler:so,value:t,minValue:l,maxValue:a,setValue:n,setMinValue:r,setMaxValue:i,stackSize:(0,lR.kl)("stackHorizontalSize"),isAuto:iL().widthIsAuto,variableField:"WIDTH",minMaxOptions:[oi.mw,oi.QG],strings:{dimAbbrev:(0,F.t)("fullscreen.properties_panel.transform_panel.w"),dim:{fixed:(0,F.t)("fullscreen.properties_panel.transform_panel.width"),resizing:(0,F.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalResizing")},dimWithMinMax:{fixed:(0,F.t)("fullscreen.properties_panel.transform_panel.width_min_max"),resizing:(0,F.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalResizingMinMaxW")},dimWithMin:{fixed:(0,F.t)("fullscreen.properties_panel.transform_panel.width_min"),resizing:(0,F.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalResizingMinW")},dimWithMax:{fixed:(0,F.t)("fullscreen.properties_panel.transform_panel.width_max"),resizing:(0,F.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalResizingMaxW")}},scrubbableInputClass:iX.BP};return s.createElement(ss.Provider,{value:o},e)}function sp(){let e=(0,s.useContext)(ss);if(!e)throw Error("DimensionInputConfigContext not initialized!");return e}function su(){return{next:{},numMatches:0,validWord:void 0}}function sm(){return{[(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.hug")]:$.mKm.HUG_CONTENT,[(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.hug_contents")]:$.mKm.HUG_CONTENT,[(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fill_container")]:$.mKm.FILL_CONTAINER,[(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fill")]:$.mKm.FILL_CONTAINER}}let sh="dimension_input--dropdownIcon--IaH6E",sg="dimension_input--comboBoxInput--J0jWQ",sE={width:{[$.mKm.FILL_CONTAINER]:oc,[$.mKm.FIXED]:r2,[$.mKm.HUG_CONTENT]:oo},height:{[$.mKm.FILL_CONTAINER]:od,[$.mKm.FIXED]:r4,[$.mKm.HUG_CONTENT]:os}};function s_(e){switch(e){case"FILL_CONTAINER":return $.mKm.FILL_CONTAINER;case"HUG_CONTENT":return $.mKm.HUG_CONTENT;case"FIXED":return $.mKm.FIXED;default:return null}}function sf({providedClassName:e,OriginalComponent:t}){return s.createElement("div",{className:"dimension_input--chevronContainer--CJdqK"},s.createElement(t,{providedClassName:e}))}function sy({checkSvg:e,selected:t,iconToReplaceCheck:n,icon:l,OriginalComponent:r}){return s.createElement(r,{ignoreCheck:!1,icon:s.createElement("div",{className:sh},l??n),iconToReplaceCheck:null,rightCheck:!1,selected:t,checkSvg:e})}function sv({OriginalComponent:e,property:t,onChange:n,...l}){let{stackSize:r,axis:a}=sp(),i=(0,oi.aj)(),o=function(e){let t=(0,s.useMemo)(sm,[]),n=(0,s.useMemo)(()=>(function(e){let t=su();for(let n of e){let e=t;for(let t=0;t<n.length;t++){let l=n[t].toUpperCase();e.next[l]=e.next[l]??su(),e.numMatches++,e=e.next[l]}e.validWord=n}return t})(Object.keys(t)),[t]);return(0,s.useCallback)(l=>{if(!l.length)return null;let r=new Set,a=function(e,t){let n=e;for(let e=0;e<t.length;e++){let l=t[e].toUpperCase();if(!(n=n.next[l]))return null}return n}(n,l);return a?(!function e(t,n){if(t.validWord&&!n(t.validWord))return!1;for(let l of Object.values(t.next))if(!e(l,n))return!1;return!0}(a,n=>{let l=t[n];return!e.has(l)||(r.add(l),!(r.size>1))}),1===r.size?$.mKm[Array.from(r)[0]]:null):null},[n,e,t])}(function(){let e=(0,ec.d4)(e=>e.mirror.selectionProperties.stackLayoutSizeOptions);return(0,s.useMemo)(()=>new Set((e??sT).map(e=>e.size)),[e])}()),c=(0,s.useMemo)(()=>null==r||(0,J.gl)(r)||r===$.mKm.FIXED?null:$.mKm[r],[r]),[p,u]=(0,s.useState)(null),{measurementNode:m,bestText:h}=function({property:e,stackSize:t,input:n}){let[l,r]=(0,s.useState)(null),[a,i]=(0,s.useState)(0),o=(0,s.useMemo)(()=>null==t?[]:function(e,t){switch(e){case $.mKm.HUG_CONTENT:return[(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.hug"),(0,F.t)("fullscreen.properties_panel.stack_panel.al.hug_with_value",{value:t})];case $.mKm.FILL_CONTAINER:return[(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fill"),(0,F.t)("fullscreen.properties_panel.stack_panel.al.fill_with_value",{value:t})]}}(t,e),[e,t]),c=(0,s.useMemo)(()=>o.map(()=>s.createRef()),[o]),d=(0,s.useMemo)(()=>s.createElement(s.Fragment,null,o.map((e,t)=>s.createElement("span",{key:t,ref:c[t],className:"dimension_input--measuredInputText--E0PKL"},e))),[o,c]);return(0,s.useLayoutEffect)(()=>{n&&i(n.getBoundingClientRect().width);let e=new ResizeObserver(e=>{i(e[0].contentRect.width)});if(n)return e.observe(n),()=>e.unobserve(n)},[n]),(0,s.useLayoutEffect)(()=>{if(!c.length){null!==l&&r(null);return}let e=c.map(e=>{var t;return a-((null==(t=e.current)?void 0:t.getBoundingClientRect().width)??0)}).reduce((e,t,n,l)=>t<l[e]&&t>=0?n:e,0);l!==o[e]&&r(o[e])},[l,r,a,o,c]),{measurementNode:d,bestText:l}}({property:t,stackSize:null!=r&&r!==$.mKm.FIXED&&(0,J.hS)(r)?r:null,input:p}),g=(0,s.useMemo)(()=>(function(e,t,n){var l;let r={...e};Object.setPrototypeOf(r,oi.Zg.prototype);let a=r.format.bind(r);r.format=e=>n||a(e);let i=r.parse.bind(r);r.parse=e=>{let n=t(e);return null!=n?n:i(e)};let o=null==(l=r.clamp)?void 0:l.bind(r);return o&&(r.clamp=e=>e===$.mKm[$.mKm.FILL_CONTAINER]||e===$.mKm[$.mKm.HUG_CONTENT]?e:o(e)),r.isEqual=(e,t)=>"string"==typeof e||"string"==typeof t?e===t:a(e)===a(t),r})(l.formatter,o,h),[l.formatter,o,h]),{forwardedRef:E}=l;return s.createElement(s.Fragment,null,s.createElement(e,{...l,outerClassName:sg,formatter:g,property:c??t,pillsContainerClassName:"dimension_input--comboBoxPillsContainer--Uv3fj",onChange:e=>{let t="string"==typeof e?s_(e):null;if(t){i(t,a),sP(t,a);return}i(null,a),n(e)},forwardedRef:(0,s.useCallback)(e=>{u(e),"function"==typeof E?E(e):E&&(E.current=e)},[u,E])}),s.createElement("div",{className:d()(sg,"dimension_input--hideMeasurementNode--7MP1z")},m))}function sb(){let e=(0,lR.kl)("nodesAreAllStacksOrInStacks"),{minValue:t,maxValue:n}=sp();return(!(0,eN.uy)(t)||!(0,eN.uy)(n))&&e}function sS(e){let{strings:t,value:n,setValue:l,key:r,variableField:a,relativeInputHandler:i,scrubbableInputClass:o}=sp(),c=(0,tS.Rt)(),d=(0,tS.wR)(),p=oj(),u=d&&p,h=iM({key:r,setValue:l}),g=(0,oi.f3)(),E=oW();return g?s.createElement(sC,{onSizeConstraintClick:e.onSizeConstraintClick,onEvaluateExpressionError:i,disabled:E,recordingKey:_.Pt(e,`${r}Input`),showResizingTooltips:u}):s.createElement(tc.E,{name:`${r}_input`},s.createElement(oY.e,{condition:!g,wrapper:t=>s.createElement(ib.sA,{recordingKey:_.Pt(e,`${r}InputWrapper`),fields:[a],disabled:e.disabled,resolvedType:$.rXF.FLOAT,currentFieldValue:(0,J.hS)(n)?n:void 0,inputClassName:o},t)},s.createElement(rL.$j,{isTokenizable:!0,inputClassName:iX.hF,value:n??0,disabled:e.disabled,...h,onEvaluateExpressionError:i,noBorderOnHover:!0,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":u?t.dim.resizing:t.dim.fixed,"data-tooltip-show-on-target-only":c||void 0,tooltipForScreenReadersOnly:!c,dataTestId:`transform-${r}`,recordingKey:_.Pt(e,`${r}Input`),min:(0,m.kc)().editor_zero_width_input?1e-4:void 0},s.createElement("span",{className:`${iX.QK} svg`},t.dimAbbrev))))}function sw({OriginalComponent:e,...t}){let{stackSize:n,axis:l}=sp(),r=(0,oi.aj)(),a=(0,s.useMemo)(()=>(0,J.hS)(n)&&null!=n?n:null,[n]);return s.createElement(e,{...t,property:null!=a?$.mKm[a]:t.property,openBelowTarget:!1,onOptionFocus:(e,n)=>{var a;null==(a=t.onOptionFocus)||a.call(t,e,n),r(s_(e),l)},inputClassName:"dimension_input--selectInput--yZiCE"})}let sT=[];function sP(e,t){eR.l7.user("change-stack-layout-size",()=>{$.Qa7.setStackSizeOnSelection(e,t)})}function sC(e){let{minValue:t,maxValue:n,setValue:l,setMinValue:r,setMaxValue:a,key:i,axis:o,variableField:c,minMaxOptions:p,strings:u,autolayoutMinMaxIcon:m,limitIcon:h,dropdownAlignment:g,stackSize:E}=sp(),f=(0,tS.wR)(),y=sb(),v=function(e){let t=(0,tS.wR)(),n=(0,ec.d4)(e=>e.mirror.selectionProperties.stackLayoutSizeOptions)??sT,{minMaxOptions:l,removeLimitIcons:r,key:a}=sp(),i=(0,lR.kl)("isInstanceSublayerSelected"),o=sb();return(0,s.useMemo)(()=>{let c=[];if(t&&(n.forEach(e=>{let t=sE[a][e.size];c.push(s.createElement(r8.c$,{disabled:e.disabled,additionalStylesClassName:iX.wO,key:$.mKm[e.size],value:$.mKm[e.size],iconToReplaceCheck:s.createElement(t,null)}))}),c.push(s.createElement(r8.sK,{key:"ui3-divider"}))),l.forEach(n=>{let[l,r]=oi.XO[n];c.push(s.createElement(r8.c$,{additionalStylesClassName:iX.wO,iconToReplaceCheck:s.createElement(op.t,{className:t?sh:iX.vP,svg:l,fallbackSvg:r}),key:n,value:n,disabled:!!i,recordingKey:_.Pt(e,"select",n)}))}),o&&!i){let[n,l]=r;c.push(s.createElement(r8.sK,{key:"first-divider"})),c.push(s.createElement(r8.c$,{additionalStylesClassName:iX.wO,key:oi.zg,value:oi.zg,iconToReplaceCheck:s.createElement(op.t,{className:t?sh:iX.vP,svg:n,fallbackSvg:l}),recordingKey:_.Pt(e,"select",oi.zg)}))}return c},[o,i,l,e,r,t,n,a])}(e),b=iM({key:i,setValue:l}),S=(0,oi.jQ)(i,e.onEvaluateExpressionError),[w,T]=(0,rB.fp)(oi.Kl),[P,C]=(0,rB.fp)(oi.Md),k=w[i].min||w[i].max,I=(0,oi.wf)(i),N=(0,oi.Fp)(),A=(0,tS.Rt)(),R=y?s.createElement("div",{className:iX.QK},s.createElement(eg.U,{svg:h,role:"img"},m)):s.createElement("span",{className:`${iX.QK} svg`},u.dimAbbrev),O=u.dim;null!=t&&null!=n?O=u.dimWithMinMax:null!=t?O=u.dimWithMin:null!=n&&(O=u.dimWithMax);let M=e.showResizingTooltips&&A?O.resizing:O.fixed,x=(0,oi.aj)();return s.createElement(oX.ow,{value:{select:f?sw:void 0,inputComponent:f?sv:void 0}},s.createElement(r8.tV,{value:{chevron:f?sf:void 0,leftCheckIcon:f?sy:void 0}},s.createElement(tc.E,{name:`${i}_input_min_max_combobox`},s.createElement(o$.S,{id:`${i}Transform`,options:v,outerClassName:d()(iX.Kw,{"dimension_input--ui3ComboBoxContainer--BbSLS":f}),...function(e){let t=(0,tS.wR)(),{value:n,isAuto:l,key:r}=sp(),a=l&&(0,J.hS)(n)&&!t,i=(0,oi.jQ)(r,void 0);return{value:a?void 0:n??0,placeholder:a?i.format(n):void 0}}(),formatter:S,variableField:c,onChange:(t,n)=>{if("number"==typeof t)b.onValueChange(t,n);else if(t===p[0])e.onSizeConstraintClick("min");else if(t===p[1])e.onSizeConstraintClick("max");else if(t===oi.zg)r(null,it.zk.NO),a(null,it.zk.NO),X.Y5.triggerAction("commit"),T({...w,[i]:{min:!1,max:!1}}),C(null);else if("string"==typeof t){let e=s_(t);null!=e&&sP(e,o)}},dropdownWidth:f||y?173:147,tooltipText:M,showTooltipOnTargetOnly:A,iconId:`${i}-label`,dropdownAlignment:g,label:R,"data-tooltip-max-width":200,disabled:e.disabled,onFocus:()=>N("minmax",{axis:o,renderLabels:!1},oi.qi.YES),onBlur:()=>{N("minmax",{axis:o,renderLabels:!1},oi.qi.YES_ONLY_MIN_MAX)},onMouseEnterNonPropagating:()=>{f&&x((0,J.hS)(E)&&null!=E?E:null,o)},onMouseEnter:()=>{N("minmax",{axis:o,renderLabels:!0})},onMouseLeave:()=>{N("minmax",null),f&&x(null,o)},onScrubBegin:f?()=>{x(null,o)}:void 0,onScrubClick:y||k?I:void 0,onKeyUp:b.onKeyUp,mixedMathHandler:b.mixedMathHandler,onMixedMathNudge:b.onMixedMathNudge,source:"panel",noBorderOnFocus:!0,omitValueFromDropdown:!0,openBelowTarget:!0,shiftVariableOptionToAlign:!0,inputTestId:`transform-${i}`,onboardingKey:`transform-${i}`,recordingKey:e.recordingKey}))))}function sk(e){return s.createElement(sc,null,s.createElement(sS,{...e}))}var sI=n(790484);function sN(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("mask",{id:"fpl-icon-24-lock-open-small-a",fill:"#fff"},s.createElement("path",{fillRule:"evenodd",d:"M10 8a2 2 0 1 1 4 0v.5a.5.5 0 0 0 1 0V8a3 3 0 1 0-6 0v3h-.5A1.5 1.5 0 0 0 7 12.5v4A1.5 1.5 0 0 0 8.5 18h7a1.5 1.5 0 0 0 1.5-1.5v-4a1.5 1.5 0 0 0-1.5-1.5H10V8Z",clipRule:"evenodd"})),s.createElement("path",{fill:"var(--color-icon)",d:"M9 11v1h1v-1H9Zm1 0H9v1h1v-1Zm2-6a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V5Zm3 3a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2Zm0 .5V8h-2v.5h2Zm-.5-.5a.5.5 0 0 1 .5.5h-2a1.5 1.5 0 0 0 1.5 1.5V8Zm-.5.5a.5.5 0 0 1 .5-.5v2A1.5 1.5 0 0 0 16 8.5h-2Zm0-.5v.5h2V8h-2Zm-2-2a2 2 0 0 1 2 2h2a4 4 0 0 0-4-4v2Zm-2 2a2 2 0 0 1 2-2V4a4 4 0 0 0-4 4h2Zm0 3V8H8v3h2Zm-1.5 1H9v-2h-.5v2Zm-.5.5a.5.5 0 0 1 .5-.5v-2A2.5 2.5 0 0 0 6 12.5h2Zm0 4v-4H6v4h2Zm.5.5a.5.5 0 0 1-.5-.5H6A2.5 2.5 0 0 0 8.5 19v-2Zm7 0h-7v2h7v-2Zm.5-.5a.5.5 0 0 1-.5.5v2a2.5 2.5 0 0 0 2.5-2.5h-2Zm0-4v4h2v-4h-2Zm-.5-.5a.5.5 0 0 1 .5.5h2a2.5 2.5 0 0 0-2.5-2.5v2ZM10 12h5.5v-2H10v2ZM9 8v3h2V8H9Z",mask:"url(#fpl-icon-24-lock-open-small-a)"}))}var sA=n(277951),sR=n(48453),sO=n(402042),sM=n(505740);function sx(e){let[t,n]=(0,lR.lJ)("proportionsConstrained"),l=(0,tS.Rt)(),r=()=>{(0,m.kc)().ce_properties_panel_tracking&&(0,p.sx)("editor-transform-panel-change",{key:"proportionsConstrained",value:!(0,J._W)(t,!1)}),n(!(0,J._W)(t,!1))},a=(0,F.t)("fullscreen.properties_panel.transform_panel.constrain_proportions");return l?s.createElement(tc.E,{name:"dimensions_constrained_toggle"},s.createElement(tB.K,{disabled:e.disabled,onClick:r,actionOnPointerDown:!0,recordingKey:_.Pt(e,"constrainProportionsToggle"),"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":a,"aria-label":a},t?s.createElement(sI.c,null):s.createElement(sN,null))):s.createElement(tc.E,{name:"dimensions_constrained_toggle"},s.createElement(a8.m,{disabled:e.disabled,toggled:(0,J._W)(t,!1),svg:t?sA.A:sR.A,fallbackSvg:t?sM.A:sO.A,className:iX.gb,onMouseDown:r,recordingKey:_.Pt(e,"constrainProportionsToggle"),"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":a}))}var sL=n(862782),sK=n(618945);function sF(e){let[t,n]=(0,lR.lJ)("stackPositioning"),l=(0,i8.am)();return s.createElement(a8.m,{svg:sL.A,fallbackSvg:sK.A,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.absolute_position"),onMouseDown:()=>{eR.l7.user("set-stack-position",()=>{"ABSOLUTE"===t?(n("AUTO"),l("Remove Absolute Position")):(n("ABSOLUTE",it.zk.NO),$.glU.bringSelectionToFrontVisually(),$.glU.triggerAction("commit",{}),l("Add Absolute Position"))})},recordingKey:_.Pt(e,"absolutePosition"),toggled:"ABSOLUTE"===t,disabled:e.disabled,className:iX.gb,dataTestId:"stack-positioning-toggle"})}function sD(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6 5a1 1 0 0 0-1 1v2.5a.5.5 0 0 0 1 0V6h2.5a.5.5 0 0 0 0-1H6Zm12 0a1 1 0 0 1 1 1v2.5a.5.5 0 0 1-1 0V6h-2.5a.5.5 0 1 1 0-1H18ZM5 18a1 1 0 0 0 1 1h2.5a.5.5 0 0 0 0-1H6v-2.5a.5.5 0 0 0-1 0V18Zm13 1a1 1 0 0 0 1-1v-2.5a.5.5 0 0 0-1 0V18h-2.5a.5.5 0 1 0 0 1H18ZM12.5 8.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3Z",clipRule:"evenodd"}))}function sH(){let e=(0,lR.kl)("nodesAreAllInsideStacks"),t=oW(),[n,l]=(0,lR.lJ)("stackPositioning"),r=(0,i8.am)(),a=(0,lR.kl)("isInstanceSublayerSelected");return e&&!t?s.createElement(tE.YW,{disabled:!!a,selected:"ABSOLUTE"===n,"data-tooltip":(0,F.t)("properties.tooltip.ignore_auto_layout"),"data-tooltip-type":ef.Ib.TEXT,onClick:()=>{eR.l7.user("set-stack-position",()=>{"ABSOLUTE"===n?(l("AUTO"),r("Remove Absolute Position")):(l("ABSOLUTE",it.zk.NO),$.glU.bringSelectionToFrontVisually(),$.glU.triggerAction("commit",{}),r("Add Absolute Position"))})}},s.createElement(sD,null)):null}function sB(e){return s.createElement(sd,null,s.createElement(sS,{...e}))}let sV=sn("relative-x",(e,t)=>$.glU.setNodeSelectionOffsetWithAnchor(e,$._0v.X,t)?it.zk.YES:it.zk.NO);function sU(e){let[t,n]=(0,lR.lJ)("x"),l=iM({key:"x",setValue:n}),{version:r}=(0,em.DP)(),a="ui3"===r;return s.createElement(tc.E,{name:"x_input"},s.createElement(rL.gq,{...l,onEvaluateExpressionError:sV,className:iX.BP,inputClassName:iX.hF,value:t,disabled:e.disabled,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":a?(0,F.t)("properties.tooltip.xposition"):(0,F.t)("fullscreen.properties_panel.transform_panel.x"),tooltipForScreenReadersOnly:!a,recordingKey:_.Pt(e.recordingKey,"xInput")},s.createElement("span",{className:`${iX.QK} svg`},s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.x"}))))}let sz=sn("relative-y",(e,t)=>$.glU.setNodeSelectionOffsetWithAnchor(e,$._0v.Y,t)?it.zk.YES:it.zk.NO);function sZ(e){let[t,n]=(0,lR.lJ)("y"),l=iM({key:"y",setValue:n}),{version:r}=(0,em.DP)(),a="ui3"===r;return s.createElement(tc.E,{name:"y_input"},s.createElement(rL.gq,{...l,onEvaluateExpressionError:sz,className:iX.BP,inputClassName:iX.hF,value:t,disabled:e.disabled,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":a?(0,F.t)("properties.tooltip.yposition"):(0,F.t)("fullscreen.properties_panel.transform_panel.y"),tooltipForScreenReadersOnly:!a,recordingKey:_.Pt(e.recordingKey,"yInput")},s.createElement("span",{className:`${iX.QK} svg`},s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.y"}))))}function sG(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m14.146 11.854 2 2a.5.5 0 0 0 .708-.708L15.707 12H19.5a.5.5 0 0 0 0-1h-3.793l1.147-1.146a.5.5 0 0 0-.708-.708l-2 2a.5.5 0 0 0 0 .708Zm-3.292 0-2 2a.5.5 0 0 1-.708-.708L9.293 12H5.5a.5.5 0 0 1 0-1h3.793L8.146 9.854a.5.5 0 1 1 .708-.708l2 2a.5.5 0 0 1 0 .708ZM13 5.5a.5.5 0 0 0-1 0v12a.5.5 0 0 0 1 0v-12Z",clipRule:"evenodd"}))}function sY(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M19 6.5a.5.5 0 0 0-1 0v10a.5.5 0 0 0 1 0v-10Zm-13 0a.5.5 0 0 0-1 0v10a.5.5 0 0 0 1 0v-10Zm10.854 4.646a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 0 1-.708-.708L15.293 12H8.707l1.647 1.646a.5.5 0 0 1-.708.708l-2.5-2.5a.5.5 0 0 1 0-.708l2.5-2.5a.5.5 0 0 1 .708.708L8.707 11h6.586l-1.647-1.646a.5.5 0 0 1 .708-.708l2.5 2.5Z",clipRule:"evenodd"}))}function sW(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m11.854 10.854 2-2a.5.5 0 0 0-.708-.708L12 9.293V5.5a.5.5 0 0 0-1 0v3.793L9.854 8.146a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0Zm0 3.292 2 2a.5.5 0 0 1-.708.708L12 15.707V19.5a.5.5 0 0 1-1 0v-3.793l-1.146 1.147a.5.5 0 0 1-.708-.708l2-2a.5.5 0 0 1 .708 0ZM5.5 12a.5.5 0 0 0 0 1h12a.5.5 0 0 0 0-1h-12Z",clipRule:"evenodd"}))}function sX(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.5 5a.5.5 0 0 0 0 1h10a.5.5 0 0 0 0-1h-10Zm0 13a.5.5 0 0 0 0 1h10a.5.5 0 0 0 0-1h-10Zm4.646-10.854a.5.5 0 0 1 .708 0l2.5 2.5a.5.5 0 0 1-.708.708L12 8.707v6.586l1.646-1.647a.5.5 0 0 1 .708.708l-2.5 2.5a.5.5 0 0 1-.708 0l-2.5-2.5a.5.5 0 0 1 .708-.708L11 15.293V8.707l-1.646 1.647a.5.5 0 0 1-.708-.708l2.5-2.5Z",clipRule:"evenodd"}))}var s$=n(646240),sQ=n(571728);function sj(e){let t=(0,oi.Wr)(),n=(0,rB.md)(oi.Kl),l=(0,rB.md)(oi.Md),r=(0,oi.Fp)(),a=(0,s.useRef)(null),i=!e.visible||!(0,oi.tH)(n),o="ui3"===(0,em.DP)().version;if((0,oi.Nu)(!i,()=>r("minmax",null,oi.qi.YES),a,e.widthHeightRowRef),i)return null;let c=0,d=0,p=[];function u(e){let t=null!=l&&l.widthOrHeight===e.widthOrHeight&&l.minOrMax===e.minOrMax;return s.createElement(sJ,{key:`${e.widthOrHeight}-${e.minOrMax}`,minMaxApi:e,shouldFocus:t,recordingKey:`minMaxDropdown.${e.minOrMax}${e.widthOrHeight}`})}function m(e){switch(e.minOrMaxWidthOrHeight){case"minWidth":return s.createElement(F.Tx,{id:"properties.label.min_width"});case"maxWidth":return s.createElement(F.Tx,{id:"properties.label.max_width"});case"minHeight":return s.createElement(F.Tx,{id:"properties.label.min_height"});case"maxHeight":return s.createElement(F.Tx,{id:"properties.label.max_height"})}}n.width.min&&(c++,p.push(t.width.min)),n.width.max&&(c++,p.push(t.width.max)),n.height.min&&(d++,p.push(t.height.min)),n.height.max&&(d++,p.push(t.height.max));let h=p.map(u),g=p.map(m);return c+d===1?o?s.createElement(tw.fn,{ref:a,leftLabel:g[0],leftInput:h[0],rightLabel:null,rightInput:null,icon:null}):s.createElement(eK.fI,{forwardedRef:a},h[0]):1===c&&1===d?o?s.createElement(tw.fn,{ref:a,leftLabel:g[0],leftInput:h[0],rightLabel:g[1],rightInput:h[1],icon:null}):s.createElement(eK.fI,{forwardedRef:a},h):c+d===2?o?s.createElement("div",{ref:a},s.createElement(tw.fn,{ref:a,leftLabel:g[0],leftInput:h[0],rightLabel:null,rightInput:null,icon:null}),s.createElement(tw.fn,{ref:a,leftLabel:g[1],leftInput:h[1],rightLabel:null,rightInput:null,icon:null})):s.createElement("div",{ref:a},s.createElement(eK.fI,null,h[0]),s.createElement(eK.fI,null,h[1])):o?s.createElement("div",{ref:a},s.createElement(tw.fn,{leftLabel:m(t.width.min),leftInput:u(t.width.min),rightLabel:m(t.height.min),rightInput:u(t.height.min),icon:null}),s.createElement(tw.fn,{leftLabel:m(t.width.max),leftInput:u(t.width.max),rightLabel:m(t.height.max),rightInput:u(t.height.max),icon:null})):s.createElement("div",{ref:a},s.createElement(eK.fI,null,u(t.width.min),u(t.height.min)),s.createElement(eK.fI,null,u(t.width.max),u(t.height.max)))}function sq(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.min_width_tt"):(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.max_width_tt");case"height":return"min"===e.minOrMax?(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.min_height_tt"):(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.max_height_tt")}}function sJ(e){let{minMaxApi:t,shouldFocus:n}=e,l=(0,lR.kl)("isInstanceSublayerSelected"),r=(0,lR.kl)(t.widthOrHeight),a=(0,lR.kl)(t.minOrMaxWidthOrHeight),i=(0,oi.Fp)(),o=(0,s.useRef)(0),c=(0,s.useRef)(new Map),d=(0,s$.Xr)(oi.Md),[p,u]=(0,rB.fp)(oi.Kl),m=(0,tS.Rt)(),h=[];r!==t.value&&h.push(oi.vC),h.push(oi.Bn);let g=h.map(t=>{let n=(0,J.gl)(r);return s.createElement(r8.c$,{recordingKey:_.Pt(e.recordingKey,"select",t),key:t,value:t,disabled:!!l||t===oi.vC&&n})}),[E,f]=(0,oi.Xb)(t),y=s.useRef(null),v=function(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?"MIN_WIDTH":"MAX_WIDTH";case"height":return"min"===e.minOrMax?"MIN_HEIGHT":"MAX_HEIGHT"}}(t);var b=void 0;switch(t.widthOrHeight){case"width":b="min"===t.minOrMax?s.createElement(sG,null):s.createElement(sY,null);break;case"height":b="min"===t.minOrMax?s.createElement(sW,null):s.createElement(sX,null)}let S="width"===t.widthOrHeight?$._0v.X:$._0v.Y;s.useEffect(()=>{var e,t;n&&(null==(e=y.current)||e.focus(),null==(t=y.current)||t.select())},[n]);let w=(0,oi.VY)(t),{clearVariableConsumption:T}=(0,o$.O)(v,$.rXF.FLOAT);class P extends iN.M{getValueForNode(e){return $.Egt.getNodeTransformProperties(e.guid)[t.minOrMaxWidthOrHeight]}setValueForNode(e,n,l){let r={[t.minOrMaxWidthOrHeight]:n};if(l&&c.current.has(e.guid)){let l=c.current.get(e.guid);r[t.widthOrHeight]=l;let a=(0,oi.jz)(e,l,n,t.widthOrHeight);a!==l&&(r[t.widthOrHeight]=a),r.sizeChangeIsAutomatic=!0}$.Egt.setNodeTransformProperties(e.guid,r)}}return s.createElement(o$.S,{id:`minMaxDropdown.${e.minMaxApi.minOrMax}${e.minMaxApi.widthOrHeight}`,options:g,inputRef:y,outerClassName:"width"===t.widthOrHeight?iX.Kw:iX.X8,value:t.value,formatter:w,mixedMathHandler:new P,variableField:v,onScrubBegin:()=>{(0,J.gl)(a)?(0,sQ.fv)().forEach(e=>{c.current.set(e.guid,e.size[S===$._0v.X?"x":"y"])}):"number"==typeof r?o.current=r:o.current=0},onScrubEnd:()=>{c.current.clear(),o.current=0},onChange:(e,n=it.zk.YES)=>{if(T(it.zk.NO),e===oi.vC)"number"==typeof r&&t.set(r||null,it.zk.NO);else if(e===oi.Bn){t.set(null,it.zk.NO);let e={[t.widthOrHeight]:{...p[t.widthOrHeight],[t.minOrMax]:!1}};u({...p,...e}),d(null)}else("number"==typeof e||null==e)&&t.set(e,it.zk.NO,o.current);n===it.zk.YES&&X.Y5.triggerAction("commit")},dropdownWidth:162,dropdownAlignment:"width"===t.widthOrHeight?"left":"right",noBorderOnFocus:!0,iconId:`icon-${e.minMaxApi.widthOrHeight}-${e.minMaxApi.minOrMax}`,icon:E,ui3Icon:b,fallbackIcon:f,tooltipText:sq(t),showTooltipOnTargetOnly:m,"data-tooltip-max-width":200,onFocus:()=>i("minmax",{axis:S,renderLabels:!0},oi.qi.YES),onBlur:()=>{i("minmax",{axis:S,renderLabels:!0},oi.qi.YES_ONLY_MIN_MAX),d(null)},onMouseEnter:()=>i("minmax",{axis:S,renderLabels:!0}),onMouseLeave:()=>i("minmax",null),inputTestId:`transform-${e.minMaxApi.widthOrHeight}-${e.minMaxApi.minOrMax}`,source:"panel",allowEmpty:!0,placeholder:function(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.min_width_short"):(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.max_width_short");case"height":return"min"===e.minOrMax?(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.min_height_short"):(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.max_height_short")}}(t),omitValueFromDropdown:!0,shouldFocus:n,"aria-label":sq(t),recordingKey:e.recordingKey,openBelowTarget:!0,shiftVariableOptionToAlign:!0})}function s0(e){let t=(0,lA.Zr)("align-left"),n=(0,lA.Zr)("align-horizontal-center"),l=(0,lA.Zr)("align-right"),r=(0,lA.Zr)("align-top"),a=(0,lA.Zr)("align-vertical-center"),i=(0,lA.Zr)("align-bottom"),o=s5(),[c,d]=(0,s.useState)(!1),p=(0,lA.vm)(rb),u=c&&e.isHoveringOverPanel&&p,m=(0,s.useCallback)(e=>{d(e.altKey||e.shiftKey)},[]);(0,s.useEffect)(()=>{function e(){d(!1)}return document.addEventListener("keydown",m),document.addEventListener("keyup",m),window.addEventListener("blur",e),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",m),window.removeEventListener("blur",e)}},[m]);let h=s.createElement(iW,{controls:u?[o("align-left-as-group",s.createElement(lU,null),!0),o("align-horizontal-center-as-group",s.createElement(lz,null),!0),o("align-right-as-group",s.createElement(lZ,null),!0)]:[o("align-left",s.createElement(lK,null),t),o("align-horizontal-center",s.createElement(lF,null),n),o("align-right",s.createElement(lD,null),l)]}),g=s.createElement(iW,{controls:u?[o("align-top-as-group",s.createElement(lH,null),!0),o("align-vertical-center-as-group",s.createElement(lB,null),!0),o("align-bottom-as-group",s.createElement(lV,null),!0)]:[o("align-top",s.createElement(lM,null),r),o("align-vertical-center",s.createElement(lx,null),a),o("align-bottom",s.createElement(lL,null),i)]});return s.createElement(tw.fn,{leftLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_position.label_alignment"}),leftInput:h,rightLabel:null,rightInput:g,icon:s.createElement(rP,{actions:rS})})}let s5=()=>{let e=(0,lO.X)();return s.useCallback((t,n,l)=>({"aria-label":t,"data-tooltip":t,"data-tooltip-type":ef.Ib.LOOKUP,children:n,disabled:!l,onMouseDown:t=>{(null==e?void 0:e.id.startsWith("paint"))&&t.stopPropagation()},onClick:()=>{X.Y5.triggerActionInUserEditScope(t)}}),[e])};var s1=n(91990),s7=n(324799),s2=n(695150),s4=n(708273),s3=n(287126),s8=n(332536);let s6=s.memo(function(e){let t=iD(),n=iH(),l=(0,tS.Rt)(tS.G1.READY),r=(0,lR.kl)("stackMode"),a=null!=r&&"NONE"!==(0,J.E7)(r),i=(0,lR.kl)("nodesAreAllInsideStacks"),o=(0,iA.J2)($.Ez5.propertiesPanelState().shownPropertiesPanels),c=l&&!o[$.ibQ.TRANSFORM_ITEM],d=t.framePresetsItem&&n.transform,p=a||i,u=(0,s.useRef)(null),m=(0,ec.d4)(eO.qd),h=(0,tS.wR)(),[g,E]=rR(),f=s.createElement(s.Fragment,null,!l&&d&&e.propertiesPanelState===nh.GR.DEFAULT_EXPANDED&&s.createElement(ce,{recordingKey:e.recordingKey}),s.createElement(cn,{transformDisabled:!n.transform,recordingKey:e.recordingKey,showFrameFitButton:!d&&!t.sectionItem,pickerShown:e.pickerShown,canEditConstraints:e.canEditConstraints,openFileKey:e.openFileKey}),!l&&s.createElement(s.Fragment,null,s.createElement(cl,{recordingKey:e.recordingKey,forwardedRef:u}),s.createElement(sj,{visible:!!p,widthHeightRowRef:u})),p&&!h&&s.createElement(ok,{recordingKey:_.Pt(e.recordingKey,"autolayoutSizing")}),(t.angle||t.cornerRadius)&&s.createElement(i2,{key:m.join("-"),cornerRadiusShown:t.cornerRadius,cornerRadiusDisabled:!n.cornerRadius,rectangleCornersShown:t.rectangleCornerRadii,rectangleCornersDisabled:!n.rectangleCornerRadii,angleShown:t.angle,angleDisabled:!n.angle,recordingKey:e.recordingKey}),(t.count||t.starInnerScale)&&!l&&s.createElement(cr,{countShown:t.count,countDisabled:!n.count,starInnerScaleShown:t.starInnerScale,starInnerScaleDisabled:!n.starInnerScale,recordingKey:e.recordingKey}),t.arcData&&!l&&s.createElement(ca,{arcDataDisabled:!n.arcData,recordingKey:e.recordingKey}),t.fixedFrameOptions&&!l&&s.createElement(oD,{recordingKey:e.recordingKey}),s.createElement(oU,{recordingKey:e.recordingKey}));return s.createElement(b.p,{name:"transform_panel"},s.createElement(eK.Zk,{"data-onboarding-key":i6.W,"data-non-interactive":!0,...E},l&&s.createElement(tH.iE,{titleTx:s.createElement(F.Tx,{id:"fullscreen.appearance_panel.position"}),icon:s.createElement(sH,null)}),l&&s.createElement(s0,{isHoveringOverPanel:g}),!c&&f))});function s9(e){let t=(0,lR.kl)("width"),n=(0,lR.kl)("height"),l=(0,lR.kl)("isInstanceSelected"),r=(0,lR.kl)("isInstanceSublayerSelected"),a=(0,lR.kl)("resizeToFit"),i=(0,lR.kl)("canBecomeFrame"),o=(0,lR.kl)("canBecomeGroup"),c=(0,lR.kl)("canBecomeSection"),d=(0,lR.kl)("isSection"),p=(0,lR.kl)("isWidgetSelected"),u=(0,lR.kl)("stackMode"),m=(0,ec.d4)(e=>e.dropdownShown),h=(0,ec.wA)();return s.createElement(aB,{leftIcon:e.leftIcon,selectClassName:e.selectClassName,inputClassName:e.inputClassName,width:t,height:n,resizeToFit:a,stackMode:u,dispatch:h,dropdownShown:m,canBecomeFrame:!!i,canBecomeGroup:!!o,canBecomeSection:!!c,isSection:!!d,isOrInInstance:!!(l||r),isWidget:!!p,id:e.id,recordingKey:e.recordingKey})}let ce=s.memo(function(e){let t=iD(),n=(0,lR.kl)("width"),l=(0,lR.kl)("height"),r=(0,lR.kl)("resizeToFit"),a=(0,lR.kl)("stackMode"),i=(0,lR.kl)("stackCounterSizing"),o=(0,ec.d4)(e=>(0,ei.Yh)(e.mirror.appModel,"resize-to-fit")),c=null!=a&&"NONE"!==a,d=c&&(0,J.hS)(i)&&"RESIZE_TO_FIT"===i,{version:p}=(0,em.DP)(),u=o?iX.xP:iX.iq,m=s.createElement(s9,{id:"frame-preset-dropdown",selectClassName:u,inputClassName:iX.KG,recordingKey:_.Pt(e,"framePresetDropdown")}),h=s.createElement(aV,{className:iX.gb,recordingKey:_.Pt(e,"frameFitButton")});return"ui3"===p?s.createElement(tw.fn,{leftLabel:null,leftInput:m,rightLabel:null,rightInput:null,icon:t.sectionItem&&(!o||d)?null:h}):s.createElement(eK.fI,null,m,o&&!c&&s.createElement(oa,{width:n,height:l,resizeToFit:r,recordingKey:_.Pt(e,"frameOrientation")}),o&&!d&&s.createElement(s.Fragment,null,h))});function ct(){let e=oj(),t=(0,tS.wR)();return e&&t?s.createElement(F.Tx,{id:"properties.label.resizing"}):s.createElement(F.Tx,{id:"properties.label.dimensions"})}function cn(e){let t="xy-inputs-row",n=(0,lR.kl)("nodesAreAllInsideStacks"),l=(0,lR.kl)("stackPositioning"),r=(0,lR.kl)("isInstanceSublayerSelected"),{version:a}=(0,em.DP)(),i=(0,ec.wA)(),o=s.useRef(null),c=!!n&&"AUTO"===l||e.transformDisabled,d=!!n,p=(0,lA.Zr)("resize-to-fit"),u=e.showFrameFitButton&&p&&!d;if("ui2"===a)return s.createElement(eK.fI,{dataTestId:"x-y-inputs-row"},s.createElement(sU,{disabled:c,recordingKey:e.recordingKey}),s.createElement(sZ,{disabled:c,recordingKey:e.recordingKey}),u&&s.createElement(aV,{className:iX.gb}),d&&s.createElement(sF,{disabled:!!r,recordingKey:e.recordingKey}));let m=()=>e.pickerShown&&e.pickerShown.id===t?e.pickerShown:null,h=m();return s.createElement(s.Fragment,null,s.createElement(tw.fn,{ref:o,"data-testid":"x-y-inputs-row",leftLabel:s.createElement(F.Tx,{id:"properties.label.position"}),leftInput:s.createElement(sU,{disabled:c,recordingKey:e.recordingKey}),rightLabel:null,rightInput:s.createElement(sZ,{disabled:c,recordingKey:e.recordingKey}),icon:e.canEditConstraints?s.createElement(eK.YW,{onClick:e=>{if(e.stopPropagation(),m())i(D.XE());else{let e=(0,ey.cn)(es.findDOMNode(o.current));i(D.u1({id:t,initialX:e.x,initialY:e.y}))}},onMouseDown:e=>e.stopPropagation(),selected:!!h,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.constraints_panel.constraints")},s.createElement(oI,null)):null}),h&&s.createElement(i9,{pickerShown:h,openFileKey:e.openFileKey}))}function cl(e){let t=(0,lR.kl)("stackMode"),[n,l]=(0,rB.fp)(oi.Kl),[r,a]=(0,rB.fp)(oi.Md),i=null!=t&&"NONE"!==t,o=iK(),c=(0,oi.Fp)(),d=(0,i8.am)(),p=(0,oi.hl)(),u=iH().size,{widthIsAuto:m,heightIsAuto:h}=iL(),{version:g}=(0,em.DP)();(0,nF.f4)(()=>{l(oi.p3),a(null),c("minmax",null,oi.qi.YES)});let E=e=>{d("Expanded min max property",e);let t={...n,[e.widthOrHeight]:{...n[e.widthOrHeight],[e.minOrMax]:!0}},r="min"===e.minOrMax?"max":"min",i=p[e.widthOrHeight][e.minOrMax],o=p[e.widthOrHeight][r];!i&&o&&(t[e.widthOrHeight][r]=!0),l(t),a(e)};return"ui2"===g?s.createElement(eK.fI,{forwardedRef:e.forwardedRef,dataTestId:"width-height-row"},s.createElement(sB,{disabled:m||!u,onSizeConstraintClick:e=>{E({widthOrHeight:"width",minOrMax:e,minOrMaxWidthOrHeight:`${e}Width`})},recordingKey:e.recordingKey}),s.createElement(sk,{disabled:h||!u,onSizeConstraintClick:e=>{E({widthOrHeight:"height",minOrMax:e,minOrMaxWidthOrHeight:`${e}Height`})},recordingKey:e.recordingKey}),!i&&!o&&s.createElement(sx,{disabled:!u,recordingKey:e.recordingKey})):s.createElement(tw.fn,{"data-testid":"x-y-inputs-row",leftLabel:s.createElement(ct,null),leftInput:s.createElement(sB,{disabled:m||!u,onSizeConstraintClick:e=>{E({widthOrHeight:"width",minOrMax:e,minOrMaxWidthOrHeight:`${e}Width`})},recordingKey:e.recordingKey}),rightLabel:null,rightInput:s.createElement(sk,{disabled:h||!u,onSizeConstraintClick:e=>{E({widthOrHeight:"height",minOrMax:e,minOrMaxWidthOrHeight:`${e}Height`})},recordingKey:e.recordingKey}),icon:i||o?null:s.createElement(sx,{disabled:!u,recordingKey:e.recordingKey})})}function cr(e){let{version:t}=(0,em.DP)(),[n,l]=(0,lR.lJ)("count"),[r,a]=(0,lR.lJ)("starInnerScale"),{smallNudgeAmount:i,bigNudgeAmount:o,wheelMultiplier:c,scrubMultiplier:d}=ix(),p=(0,ec.wA)(),u=e.countShown&&s.createElement(rL.Ht,{className:iX.BP,inputClassName:iX.hF,value:n,disabled:e.countDisabled,smallNudgeAmount:i,wheelMultiplier:c,onValueChange:l,dispatch:p,recordingKey:_.Pt(e,"countInput"),"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.count"),bigNudgeAmount:10,scrubMultiplier:.1*i,resolution:.01,min:3,max:60},e.starInnerScaleShown&&s.createElement(M.B,{className:iX.QK,svg:s3.A}),!e.starInnerScaleShown&&s.createElement(M.B,{className:iX.QK,svg:s7.A})),m=e.starInnerScaleShown&&s.createElement(rL.w2,{className:iX.sC,inputClassName:iX.hF,value:r,disabled:e.starInnerScaleDisabled,smallNudgeAmount:i,bigNudgeAmount:o,wheelMultiplier:c,scrubMultiplier:d,onValueChange:a,dispatch:p,recordingKey:_.Pt(e,"starInnerScaleInput"),"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.ratio"),resolution:.001,min:.001},s.createElement(M.B,{className:iX.QK,svg:s8.A}));return"ui3"===t&&m?s.createElement(tw.fn,{leftLabel:s.createElement(F.Tx,{id:"properties.label.count"}),leftInput:u,rightLabel:s.createElement(F.Tx,{id:"properties.label.angle"}),rightInput:m,icon:null}):"ui3"===t?s.createElement(tw.fn,{leftLabel:s.createElement(F.Tx,{id:"properties.label.count"}),leftInput:u,rightLabel:null,rightInput:null,icon:null}):s.createElement(eK.fI,{dataTestId:"count-scale-inputs-row"},u,m)}let ca=s.memo(function(e){let[t,n]=(0,lR.lJ)("arcStart"),[l,r]=(0,lR.lJ)("arcSweep"),[a,i]=(0,lR.lJ)("arcRadius"),{smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p}=ix(),u=(0,ec.wA)(),{version:m}=(0,em.DP)();return"ui3"!==m?s.createElement(eK.fI,null,s.createElement("div",{className:iX.Cs},s.createElement(M.B,{className:iX.QK,svg:s1.A}),s.createElement(rL.Zp,{className:iX.fm,inputClassName:iX.PK,value:t,disabled:e.arcDataDisabled,smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p,onValueChange:n,dispatch:u,recordingKey:_.Pt(e,"arcStart"),"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.start"),noBorderOnFocus:!0}),s.createElement(rL.w2,{className:iX.t5,inputClassName:iX.PK,value:l,smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p,onValueChange:r,dispatch:u,recordingKey:_.Pt(e,"arcSweep"),resolution:.001,min:-1,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.sweep"),noBorderOnFocus:!0}),s.createElement(rL.w2,{className:iX.eC,inputClassName:iX.PK,value:a,smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p,onValueChange:i,dispatch:u,recordingKey:_.Pt(e,"arcRatio"),"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.ratio"),resolution:.001,noBorderOnFocus:!0}))):s.createElement(tw.DE,{label:s.createElement(F.Tx,{id:"properties.label.arc"}),icon:null,input:s.createElement("div",{className:iX.Xq},s.createElement(rL.Zp,{className:iX.fm,inputClassName:iX.hF,value:t,disabled:e.arcDataDisabled,smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p,onValueChange:n,dispatch:u,recordingKey:_.Pt(e,"arcStart"),"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.start"),noBorderOnFocus:!1},s.createElement(M.B,{className:iX.QK,svg:s1.A})),s.createElement(rL.w2,{className:iX.t5,inputClassName:iX.PK,value:l,smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p,onValueChange:r,dispatch:u,recordingKey:_.Pt(e,"arcSweep"),resolution:.001,min:-1,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.sweep"),noBorderOnFocus:!1}),s.createElement(rL.w2,{className:iX.eC,inputClassName:iX.PK,value:a,smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p,onValueChange:i,dispatch:u,recordingKey:_.Pt(e,"arcRatio"),"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.ratio"),resolution:.001,noBorderOnFocus:!1}))})});function ci(e){let{bigNudgeAmount:t,smallNudgeAmount:n}=(0,Q.sT)();return s.createElement(co,{...e,bigNudgeAmount:t,smallNudgeAmount:n})}function co(e){let{smallNudgeAmount:t,bigNudgeAmount:n}=e,l={wheelMultiplier:t,scrubMultiplier:t,smallNudgeAmount:t,bigNudgeAmount:n},r=s.createElement(rL.gq,{className:iX.BP,inputClassName:iX.hF,value:e.x,...l,onValueChange:(e,t)=>{X.Y5.updateSelectionProperties({x:e},{shouldCommit:t})},dispatch:e.dispatch,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.x"),tooltipForScreenReadersOnly:!0,recordingKey:_.Pt(e,"xInput"),mixedMathCallback:eR.nc.user("apply-mixed-method-for-vector-network",e=>{$.Egt.applyMixedMathForSelectedVectorNetwork($._0v.X,e)})},s.createElement("span",{className:iX.QK},s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.x"}))),a=s.createElement(rL.gq,{className:iX.sC,inputClassName:iX.hF,value:e.y,...l,onValueChange:(e,t)=>{X.Y5.updateSelectionProperties({y:e},{shouldCommit:t})},dispatch:e.dispatch,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.x"),tooltipForScreenReadersOnly:!0,recordingKey:_.Pt(e,"yInput"),mixedMathCallback:eR.nc.user("apply-mixed-method-for-vector-network",e=>{$.Egt.applyMixedMathForSelectedVectorNetwork($._0v.Y,e)})},s.createElement("span",{className:iX.QK},s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.y"}))),i=s.createElement(cd,{handleMirroring:e.handleMirroring,dispatch:e.dispatch,dropdownShown:e.dropdownShown,recordingKey:_.Pt(e,"mirroring"),isUI3:e.isUI3}),o=s.createElement(rL.$j,{className:iX.BP,inputClassName:iX.hF,value:e.cornerRadius,...l,onValueChange:(e,t)=>{X.Y5.updateSelectionProperties({cornerRadius:e},{shouldCommit:t})},dispatch:e.dispatch,recordingKey:_.Pt(e,"cornerRadiusInput"),"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.corner_radius")},s.createElement(M.B,{className:iX.QK,svg:i$.A}));return s.createElement(b.p,{name:"vector_transform_panel"},s.createElement(eK.Zk,null,s.createElement(eK.fI,null,s.createElement(eK.xw,null,s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.vector"}))),e.isUI3?s.createElement(s.Fragment,null,s.createElement(tw.fn,{leftLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_vector.label_position"}),leftInput:r,rightLabel:null,rightInput:a,icon:null}),s.createElement(tw.DE,{label:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_vector.label_mirroring"}),input:i,icon:null}),s.createElement(tw.fn,{leftLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_vector.label_radius"}),leftInput:o,rightLabel:null,rightInput:null,icon:null})):s.createElement(s.Fragment,null,s.createElement(eK.fI,null,r,a),s.createElement(eK.fI,null,i),s.createElement(eK.fI,null,o))))}class cs extends r8.l6{}class cc extends r8.c${}class cd extends s.PureComponent{constructor(){super(...arguments),this.formatter={format:e=>{switch(e){case"NONE":return(0,F.t)("fullscreen.properties_panel.transform_panel.no_mirroring");case"ANGLE":return(0,F.t)("fullscreen.properties_panel.transform_panel.mirror_angle");case"ANGLE_AND_LENGTH":return(0,F.t)("fullscreen.properties_panel.transform_panel.mirror_angle_and_length")}}},this.onChange=e=>X.Y5.updateSelectionProperties({handleMirroring:e})}render(){return s.createElement(cs,{id:"handle-mirroring-select",className:iX.GC,inputClassName:iX.i6,chevronClassName:iX.r,property:this.props.handleMirroring,formatter:this.formatter,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey,svg:this.props.isUI3?void 0:s2.A,fallbackSvg:this.props.isUI3?void 0:s4.A,svgClassName:iX.jC},s.createElement(cc,{value:"NONE",recordingKey:_.Pt(this.props,"NONE")}),s.createElement(cc,{value:"ANGLE",recordingKey:_.Pt(this.props,"ANGLE")}),s.createElement(cc,{value:"ANGLE_AND_LENGTH",recordingKey:_.Pt(this.props,"ANGLE_AND_LENGTH")}))}}cd.displayName="HandleMirroring";var cp=n(473199),cu=n(826785),cm=n(986175),ch=n(397863),cg=n(314809);let cE={displayText:"",disabled:!0,separator:!0};var c_=n(233392),cf=n(98140),cy=n(700888);let cv=new cg.SU;class cb extends r8.c${}class cS extends r8.l6{}class cw extends s.PureComponent{render(){let e=this.props.includePassThrough?cy.j4:cy.r5;return s.createElement(cS,{id:cT(this.props.id),className:this.props.className,inputClassName:this.props.inputClassName,chevronClassName:this.props.chevronClassName,property:this.props.property,formatter:cv,onChange:this.props.onChange,onMouseDown:this.props.onMouseDown,willShowDropdown:this.props.willShowDropdown,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey,dropdownWidth:this.props.isUI3?120:"auto",svg:this.props.isUI3?void 0:(0,cy.HC)((0,J.E7)(this.props.property)),enablePreview:!0},e.map((e,t)=>"SELECT_DIVIDER"===e?s.createElement(r8.sK,{key:t}):s.createElement(cb,{key:t,value:e,recordingKey:_.Pt(this.props,e)})))}}function cT(e){return`blend-mode-select-${e}`}cw.displayName="BlendMode";var cP=n(435091);let cC="layer-blend-mode";function ck(){return[(0,lR.kl)("blendMode"),s.useCallback((e,t=it.zk.YES)=>{eA.wt.shouldReportForShouldCommit(t)&&oH.FZ.trackFromFullscreen("editor-blend-mode-change",{blendMode:e}),X.Y5.updateSelectionProperties({blendMode:e,visible:!0},{shouldCommit:t})},[])]}function cI(e){let t=(0,n6.B)(cX).showing,n=(0,ec.wA)(),[l,r]=ck(),[a,i]=s.useState(l);s.useEffect(()=>{t||i(l)},[l,t,i]);let o=(0,ts.R)(e=>e.dropdownShown);return(null==o?void 0:o.type)!==cT(cC)&&"PASS_THROUGH"===a?null:s.createElement(tH.XD,{labelTx:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_appearance.label_blendMode"}),input:s.createElement(cw,{id:cC,className:cP.jK,inputClassName:cP.Df,chevronClassName:cP.ai,property:a,dispatch:n,dropdownShown:o,onChange:r,willShowDropdown:()=>((0,p.sx)("editor-blend-mode-dropdown-show"),Promise.resolve()),includePassThrough:!0,recordingKey:_.Pt(e,"blendMode"),isUI3:!0}),icon:s.createElement(tB.K,{"data-tooltip":(0,F.t)("general.remove"),"data-tooltip-type":ef.Ib.TEXT,"aria-label":(0,F.t)("general.remove"),onClick:()=>r("PASS_THROUGH"),actionOnPointerDown:!0},s.createElement(tU.f,null))})}function cN(e){return s.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M3.035 8.07A.931.931 0 0 1 3.01 8a.931.931 0 0 1 .026-.07c.044-.102.12-.242.235-.412a5.635 5.635 0 0 1 1.053-1.121C5.257 5.627 6.54 5 8 5s2.743.628 3.677 1.397c.465.383.821.783 1.053 1.121.116.17.191.31.235.413L12.99 8a.957.957 0 0 1-.026.07c-.044.102-.12.242-.235.412a5.637 5.637 0 0 1-1.053 1.121C10.743 10.373 9.46 11 8 11s-2.743-.628-3.677-1.397A5.635 5.635 0 0 1 3.27 8.482a2.449 2.449 0 0 1-.235-.413ZM2 8c0-1 2.5-4 6-4s6 3 6 4-2.5 4-6 4-6-3-6-4Zm6 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"}))}var cA=n(416580),cR=n(162122),cO=n(567135),cM=n(134784),cx=n(121102),cL=n(112255),cK=n(73550);let cF=(0,a7.Tn)();function cD(e){let t=s.useCallback(e=>{X.Y5.updateSelectionProperties({visible:e})},[]),n=s.useMemo(a7.On,[]),{isDefReferencedBySelection:l,visibilityIsBoundToComponentProp:r}=(0,ts.R)(e=>({isDefReferencedBySelection:!!n(e,a5.R.VISIBLE),visibilityIsBoundToComponentProp:cF(e,(0,eO.qd)(e),a5.R.VISIBLE)})),a=(0,lT.SG)(["VISIBLE"]).data??[],[i]=(0,lR.lJ)("visible"),{consumedVariable:o}=(0,rK.u3)(["VISIBLE"]),c=s.useRef(null),[d,p]=cZ(),u=cG(),m=(0,lT.u)(u),h=!!o&&!!m,g=h||r||l,E=!h&&!r&&a.length>0,f=i?(0,F.t)("fullscreen.properties_panel.tooltip_hide"):(0,F.t)("fullscreen.properties_panel.tooltip_show"),y=s.createElement("span",{className:cP.RK},s.createElement(r0.B,{disabled:g,visible:i,onChange:t,recordingKey:_.Pt(e,"visibleToggle")})),v=(0,tS.Rt)();return s.createElement("div",{className:cP.RK},s.createElement(ib.JQ,{ref:c,currentFieldValue:!!(0,J.gl)(i)||i,isActive:d,disabled:!E,recordingKey:_.Pt(e,"visibilityVariableControl"),onPickerOpen:()=>p(c.current),dataTestId:"visibility-variable-control"},v?s.createElement(tE.YW,{selected:!g&&!i,disabled:g,recordingKey:_.Pt(e,"visibilityVariableControl"),dataTestId:"visibility-variable-control","data-tooltip":f,"data-tooltip-type":ef.Ib.TEXT},y):y))}var cH=n(490393),cB=n(424148),cV=n(144919);function cU(e){let{blendMode:t,opacity:n,visible:l}=e,r="ui3"===(0,em.DP)().version,a=s.useRef(null),i=s.useMemo(a7.On,[]),o=s.useMemo(a7.Tn,[]),{dropdownShown:c,isDefReferencedBySelection:u,selectedGUIDs:h,visibilityIsBoundToComponentProp:g}=(0,ts.R)(e=>({dropdownShown:e.dropdownShown,isDefReferencedBySelection:!!i(e,a5.R.VISIBLE),selectedGUIDs:(0,eO.qd)(e),visibilityIsBoundToComponentProp:o(e,(0,eO.qd)(e),a5.R.VISIBLE)})),E=(0,J.gl)(l),f=(0,ec.wA)(),y=s.useCallback((e,t=it.zk.YES)=>{eA.wt.shouldReportForShouldCommit(t)&&oH.FZ.trackFromFullscreen("editor-blend-mode-change",{blendMode:e}),X.Y5.updateSelectionProperties({blendMode:e,visible:!0},{shouldCommit:t})},[]),v=s.useCallback((e,t)=>{X.Y5.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!u&&X.Y5.updateSelectionProperties({visible:!0},{shouldCommit:t})},[u]),S=s.useRef(null),[,w]=cZ(),{clearVariableConsumption:T}=(0,rK.u3)(["VISIBLE"]),{variableConsumptionMap:P}=(0,rK.R1)(),C=cG(),k=(0,lT.u)(C),I=null==k?void 0:k.name,N=cz();return s.createElement(b.p,{name:"layer_panel"},s.createElement(eK.Zk,null,s.createElement(eK.fI,{className:tI.LO},s.createElement(cx.Tu,{isPanelBodyCollapsedAtom:null},s.createElement(eK.xw,{isPanelBodyCollapsedAtom:null},s.createElement(F.Tx,{id:"fullscreen.layer_panel.layer"})),s.createElement(rY,{recordingKey:"frameLevel"}),!N&&s.createElement(c_.yQ,{nodeField:a5.R.VISIBLE,defaultValue:l,guids:h}),s.createElement(rH,{showLibrarySets:!1,recordingKey:"frameLevel"}))),s.createElement(cx.JH,{isPanelBodyCollapsedAtom:null},s.createElement(eK.fI,null,s.createElement(cw,{id:"layer-blend-mode",className:cP.jK,inputClassName:cP.Df,chevronClassName:cP.ai,property:t,dispatch:f,dropdownShown:c,onChange:y,willShowDropdown:()=>((0,p.sx)("editor-blend-mode-dropdown-show"),Promise.resolve()),includePassThrough:!0,recordingKey:_.Pt(e,"blendMode"),isUI3:r}),s.createElement(oY.e,{condition:!0,wrapper:t=>s.createElement(ib.sA,{recordingKey:_.Pt(e,"layerOpacityInputWrapper"),fields:["OPACITY"],disabled:!1,resolvedType:$.rXF.FLOAT,currentFieldValue:(0,J.hS)(n)?n:void 0,inputClassName:d()({[cP.ke]:!0,[cP.TQ]:!0}),hideIcon:!0,inputRef:a,hasBindingContextMenu:!0},t)},s.createElement(rL.Pd,{isTokenizable:!0,value:n,onValueChange:v,mixedMathHandler:cW,dispatch:f,recordingKey:_.Pt(e,"opacity"),forwardedRef:a,noBorderOnHover:!0})),s.createElement(cD,{recordingKey:e.recordingKey})),E&&!u&&s.createElement(eK.fI,{dataTestId:"mixed-visibility-label"},s.createElement(eK.UZ,{className:cH.Pf},s.createElement(F.Tx,{id:"fullscreen.layer_panel.replace_mixed_visibility",svg:s.createElement("div",{className:cP.dY},s.createElement(eg.U,{svg:cV.A},s.createElement(cN,null)))}))),s.createElement("div",{className:cP.I0},s.createElement(a1.L,{nodeField:a5.R.VISIBLE,currentValue:e.visible})),(0,m.kc)().prototype_expressions_nodefields?P.VISIBLE&&s.createElement(cR.Y,{direction:"horizontal",spacing:"auto",verticalAlignItems:"center",horizontalAlignItems:"space-between",padding:{top:0,left:16,bottom:0,right:8}},s.createElement(cL.y3,{targetVariableData:P.VISIBLE.isMixed?void 0:P.VISIBLE,onClick:()=>{w(S.current)},isNarrowPanel:!0,isInCell:!1,showVariableThumbnails:!0,isInConditional:!1,isMixed:P.VISIBLE.isMixed}),s.createElement(tB.K,{onClick:()=>T(),"aria-label":(0,F.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip":(0,F.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":ef.Ib.TEXT,recordingKey:"detachVisibilityVariable"},s.createElement(eg.U,{svg:cB.A},s.createElement(cA.U,null)))):N&&!g&&s.createElement(cR.Y,{direction:"horizontal",spacing:"auto",verticalAlignItems:"center",horizontalAlignItems:"space-between",padding:{top:0,left:16,bottom:0,right:8}},s.createElement(cM.P,{value:I||(0,F.t)("fullscreen.mixed"),isStandalone:!0,styleOverride:{width:"auto"},isDeleted:!!k&&(0,iT.eF)(k)}),s.createElement(tB.K,{onClick:()=>T(),"aria-label":(0,F.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip":(0,F.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":ef.Ib.TEXT,recordingKey:"detachVisibilityVariable"},s.createElement(eg.U,{svg:cB.A},s.createElement(cA.U,null)))),s.createElement(rJ.wu,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}))))}function cz(){let{consumedVariable:e}=(0,rK.u3)(["VISIBLE"]),t=cG(),n=(0,lT.u)(t);return!!e&&!!n}let cZ=()=>(0,iS.JV)(["VISIBLE"],$.rXF.BOOLEAN,void 0,(0,m.kc)().prototype_bind_visiblity_to_strs?{requestedTypes:[$.rXF.BOOLEAN,$.rXF.FLOAT,$.rXF.STRING],variableFilters:{[cO.t.MUST_INCLUDE_ONE_OF]:{[$.rXF.STRING]:cK.O4}},mapVariableIdToTypedValue:iS.eT}:void 0);function cG(){let e;let{consumedVariable:t}=(0,rK.u3)(["VISIBLE"]);if(t){if((0,J.hS)(t)&&t.type===$.Z_n.ALIAS)e=t.value;else if((0,J.hS)(t)&&t.type===$.Z_n.EXPRESSION){for(let n of(0,iT.Pr)(t))if(n.type===$.Z_n.ALIAS){e=n.value;break}}}return e}class cY extends iN.M{getValueForNode(e){return e.opacity}setValueForNode(e,t){eR.l7.user("set-opacity",()=>{eA.wt.reportAnyPropertyChange(["opacity"]),e.opacity=t})}}let cW=new cY,cX="add_appearance_property_dropodwn",c$=new cg.SU;function cQ(){var e;let t=(0,rK.A1)(!1),n=(0,n6.B)(cX),l=(0,ec.wA)(),r=(0,rK.A1)(!1),a=(0,s.useRef)(null),i=(0,rF.O9)(!1,void 0),o=(0,ts.R)(eO.qd),c=cz(),d=(0,lR.kl)("visible"),[p,u]=ck(),[m,h]=(0,s.useState)(p),[g,E]=(0,s.useState)(!1),_=(0,c_.Yc)(a5.R.VISIBLE,o),f=(0,c_.db)(a5.R.VISIBLE,a,d,!0),y=e=>{let t=oh.qo.instance.getCurrentPage();if(((null==t?void 0:t.directlySelectedNodes.length)??0)>r8.CH){b();return}if(!g&&p===e)return;let n=g?it.zk.NO:it.zk.YES_WITHOUT_TRACKING_AS_EDIT;E(!0),u(e,n)},v=e=>{h(e),E(!1),e!==p&&u(e)},b=()=>{g&&X.Y5.triggerActionInUserEditScope("undo"),E(!1)},S=t&&r?{displayText:(0,F.t)("properties.dropdown.apply_variable_mode"),icon:s.createElement(cp.D,null),children:i}:null,w=!c&&!_,T=w?{displayText:(0,F.t)("properties.dropdown.create_property"),icon:s.createElement(cu.m,null),callback:f,recordingKey:"add_boolean_prop"}:null,P=s.useMemo(a7.p1,[]),{containingComponentDefs:C}=(0,ts.R)(e=>{let t=(0,eM.Lg)(e);return{containingComponentDefs:P(e,t,a5.R.VISIBLE)}}),k=cy.j4.map(e=>"SELECT_DIVIDER"===e?cE:{displayText:c$.format(e),isChecked:m===e,onMouseEnter:()=>y(e),callback:()=>v(e)}),I={displayText:(0,F.t)("properties.dropdown.apply_blend_mode"),icon:s.createElement(cm.N,null),children:k,onMouseLeaveSubMenu:b,onDismissSubMenu:b},N=w?C.map(e=>({icon:s.createElement("div",{className:e1.cx.w24.$}),displayText:e.name,callback:()=>{eR.l7.user("add-prop-ref",()=>$.glU.addComponentPropRef(a5.R.VISIBLE,e.explicitDefID))}})):[],A=[S,I,T,N.length>0?cE:null,...N].filter(eN.Vq),R=!1;return 1===A.length&&A[0]===I&&(R=!0,A=k),s.createElement("div",{ref:a},s.createElement(tE.YW,{disabled:0===A.length,selected:n.showing,"aria-label":(0,F.t)("fullscreen.properties_panel.align_panel.more_options"),onClick:()=>{l(eE.j7({type:cX}))},"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.align_panel.more_options"),recordingKey:"add_appearance_property_button"},s.createElement(ch.x,null)),n.showing&&s.createElement(cf.j,{onDismissMenu:R?b:void 0,onMouseLeaveMenu:R?b:void 0,rootAndSubmenuMinWidth:0,minWidth:0,parentRect:(null==(e=a.current)?void 0:e.getBoundingClientRect())??new DOMRect(0,0,0,0),showPoint:!1,items:A,onSelectItem:e=>{var t;null==(t=e.callback)||t.call(e,"",null,l)},dispatch:l,recordingKey:"add_appearance_property_dropdown"}),s.createElement(rF.bt,{showLibrarySets:!1}))}function cj(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",d:"M17.5 7.5h-8m8 6h-8m0-3H13a.5.5 0 0 1 .5.5v3.5"}),s.createElement("path",{stroke:"var(--color-icon-secondary)",strokeLinecap:"round",d:"M13.5 16.5v.5a.5.5 0 0 1-.5.5h-.5m-5-7H7a.5.5 0 0 0-.5.5v.5m0 5v.5a.5.5 0 0 0 .5.5h.5m-1-3v-1m3 4h1"}),s.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",d:"M16.5 6.5v8m-6-8v8"}))}function cq(){let[e,t]=(0,lR.lJ)("frameMaskDisabled"),n=!(0,J.gl)(e)&&!e;return s.createElement(tE.YW,{"aria-label":(0,F.t)("fullscreen.properties_panel.transform_panel.clip_content"),"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.clip_content"),"data-tooltip-type":ef.Ib.TEXT,selected:!n,onClick:()=>{let e=!n;(0,m.kc)().ce_properties_panel_tracking&&(0,p.sx)("editor-transform-panel-change",{key:"clipContent",value:e}),t(!e)}},s.createElement(cj,null))}function cJ(){let{consumedVariable:e,clearVariableConsumption:t}=(0,rK.u3)(["VISIBLE"]),n=cG(),l=(0,lT.u)(n),r=null==l?void 0:l.name,a=!!e&&!!l,i=s.useMemo(a7.Tn,[]),o=(0,ts.R)(e=>i(e,(0,eO.qd)(e),a5.R.VISIBLE));return!a||o?null:s.createElement(tw.DE,{input:s.createElement(cM.P,{value:r||(0,F.t)("fullscreen.mixed"),isStandalone:!0,classNameOverride:"component_bound_vibisility_row--pillCover--q5iKl",styleOverride:{width:"auto"},isDeleted:!!l&&(0,iT.eF)(l)}),icon:s.createElement(tB.K,{onClick:()=>t(),"aria-label":(0,F.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":ef.Ib.TEXT,recordingKey:"detachVisibilityVariable"},s.createElement(cA.U,null)),label:null})}function c0(e){let t=iD(),n=iH(),l=(0,lO.k)("corner-smoothing"),[r]=(0,lR.lJ)("rectangleCornerRadiiIndependent"),a=(0,lR.kl)("visible"),i=!n.rectangleCornerRadii,o=t.cornerRadius,[c,d]=s.useState(null),[u]=(0,lR.lJ)("opacity"),h=t.rectangleCornerRadii,g=t.rectangleCornerRadii&&!!c,E=!n.cornerRadius,f=E||i,y=(0,s.useRef)(null),v=s.useRef(null),b=s.useMemo(a7.On,[]),{isDefReferencedBySelection:S}=(0,ts.R)(e=>({isDefReferencedBySelection:!!b(e,a5.R.VISIBLE)})),w=s.useCallback((e,t)=>{X.Y5.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!S&&X.Y5.updateSelectionProperties({visible:!0},{shouldCommit:t})},[S]),T=(0,s.useCallback)(()=>{l.hide(),X.Y5.deselectProperty()},[l]),P=(0,ec.wA)(),C=s.useCallback(()=>{(0,m.kc)().ce_properties_panel_tracking&&(0,p.sx)("editor-transform-panel-change",{key:"rectangleCornerRadiiIndependent",value:!(0,J._W)(r,!1)}),!g&&y.current?d((0,ey.cn)(y.current,parseInt(iG,10))):d(null)},[r,g]);return s.createElement(eK.Zk,null,s.createElement(tH.Wv,{titleTx:s.createElement(F.Tx,{id:"fullscreen.appearance_panel.appearance"})},t.fixedFrameOptions?s.createElement(cq,null):null,s.createElement(cD,null),s.createElement(cQ,null)),s.createElement(tw.fn,{ref:y,leftInput:s.createElement(rL.Pd,{inputClassName:"appearance_panel--input--h3br5 raw_components--flushLeft--YH-5P",ui3RightJustifyPercentSign:!1,isTokenizable:!!(0,m.kc)().ds_variables_strokes,value:u,onValueChange:w,mixedMathHandler:c5,dispatch:P,recordingKey:_.Pt(e,"opacity"),forwardedRef:v},s.createElement(aJ.N,{className:"appearance_panel--inputIcon--GE30W"})),rightInput:o?s.createElement(iq,{disabled:g||E}):null,icon:o?h?s.createElement(tc.E,{name:"independent_corner_radius_toggle"},s.createElement(eK.YW,{selected:g,onMouseDown:C,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.independent_corners"),recordingKey:_.Pt(e,"rectangleCornerToolIndependentToggle"),disabled:f},s.createElement(a0,null))):s.createElement(eK.YW,{onMouseDown:e=>i4(l,y,e),recordingKey:_.Pt(e,"cornerSmoothingToggle"),"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),selected:l.showing,disabled:E},s.createElement(lI.J,null)):null,leftLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_appearance.label_opacity"}),rightLabel:o?s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.corner_radius"}):null}),(t.count||t.starInnerScale)&&s.createElement(cr,{countShown:t.count,countDisabled:!n.count,starInnerScaleShown:t.starInnerScale,starInnerScaleDisabled:!n.starInnerScale,recordingKey:e.recordingKey}),t.arcData&&s.createElement(ca,{arcDataDisabled:!n.arcData,recordingKey:e.recordingKey}),s.createElement(cI,null),s.createElement(a1.L,{nodeField:a5.R.VISIBLE,currentValue:a}),s.createElement(rJ.wu,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}),s.createElement(cJ,null),g&&c&&s.createElement(iY,{initialPosition:c,onClose:C,recordingKey:_.Pt(e,"advanced")}),l.showing&&s.createElement(io,{initialPosition:l.initialPosition,onClose:T,recordingKey:_.Pt(e,"advanced")}))}let c5=new cY;var c1=n(237086);let c7="mask_panel--maskTypeDropdown--3Etsx";class c2 extends r8.l6{}class c4 extends r8.c${}class c3 extends s.PureComponent{constructor(){super(...arguments),this.onMaskTypeChange=(e,t=it.zk.YES)=>{X.Y5.updateSelectionProperties({maskType:e},{shouldCommit:t})},this.maskTypeFormatter={format:e=>{switch(e){case"ALPHA":return(0,F.t)("fullscreen.mask_panel.alpha");case"OUTLINE":return(0,F.t)("fullscreen.mask_panel.vector");case"LUMINANCE":return(0,F.t)("fullscreen.mask_panel.luminance")}},formatExtended:e=>{switch(e){case"ALPHA":return{text:(0,F.t)("fullscreen.mask_panel.alpha_extended")};case"OUTLINE":return{text:(0,F.t)("fullscreen.mask_panel.vector_extended")};case"LUMINANCE":return{text:(0,F.t)("fullscreen.mask_panel.luminance_extended")}}}},this.stopPropagation=e=>e.stopPropagation()}render(){let e=s.createElement(eK.fI,null,s.createElement(c2,{id:"mask-type-dropdown",className:c7,property:this.props.maskType,formatter:this.maskTypeFormatter,onChange:this.onMaskTypeChange,dispatch:this.props.dispatch,dropdownClassName:c7,dropdownShown:this.props.dropdownShown,onMouseDown:this.stopPropagation,recordingKey:_.Pt(this.props,"maskType"),enablePreview:!0},s.createElement(c4,{value:"ALPHA",recordingKey:_.Pt(this.props,"maskType","alpha")}),s.createElement(c4,{value:"OUTLINE",recordingKey:_.Pt(this.props,"maskType","outline")}),s.createElement(c4,{value:"LUMINANCE",recordingKey:_.Pt(this.props,"maskType","luminance")})));return s.createElement(b.p,{name:"mask_panel"},s.createElement(eK.Zk,null,s.createElement(eK.fI,null,s.createElement(eK.xw,null,s.createElement(F.Tx,{id:"fullscreen.mask_panel.mask"}))),e))}}c3.displayName="MaskPanel";var c8=n(457206),c6=n(927457),c9=n(536825),de=n(819785),dt=n(695038);function dn({addProperty:e,children:t,contentsVisibleOrMixed:n,minusDisabled:l,plusDisabled:r,recordingKey:a,removeProperty:i,showButton:o,title:c,dataTestId:d,shouldHideButton:p}){let{version:u}=(0,em.DP)(),m=(0,s.useCallback)(()=>{!1!==n||r||e()},[e,n,r]),h=n===J.oV,g=!h&&!n;null==o&&(o=!0===n?"-":"+");let E="+"===o?s.createElement(tB.K,{as:"button",recordingKey:_.Pt(a,"addButton"),onClick:e,onMouseDown:G.dG,disabled:r,"aria-label":(0,F.t)("fullscreen.properties_panel.add"),"data-testid":d??""},s.createElement(eg.U,{svg:ni.A,fallbackSvg:n0.A},s.createElement(c6.e,null))):s.createElement(tB.K,{as:"button",recordingKey:_.Pt(a,"removeButton"),onClick:i,onMouseDown:G.dG,disabled:l,"aria-label":(0,F.t)("fullscreen.properties_panel.remove"),"data-testid":d??""},s.createElement(eg.U,{svg:de.A,fallbackSvg:dt.A},s.createElement(c9.O,null)));return"ui3"===u?s.createElement(s.Fragment,null,c&&s.createElement(tH.iE,{onMouseDown:m,faded:g,titleTx:s.createElement("span",null,c),icon:p?void 0:E}),h&&s.createElement(eK.fI,null,s.createElement(eK.UZ,{className:cH.Pf},s.createElement(F.Tx,{id:"fullscreen.properties_panel.click_plus_to_replace_mixed_content"}))),!h&&!g&&t):s.createElement(s.Fragment,null,c&&s.createElement(eK.fI,{onMouseDown:m,className:g?cH.et:void 0,recordingKey:_.Pt(a,"panelTitle")},s.createElement(eK.xw,{faded:g,extended:!0},s.createElement("div",{className:cH.yr},c)),s.createElement(eK.$4,null,p?null:E)),h&&s.createElement(eK.fI,null,s.createElement(eK.UZ,{className:cH.Pf},s.createElement(F.Tx,{id:"fullscreen.properties_panel.click_plus_to_replace_mixed_content"}))),!h&&!g&&t)}class dl extends _.uA{constructor(){super(...arguments),this.noop=()=>{}}render(){return s.createElement(b.p,{name:"remove_group_fill_and_stroke_panel"},s.createElement(eK.Zk,null,s.createElement(dn,{title:"Background",addProperty:this.noop,removeProperty:$.glU.clearFillAndStrokePaintsOnSelectedGroups,contentsVisibleOrMixed:!0},s.createElement(eK.fI,{className:"remove_group_fill_and_stroke_panel--labelContainer--ngqjq"},s.createElement(eK.UZ,{className:"remove_group_fill_and_stroke_panel--label--orOpK"},s.createElement(F.Tx,{id:"fullscreen.remove_group_fill_and_stroke.background_color_group_unsupported"}))))))}}var dr=n(407931),da=n(534339),di=n(570573),ds=n(453630),dc=n(918407),dd=n(306413);function dp(e){var t;let n="stroke-settings",[l,r]=(0,rB.fp)(dr.GI),a=l.paints||[],i=(0,ec.wA)(),o=s.useContext(nm.zK),c=()=>null!=o,d=s.useRef(null),p=e=>{r({paints:e}),ee.Tm.clearCache()},u=e=>{let{strokeWeight:t,dashPattern:n}=e,l=(0,J.E7)(t);l&&r({strokeWeight:l});let a=(0,J.E7)(n);a&&r({dashPattern:a})},m=e=>{let t=a.filter((t,n)=>!e.has(n));0===t.length&&(t=[a[0]]),p(t)},h=(e,{fromSearch:t}={})=>{i(iv.AV({style:e,inheritStyleKeyField:"inheritFillStyleKeyForStroke",fromSearch:t}))},{version:g}=(0,em.DP)(),E=!!l.styleId||a.length>0,f=(null==(t=e.pickerShown)?void 0:t.id)===n,y=!e.userFlags.dismissed_shift_to_draw_straight_lines_hint,v=s.createElement(ds.v9,{strokeWeight:l.strokeWeight||da.qB,onChange:u,recordingKey:_.Pt(e,"weight")}),b=s.createElement(dc.qR,{className:"ui3"===g?void 0:"pencil_tool_panel--dashCap--OD1E2",dashCap:(0,dc.Hd)(l.strokeCap||"ROUND")||"ROUND",onChange:e=>{r({strokeCap:e})},recordingKey:_.Pt(e,"dashCap")}),S=s.createElement(eK.YW,{svg:i5.A,fallbackSvg:i1.A,className:"pencil_tool_panel--advancedStroke--1497y",onClick:()=>{var t;if((null==(t=e.pickerShown)?void 0:t.id)===n)i(D.XE());else{if(!d)return;let e=es.findDOMNode(d.current),t=(0,ey.cn)(e);i(D.u1({id:n,initialX:t.x,initialY:t.y}))}},onMouseDown:e=>e.stopPropagation(),selected:f,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.pencil_tool.advanced_stroke_settings"),recordingKey:_.Pt(e,"more")});return s.createElement("div",{className:"pencil_tool_panel--pencilPanelContainer--O-fFF"},s.createElement(eK.Zk,null,s.createElement(c8.W4,{title:(0,F.t)("fullscreen.pencil_tool.stroke"),propertyList:a,onChange:p,currentSelectedProperty:e.currentSelectedProperty,selectedPropertyType:$.rrT.STROKE_PRESET,styleType:"FILL",addProperty:()=>{X.Y5.triggerAction("add-stroke-to-selection")},onDeleteProperty:e=>m(e),onReorder:()=>{ee.Tm.clearCache()},renderProperty:(t,n,l,r,o,d,p,u,E)=>{var f;let y=c()?"preview-paint":"paint",v=ee.Tm.getId(n,$.rrT.STROKE_PRESET,y),b=a.slice(0,n).some(e=>e.visible);return s.createElement(c8.Gg,{key:`paint-${n}`,id:v,index:n,inheritStyleKeyField:"inheritFillStyleKeyForStroke",singletonRow:1===a.length,selectedPropertyType:$.rrT.STROKE_PRESET,paint:t,selected:e.stylePickerShown.isShown?(null==(f=e.pickerShown)?void 0:f.id)===v:l,isDragging:r,hasFocus:o,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,onChange:d,onApplyStyle:h,onMouseDown:p,onMouseMove:u,onMouseUp:E,onRemovePaint:a.length>1?()=>m(new Set([n])):void 0,hideVisibilityToggle:1===a.length,currentSelectedGradientStop:e.currentSelectedGradientStop,currentTool:$.NLJ.VECTOR_PENCIL,colorFormat:e.colorFormat,dispatch:i,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,editModeType:e.editModeType,defaultColor:ee.Em,library:e.library,openFile:e.openFile,recordingKey:_.Pt(e,n),variableScopes:new Set([$.j0r.STROKE]),isUI3:"ui3"===g,hasVisiblePaintBelow:b})},recordingKey:e.recordingKey,sceneGraphSelection:e.sceneGraphSelection,library:e.library,modalShown:e.modalShown,openFile:e.openFile,inheritStyleKeyField:"inheritFillStyleKeyForStroke",inheritStyleKey:l.styleId||null,inheritStyleID:null,selectedStyleProperties:e.selectedStyleProperties,stylePickerListLayout:e.stylePickerListLayout,stylePickerShown:e.stylePickerShown,onToggleListLayout:()=>{i(D.Y({isListLayout:!e.stylePickerListLayout}))},removeAllProperties:null,onApplyStyle:h,defaultColor:ee.rC}),E&&("ui3"===g?s.createElement(tw.fn,{ref:d,leftLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_stroke.label_weight"}),leftInput:v,rightLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_stroke.label_end_cap"}),rightInput:b,icon:S}):s.createElement(eK.fI,{ref:d},v,b,S))),y&&s.createElement("div",{className:"pencil_tool_panel--hintPanel--917wK"},s.createElement(di.u,{title:(0,F.t)("fullscreen.pencil_tool.hold_shift_to_draw_straight_lines"),icon_DEPRECATED:dd.A,userFlag:"dismissed_shift_to_draw_straight_lines_hint",hintText:(0,F.t)("fullscreen.pencil_tool.now_vertical_horizontal_and_diagonal_lines_are_a_breeze")})),f&&e.pickerShown&&s.createElement(dc._2,{onChange:u,strokePanelMode:$.yTM.PENCIL,strokePanelTerminalPointCount:2,strokeCap:l.strokeCap||"ROUND",strokeJoin:"ROUND",maxStrokeWeight:l.strokeWeight||da.qB,dashPattern:l.dashPattern,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,recordingKey:_.Pt(e,"advanced")}))}function du(e){let t=(0,Q.Ku)(),n=(0,ts.R)(e=>{var t;return{currentSelectedGradientStop:e.mirror.appModel.currentSelectedGradientStop,library:e.library,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,colorPicker:e.colorPicker,styleSets:e.styleSets,openFileKey:(null==(t=e.openFile)?void 0:t.key)||null,reposById:e.repos,teams:e.teams,editModeType:e.mirror.appModel.activeCanvasEditModeType,currentTool:e.mirror.appModel.currentTool,sceneGraphSelection:e.mirror.sceneGraphSelection,currentSelectedProperty:e.mirror.appModel.currentSelectedProperty,inheritStyleKey:e.mirror.selectionProperties.inheritFillStyleKeyForStroke||null,selectedStyleProperties:e.mirror.selectedStyleProperties,stylePickerListLayout:e.stylePickerListLayout,userFlags:e.userFlags}});return s.createElement(dp,{...n,...e,colorFormat:t})}var dm=n(740707),dh=n(808584),dg=n(592177),dE=n(395103),d_=n(773667),df=n(77307),dy=n(139689),dv=n(151818),db=n(461364);let dS={[$.eVK.TOP_LEFT]:"anchor_point_selector--apTopLeft--jsueH",[$.eVK.TOP_CENTER]:"anchor_point_selector--apTopMiddle--Wp-kD",[$.eVK.TOP_RIGHT]:"anchor_point_selector--apTopRight--mbC5X",[$.eVK.MIDDLE_LEFT]:"anchor_point_selector--apMiddleLeft--G-YlO",[$.eVK.MIDDLE_CENTER]:"anchor_point_selector--apMiddleMiddle--gut-r",[$.eVK.MIDDLE_RIGHT]:"anchor_point_selector--apMiddleRight--VZnhH",[$.eVK.BOTTOM_LEFT]:"anchor_point_selector--apBottomLeft--30X3n",[$.eVK.BOTTOM_CENTER]:"anchor_point_selector--apBottomMiddle--ySpzF",[$.eVK.BOTTOM_RIGHT]:"anchor_point_selector--apBottomRight--rXs-P"},dw={[$.eVK.TOP_LEFT]:"top_left",[$.eVK.TOP_CENTER]:"top_center",[$.eVK.TOP_RIGHT]:"top_right",[$.eVK.MIDDLE_LEFT]:"middle_left",[$.eVK.MIDDLE_CENTER]:"middle_center",[$.eVK.MIDDLE_RIGHT]:"middle_right",[$.eVK.BOTTOM_LEFT]:"bottom_left",[$.eVK.BOTTOM_CENTER]:"bottom_center",[$.eVK.BOTTOM_RIGHT]:"bottom_right"};function dT(e){let{value:t,anchorPoint:n,onAnchorPointChange:l,disabled:r,dataTestId:a}=e,i=s.useCallback(()=>{l(t)},[l,t]),o=t===n;return s.createElement("button",{className:`anchor_point_selector--anchorPointButton--JCPGp ${dS[t]}`,onClick:i,disabled:r,"data-testid":a},s.createElement("div",{className:d()("anchor_point_selector--anchorPointButtonInner--LSo9Y",{"anchor_point_selector--apButtonActive--eNX6V":o,"anchor_point_selector--disabled--YCcFc":r}),"data-testid":o?`${a}.active`:void 0}))}let dP=e=>"INPUT"===e.tagName;function dC(e){let{anchorPoint:t,onAnchorPointChange:n,disabled:l,restoreFocusElements:r}=e,[a,i]=s.useState(document.activeElement),o=e=>{n(e),a&&dP(a)&&(null==r?void 0:r.includes(a))&&a.focus()};return s.createElement("div",{className:d()("anchor_point_selector--anchorPointSelector--ZC9rv",{"anchor_point_selector--anchorPointSelectorDisabled--JScxh":l}),onMouseDown:()=>{i(document.activeElement)}},s.createElement(s.Fragment,null,s.createElement(dT,{disabled:l,value:$.eVK.TOP_LEFT,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${dw[$.eVK.TOP_LEFT]}`}),s.createElement(dT,{disabled:l,value:$.eVK.TOP_CENTER,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${dw[$.eVK.TOP_CENTER]}`}),s.createElement(dT,{disabled:l,value:$.eVK.TOP_RIGHT,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${dw[$.eVK.TOP_RIGHT]}`})),s.createElement(s.Fragment,null,s.createElement(dT,{disabled:l,value:$.eVK.MIDDLE_LEFT,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${dw[$.eVK.MIDDLE_LEFT]}`}),s.createElement(dT,{disabled:l,value:$.eVK.MIDDLE_CENTER,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${dw[$.eVK.MIDDLE_CENTER]}`}),s.createElement(dT,{disabled:l,value:$.eVK.MIDDLE_RIGHT,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${dw[$.eVK.MIDDLE_RIGHT]}`})),s.createElement(s.Fragment,null,s.createElement(dT,{disabled:l,value:$.eVK.BOTTOM_LEFT,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${dw[$.eVK.BOTTOM_LEFT]}`}),s.createElement(dT,{disabled:l,value:$.eVK.BOTTOM_CENTER,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${dw[$.eVK.BOTTOM_CENTER]}`}),s.createElement(dT,{disabled:l,value:$.eVK.BOTTOM_RIGHT,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${dw[$.eVK.BOTTOM_RIGHT]}`})))}let dk=$.eVK.MIDDLE_CENTER;var dI=((i=dI||{}).TextInput="text-input",i.Selector="selector",i),dN=((o=dN||{}).Select="select",o.Input="input",o.Scrub="scrub",o.Width="width",o.Height="height",o),dA=n(336417),dR=n(59466);let dO=[.25,.5,.75,1,2,3,4,5,10];class dM extends oX.a3{}class dx extends r8.c${}let dL=new class{constructor(){this.MAX_SCALE=100,this.MIN_SCALE=.01}parse(e){let t=st(e),n=(0,o0.O4)(t,1);if(null!==n.value&&isFinite(n.value)){let t=se(e);return{value:n.value,anchorPoint:null===t?void 0:t}}throw new a9.LS("Could not parse input",n.error)}format(e){if(null==e)return"";let t=parseFloat(e.value.toFixed(2));return`${t}x`}getNudgeAmount(e){return e?1:.5}incrementBy(e,t){return{value:e.value+t,anchorPoint:e.anchorPoint}}snap(e,t){return{value:(0,g.YE)(e.value,t),anchorPoint:e.anchorPoint}}clamp(e){return{value:(0,g.qE)(e.value,this.MIN_SCALE,this.MAX_SCALE),anchorPoint:e.anchorPoint}}isEqual(e,t){return e.value===t.value&&e.anchorPoint===t.anchorPoint}},dK=s.forwardRef((e,t)=>{let{disabled:n,scale:l,onScaleChange:r,recordingKey:a,onInputKeyDown:i}=e,o=(0,ec.wA)(),c=(0,ec.d4)(e=>e.dropdownShown),d=_.c1(a),p=dO.map((e,t)=>s.createElement(dx,{key:t,value:{value:e},recordingKey:d("scaleInput",e)})),u={smallNudgeAmount:1,bigNudgeAmount:10,scrubMultiplier:1,wheelMultiplier:1,postScrubMultiplier:.01,postBigNudgeAmount:1,postWheelMultiplier:.1,resolution:.01,"data-tooltip":"","data-tooltip-type":ef.Ib.TEXT,dispatch:o,value:{value:l},onValueChange:(e,t)=>{r(e.value,dN.Scrub,t),t&&X.Y5.commit()},scrubbingDisabled:n,formatter:dL};return s.createElement(eK.fI,null,s.createElement(dM,{scrubbableControlProps:u,id:"scale-input-fullscreen.scale_panel.scale",forwardedRef:t,className:"scale_row--scaleCombobox--jimxi",property:{value:l},onKeyDown:i,onChange:(e,t,n)=>{r(e.value,n===oX.G7.Input?dN.Input:dN.Select,t??it.zk.NO,e.anchorPoint),t&&X.Y5.commit()},formatter:dL,dispatch:o,dropdownShown:c,onMouseDown:e=>{e.stopPropagation()},recordingKey:d("scaleInput"),disabled:n,svg:dR.A,svgClassName:iX.QK,ui3Icon:s.createElement(dA.l,null),dropdownWidth:104,dataTestId:"scale_panel.scale"},p))});var dF=n(889012),dD=n.n(dF);function dH(){let e=(0,i8.am)(),t=(0,s.useCallback)(t=>{e("scale_tool_panel_set_value",{key:"height",...t})},[e]),n=(0,s.useMemo)(()=>dD()(t,3e3),[t]),l=(0,s.useCallback)((e,l)=>l?n(e):t(e),[n,t]),r=(0,s.useCallback)(t=>e("scale_tool_panel_set_value",{key:"width",...t}),[e]),a=(0,s.useMemo)(()=>dD()(r,3e3),[r]),i=(0,s.useCallback)((e,t)=>t?a(e):r(e),[a,r]),o=(0,s.useCallback)(t=>e("scale_tool_panel_set_value",{key:"scale",...t}),[e]),c=(0,s.useMemo)(()=>dD()(o,3e3),[o]),d=(0,s.useCallback)((e,t)=>t?c(e):o(e),[c,o]),p=(0,s.useCallback)(t=>e("scale_tool_panel_dismissed",{...t}),[e]);return{trackScaleChangeEvent:d,trackWidthChangeEvent:i,trackHeightChangeEvent:l,trackAnchorPointChange:(0,s.useCallback)(t=>e("scale_tool_set_anchor_point",{...t}),[e]),trackScaleToolDismissed:p}}let dB="scale_panel--scalePanelRow--Cbovd";var dV=n(630834);let dU=(e,t)=>{let n=t/e;return!Number.isFinite(n)||Number.isNaN(n)?1:n<.01?.01:n},dz=()=>{X.Y5.triggerAction("set-tool-default")};function dZ(e){let t=(0,ec.d4)(e=>e.mirror.sceneGraphSelection),n=(0,lR.kl)("selectionBounds"),l=(0,J.E7)(n),r=(0,nO.Z)(l),a=s.useRef(0),[i,o]=(0,s.useState)(void 0),c=(0,nO.Z)(i),d=s.useRef(((null==i?void 0:i.width)||1)/((null==i?void 0:i.height)||1)),p=(0,lR.kl)("selectionResizable"),u=!(0,J._W)(p,!1),h=(0,nF.p8)("activeUserAction"),E=(0,nO.Z)(h),f=(0,iA.J2)($.Ez5.propertiesPanelState().shownPropertiesPanels),y=(0,nO.Z)(f),[v,S]=(0,s.useState)(!1),w=s.useRef(null),T=s.useRef(null),P=s.useRef(null),C=(0,nF.p8)("currentTool"),k=(0,nO.Z)(C),[I,N]=(0,s.useState)(dk),A=(0,iA.J2)($.Ez5.canvasViewState().scaleToolLastCanvasAnchorPoint),R=_.qP(e.recordingKey??"","anchorPointChange",N),[O,M]=(0,s.useState)(void 0),x=(0,s.useCallback)(e=>{void 0===O?M(e):O!==e&&M(null)},[O]),{trackHeightChangeEvent:L,trackScaleChangeEvent:K,trackWidthChangeEvent:D,trackScaleToolDismissed:H,trackAnchorPointChange:B}=dH();(0,s.useEffect)(()=>{h===$.QOV.RESIZING&&I!==A&&(x(A),R(A))},[h,I,R,x,A]);let[V,U]=(0,s.useState)(1),[z,Z]=(0,s.useState)(!1),[G,Y]=(0,s.useState)(!1),[W,Q]=(0,s.useState)(!0),j=(0,s.useCallback)((e,t)=>{i&&($.glU.setScale(e,t,[{origin:{x:i.x,y:i.y},size:{x:i.width,y:i.height}}],null!==O),Y(!0),x(t))},[i,O,x]);(0,s.useEffect)(()=>{Z(!0)},[t]),(0,s.useEffect)(()=>{!(null==y?void 0:y[$.ibQ.SCALE_ITEM])&&(null==f?void 0:f[$.ibQ.SCALE_ITEM])&&Z(!0)},[f,y]);let q=(0,s.useCallback)(()=>G?(Y(!1),!0):h===$.QOV.RESIZING||h===$.QOV.DEFAULT&&E===$.QOV.RESIZING,[h,G,E]);(0,s.useLayoutEffect)(()=>{if(r&&l){let{x:e,y:t,width:n,height:a}=l,{x:i,y:o,width:s,height:c}=r;s!==n||c!==a?q()||z||Z((0,g.xN)(s,n)!==(0,g.xN)(c,a)):(i!==e||o!==t)&&x(null)}},[r,l,q,x,z]),(0,s.useLayoutEffect)(()=>{let e=!1;if((0,m.kc)().ce_scale_tool_skew){let t=l?l.width/l.height:d.current,n=$.glU.getSelectionAngleSum();e=!(0,db.o)(t,d.current,1e-4)||!(0,db.o)(n,a.current,1e-4),d.current=t,a.current=n}(e||z)&&(U(1),R(dk),$.Ez5.canvasViewState().scaleToolLastCanvasAnchorPoint.set(dk),M(void 0),l&&o(l),S(!1),Z(!1))},[z,l,R,A]),(0,s.useLayoutEffect)(()=>{l&&i&&(l!==r||(0,m.kc)().ce_scale_tool_skew&&i!==c)&&(W?U(dU(i.width,l.width)):Q(!0))},[c,l,i,r,W]),(0,s.useEffect)(()=>{let e=C===$.NLJ.SCALE&&k!==$.NLJ.SCALE;e&&Object.keys(t).length>0&&e&&[$.QOV.DEFAULT,$.QOV.SELECTING_TEXT].includes(h)&&w.current&&(w.current.focus(),w.current.select())},[h,C,k,t]),(0,s.useEffect)(()=>{let e=()=>{w.current&&(S(!1),w.current.focus(),w.current.select())};return dv.h.subscribeScaleToolActivated(e),()=>{dv.h.unsubscribeScaleToolActivated(e)}},[]),(0,s.useEffect)(()=>{let e=e=>{e.target!==w.current&&e.target!==T.current&&e.target!==P.current&&S(!0)};return document.addEventListener("focusin",e),()=>{document.removeEventListener("focusin",e)}},[]);let ee=(0,s.useCallback)(e=>{let t="Escape"===e.key,n="Enter"===e.key;!v&&(n||t)&&dz()},[v]);return s.createElement(b.p,{name:"scale_panel"},s.createElement(eK.Zk,null,s.createElement(eK.fI,{className:dB},s.createElement(eK.xw,null,s.createElement(F.Tx,{id:"fullscreen.scale_panel.scale"})),s.createElement(eK.$4,null,s.createElement(tB.K,{onClick:()=>{dz(),H({selectionCount:Object.keys(t).length})},"aria-label":(0,F.t)("fullscreen.scale_panel.close")},s.createElement(eg.U,{svg:dV.default,fallbackSvg:dV.default},s.createElement(dy.A,null)))),s.createElement(dC,{restoreFocusElements:[w.current,T.current,P.current].filter(Boolean),anchorPoint:I,onAnchorPointChange:eR.nc.user("change-anchor-point",e=>{e!==I&&(1!==V&&(j(1,I),j(V,e)),R(e)),B({anchorPoint:e})}),disabled:u})),s.createElement(dK,{scale:V,onInputKeyDown:ee,onScaleChange:eR.nc.user("change-scale",(e,t,n,l)=>{U(e),Q(!1),void 0!==l&&(0,m.kc)().ee_scale_tool_ap_input?(K({value:e,source:t,anchorPoint:l,anchorPointSource:dI.TextInput}),j(e,l),R(l)):(t===dN.Select?K({value:e,source:t,anchorPoint:I,anchorPointSource:dI.Selector}):K({value:e,source:t,anchorPoint:I,anchorPointSource:dI.Selector},!0),(0,es.flushSync)(()=>{j(e,I)}))}),disabled:u,recordingKey:e.recordingKey,ref:w}),s.createElement(eK.fI,{className:"scale_panel--condensedWidthHeightRow--IMUIV"},s.createElement(dG,{name:"width",disabled:u,inputRef:T,onBlur:()=>X.Y5.commit(),onKeyDown:ee,onChange:eR.nc.user("width-change",e=>{i&&0!==i.width&&j(dU(i.width,e),I),D({anchorPoint:I,anchorPointSource:dI.Selector},!0)}),recordingKey:e.recordingKey}),s.createElement(dG,{name:"height",disabled:u,inputRef:P,onBlur:()=>X.Y5.commit(),onKeyDown:ee,onChange:eR.nc.user("height-change",e=>{i&&0!==i.height&&j(dU(i.height,e),I),L({anchorPoint:I,anchorPointSource:dI.Selector},!0)}),recordingKey:e.recordingKey}))))}function dG(e){let t=(0,ec.wA)(),n=(0,lR.kl)(e.name),l=ix(),r=(0,lR.kl)("selectionBounds"),a=(0,J.E7)(r),i=a?a[e.name]:n;return s.createElement(rL.$j,{dispatch:t,forwardedRef:e.inputRef,className:"scale_panel--condensedScrubbableInput--D7VNR",inputClassName:iX.hF,value:i??0,disabled:e.disabled,floatingPointFormat:{maxNumDigits:4},...l,min:1,onValueChange:e.onChange,onBlur:e.onBlur,onKeyDown:e.onKeyDown,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":"width"===e.name?(0,F.t)("fullscreen.properties_panel.transform_panel.width"):(0,F.t)("fullscreen.properties_panel.transform_panel.height"),tooltipForScreenReadersOnly:!0,recordingKey:_.Pt(e,"width"===e.name?"widthInput":"heightInput")},s.createElement("span",{className:`${iX.QK} svg`},"width"===e.name?s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.w"}):s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.h"})))}function dY(e,t){return(0,g.xN)(e,0)?((0,f.x1)("clampScaleValue","scale is 0",{originalValue:e,newValue:t}),1):(0,g.qE)(t/e,.01,100)}let dW={smallNudgeAmount:.01,bigNudgeAmount:.1,scrubMultiplier:1,wheelMultiplier:1,postScrubMultiplier:.01,postBigNudgeAmount:1,postWheelMultiplier:.1,resolution:.01};function dX(e){let{disabled:t,scale:n,property:l,selectionRegionsBounds:r,selectionRegionsOriginalBounds:a,onScaleChange:i,recordingKey:o,forwardedRef:c,onKeyDown:d}=e,p="width"===l?dN.Width:dN.Height,u=(0,ec.wA)(),m=_.c1(o),h=function(){if(r&&r.length){let e=r[0][l];return r.every(t=>(0,g.xN)(t[l],e,.005))?e:J.oV}return J.oV}(),E=ix(),f=(0,J.gl)(h)?dW:{};return s.createElement(rL.$j,{noBorderOnHover:!0,dispatch:u,forwardedRef:c,className:"scale_width_height_row--condensedScrubbableInput--XxHxl",inputClassName:iX.hF,disabled:t,floatingPointFormat:{maxNumDigits:4},onKeyDown:d,dataTestId:`scale_panel.${l}`,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":"width"===l?(0,F.t)("fullscreen.properties_panel.transform_panel.width"):(0,F.t)("fullscreen.properties_panel.transform_panel.height"),tooltipForScreenReadersOnly:!0,recordingKey:m(`${l}Input.input`),min:(0,J.gl)(h)?.01:1,value:h??0,mixedMathHandler:{getValue:()=>n,onChange:(e,t,n)=>{let l=t(e);Number.isNaN(l)||i((0,g.qE)(l,.01,100),p,n)}},onValueChange:(e,t)=>{!Number.isNaN(e)&&h&&h!==J.oV&&a&&a.length&&i(dY(a[0][l],e),p,t)},...E,...f},s.createElement("span",{className:`${iX.QK} svg`},"width"===l?s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.w"}):s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.h"})))}function d$(e){let{widthRef:t,heightRef:n,onWidthInputKeyDown:l,onHeightInputKeyDown:r,...a}=e;return s.createElement(eK.fI,{className:"scale_width_height_row--condensedWidthHeightRow--VOTEM"},s.createElement(dX,{...a,property:"width",forwardedRef:t,onKeyDown:l}),s.createElement(dX,{...a,property:"height",forwardedRef:n,onKeyDown:r}))}let dQ=()=>{X.Y5.triggerAction("set-tool-default")};function dj(e){let t=(0,ec.d4)(e=>e.mirror.sceneGraphSelection),n=(0,lR.kl)("selectionRegions"),l=(0,J.E7)(n),r=(0,nO.Z)(l),a=s.useRef(0),[i,o]=(0,s.useState)(void 0),c=(0,nO.Z)(i),d=s.useRef(null),p=(0,lR.kl)("selectionResizable"),u=(0,J._W)(p,!1),h=(0,nF.p8)("activeUserAction"),E=(0,nO.Z)(h),f=(0,iA.J2)($.Ez5.propertiesPanelState().shownPropertiesPanels),y=(0,nO.Z)(f),[v,b]=(0,s.useState)(!1),S=s.useRef(null),w=s.useRef(null),T=s.useRef(null),P=(0,nF.p8)("currentTool"),C=(0,nO.Z)(P),k=P!==$.NLJ.SCALE,I=!u||k,[N,A]=(0,s.useState)(dk),R=(0,iA.J2)($.Ez5.canvasViewState().scaleToolLastCanvasAnchorPoint),O=_.qP(e.recordingKey??"","anchorPointChange",A),[M,x]=(0,s.useState)(void 0),L=(0,s.useCallback)(e=>{void 0===M?x(e):M!==e&&x(null)},[M]),{trackScaleChangeEvent:K,trackScaleToolDismissed:D,trackAnchorPointChange:H}=dH();(0,s.useEffect)(()=>{h===$.QOV.RESIZING&&N!==R&&(L(R),O(R))},[h,N,O,L,R]);let[B,V]=(0,s.useState)(1),[U,z]=(0,s.useState)(!1),[Z,G]=(0,s.useState)(!1),[Y,W]=(0,s.useState)(!0),Q=(0,s.useCallback)((e,t)=>{i&&i.length&&($.glU.setScale(e,t,i.map(e=>({origin:{x:e.x,y:e.y},size:{x:e.width,y:e.height}})),null!==M),G(!0),L(t))},[i,M,L]);(0,s.useEffect)(()=>{z(!0)},[t]),(0,s.useEffect)(()=>{!(null==y?void 0:y[$.ibQ.SCALE_ITEM])&&(null==f?void 0:f[$.ibQ.SCALE_ITEM])&&z(!0)},[f,y]);let j=(0,s.useCallback)(()=>Z?(G(!1),!0):h===$.QOV.RESIZING||h===$.QOV.DEFAULT&&E===$.QOV.RESIZING,[h,Z,E]);(0,s.useLayoutEffect)(()=>{if(r&&r.length&&l&&l.length&&r.length===l.length)for(let e=0;e<l.length;e++){let{x:t,y:n,width:a,height:i}=l[e].bounds,{x:o,y:s,width:c,height:d}=r[e].bounds;if(c!==a||d!==i){if(!j()&&!U){z((0,g.xN)(c,a)!==(0,g.xN)(d,i));break}}else if(o!==t||s!==n){L(null);break}}},[r,l,j,L,U]),(0,s.useLayoutEffect)(()=>{let e=!1;if((0,m.kc)().ce_scale_tool_skew&&l){let t=d.current??l.map(e=>(e.bounds.width||1)/(e.bounds.height||1)),n=$.glU.getSelectionAngleSum();if(l.length===t.length){d.current=[];for(let r=0;r<l.length;++r){let i=(l[r].bounds.width||1)/(l[r].bounds.height||1);(e||(0,db.o)(i,t[r],1e-4))&&(0,db.o)(n,a.current,1e-4)||(e=!0),d.current.push(i),a.current=n}}}(e||U)&&(V(1),O(dk),$.Ez5.canvasViewState().scaleToolLastCanvasAnchorPoint.set(dk),x(void 0),o($.glU.getSelectionRegionsBounds().map(({origin:e,size:t})=>({x:e.x,y:e.y,width:t.x,height:t.y}))),b(!1),z(!1))},[U,l,O,R]),(0,s.useLayoutEffect)(()=>{l&&l.length&&i&&i.length&&(l!==r||(0,m.kc)().ce_scale_tool_skew&&i!==c)&&(Y?V(dY(i[0].width,l[0].bounds.width)):W(!0))},[c,l,i,r,Y]),(0,s.useEffect)(()=>{let e=P===$.NLJ.SCALE&&C!==$.NLJ.SCALE;e&&Object.keys(t).length>0&&e&&[$.QOV.DEFAULT,$.QOV.SELECTING_TEXT].includes(h)&&S.current&&(S.current.focus(),S.current.select())},[h,P,C,t]),(0,s.useEffect)(()=>{let e=()=>{S.current&&(b(!1),S.current.focus(),S.current.select())};return dv.h.subscribeScaleToolActivated(e),()=>{dv.h.unsubscribeScaleToolActivated(e)}},[]),(0,s.useEffect)(()=>{let e=e=>{e.target!==S.current&&e.target!==w.current&&e.target!==T.current&&b(!0)};return document.addEventListener("focusin",e),()=>{document.removeEventListener("focusin",e)}},[]);let q=(0,s.useCallback)(e=>{let t="Escape"===e.key,n="Enter"===e.key;!v&&(n||t)&&dQ()},[v]);return s.createElement(eK.Zk,{"data-testid":`scale_panel.state.${k?"hidden":I?"disabled":"enabled"}`},s.createElement(eK.fI,{className:dB},s.createElement(eK.xw,null,s.createElement(F.Tx,{id:"fullscreen.scale_panel.scale"})),s.createElement(eK.$4,null,s.createElement(tB.K,{onClick:()=>{dQ(),D({selectionCount:Object.keys(t).length})},"aria-label":(0,F.t)("fullscreen.scale_panel.close")},s.createElement(eg.U,{svg:dV.default,fallbackSvg:dV.default},s.createElement(dy.A,null)))),s.createElement(dC,{restoreFocusElements:[S.current,w.current,T.current].filter(Boolean),anchorPoint:N,onAnchorPointChange:eR.nc.user("change-anchor-point",e=>{e!==N&&(1!==B&&(Q(1,N),Q(B,e)),O(e)),H({anchorPoint:e})}),disabled:I})),s.createElement(dK,{scale:B,onInputKeyDown:q,onScaleChange:eR.nc.user("change-scale",(e,t,n,r)=>{V(e),W(!1),void 0!==r&&(0,m.kc)().ee_scale_tool_ap_input?(K({value:e,source:t,anchorPoint:r,anchorPointSource:dI.TextInput}),Q(e,r),O(r)):(t===dN.Select?K({value:e,source:t,anchorPoint:N,anchorPointSource:dI.Selector}):K({value:e,source:t,anchorPoint:N,anchorPointSource:dI.Selector},!0),(0,es.flushSync)(()=>{Q(e,N),n&&l&&l.length>1&&$.glU.logMultiEditActionForSelection("scale_panel_finish",null)}))}),disabled:I,recordingKey:e.recordingKey,ref:S}),s.createElement(d$,{scale:B,selectionRegionsBounds:l.map(e=>e.bounds),selectionRegionsOriginalBounds:i,onScaleChange:eR.nc.user("change-scale",(e,t,n)=>{K({value:e,source:t,anchorPoint:N,anchorPointSource:dI.Selector},!0),V(e),W(!1),Q(e,N),n&&(l&&l.length>1&&$.glU.logMultiEditActionForSelection("scale_panel_finish",null),X.Y5.commit())}),widthRef:w,heightRef:T,onHeightInputKeyDown:q,onWidthInputKeyDown:q,disabled:I,recordingKey:e.recordingKey}))}let dq=n(630834);function dJ(){X.Y5.triggerAction("set-tool-default")}function d0({}){return s.createElement(eK.Zk,null,s.createElement(eK.fI,{className:dB},s.createElement(eK.xw,null,s.createElement(F.Tx,{id:"fullscreen.scale_panel.scale"})),s.createElement("span",null,s.createElement(tB.K,{onClick:dJ,"aria-label":(0,F.t)("fullscreen.scale_panel.close")},s.createElement(eg.U,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:dq,fallbackSvg:dq})))))}var d5=n(761238);let d1="alignment_view_v4--indicator--VmKfE",d7="alignment_view_v4--indicatorBaseline--4kxfb",d2="alignment_view_v4--counterCenter--MlF9q";function d4({onClick:e,onDoubleClick:t,onHover:n,...l}){let r=(0,oi.rO)(l.stackPrimaryAlignItems),a="BASELINE"===l.stackCounterAlignItems,i="HORIZONTAL"===l.stackMode?"HORIZONTAL":"VERTICAL",o="WRAP"===l.stackWrap,c="HORIZONTAL"===i?"alignment_view_v4--horizontal--UiniT":"alignment_view_v4--vertical--JVrRJ",p=r?"alignment_view_v4--spaceBetween--RZOdp":"alignment_view_v4--packed--MZMpk",u=(0,J.hS)(l.stackPrimaryAlignItems)&&(0,J.hS)(l.stackCounterAlignItems),m=l.primaryHover&&l.counterHover,h=(0,s.useCallback)(e=>{let[n,l]=pl(e.target);if(r){let t=e.target.getBoundingClientRect();"HORIZONTAL"===i?n=Math.floor((e.clientX-t.x)/t.width*3):l=Math.floor((e.clientY-t.y)/t.height*3)}t(n,l)},[t,r,i]),g=(0,s.useCallback)(e=>n(...pl(e.target)),[n]),E=(0,s.useCallback)(e=>n(null,null),[n]);return s.createElement("div",{className:d()(l.className,"alignment_view_v4--mainContainer--zUBsm",c,p,{"alignment_view_v4--baselineAlign--xLTR2":a}),tabIndex:0,onKeyDown:l.onKeyDown},s.createElement(pn,{baseline:a}),s.createElement(pe,{stackMode:i,spaceBetween:r,baselineAlign:a,onMouseMove:g,onMouseOut:E,onClick:e,onDoubleClick:h}),m&&s.createElement(d3,{hover:!0,primaryAlign:l.primaryHover,counterAlign:l.counterHover,isStackWrap:o}),u&&s.createElement(d3,{primaryAlign:l.stackPrimaryAlignItems,counterAlign:l.stackCounterAlignItems,isStackWrap:o}),a&&s.createElement(d9,{onClick:l.onRemoveBaseline}))}function d3({hover:e,primaryAlign:t,counterAlign:n,isStackWrap:l}){return s.createElement("div",{className:d()("alignment_view_v4--indicatorContainer--ewQnB alignment_view_v4--_centered--S6qQk",t?d6[t]:void 0,n?d8[n]:void 0,{"alignment_view_v4--hover---ncmo":e})},s.createElement("div",{className:d()("alignment_view_v4--indicatorGroup--vlMlW",{"alignment_view_v4--wrap--nsYBR":l})},"BASELINE"===n?(0,oi.rO)(t)?s.createElement(s.Fragment,null,s.createElement("div",{className:d1}),s.createElement("span",{className:d7},"A"),s.createElement("div",{className:d1})):s.createElement("span",{className:d7},"A"):l?s.createElement(s.Fragment,null,s.createElement("div",{className:d1}),s.createElement("div",{className:d1}),s.createElement("div",{className:d1}),s.createElement("div",{className:d1}),s.createElement("div",{className:d1})):s.createElement(s.Fragment,null,s.createElement("div",{className:d1}),s.createElement("div",{className:d1}),s.createElement("div",{className:d1}))))}let d8={MIN:"alignment_view_v4--counterMin--1LPg6",CENTER:d2,MAX:"alignment_view_v4--counterMax--HzBqX",BASELINE:d2},d6={MIN:"alignment_view_v4--primaryMin--DHsQj",CENTER:"alignment_view_v4--primaryCenter--ci9Aj",MAX:"alignment_view_v4--primaryMax--i8kqd",SPACE_EVENLY:"",SPACE_BETWEEN:""};function d9({onClick:e}){let t=pa(),n=pi(),l=2*t/3+2,r=t-9,a=t-5.5;return s.createElement("svg",{className:"alignment_view_v4--baselineControls--cwzcf alignment_view_v4--_centered--S6qQk",width:t,height:t,viewBox:n,fill:"none"},s.createElement("g",{className:"alignment_view_v4--baselineHovered--uY49E","data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),onClick:e},s.createElement("rect",{x:"4.5",y:`${l}`,width:`${r}`,height:"14",rx:"2",fill:"var(--color-bg-selected-tertiary, #EDF5FA)"}),s.createElement("line",{x1:"5.5",y1:`${l}`,x2:`${a}`,y2:`${l}`,stroke:"var(--color-bg-brand-hover, #0D99FF)",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"1 5"}),s.createElement("line",{x1:"5.5",y1:`${l}`,x2:`${a}`,y2:`${l}`,stroke:"var(--color-bg-tertiary, rgba(0, 0, 0, 0.3))",strokeWidth:"2",strokeLinecap:"round"})))}function pe({spaceBetween:e,stackMode:t,baselineAlign:n,onMouseMove:l,onMouseOut:r,onClick:a,onDoubleClick:i}){let o=pr({stackMode:t,baselineAlign:n,spaceBetween:e});return s.createElement("div",{className:"alignment_view_v4--tooltipGrid--1PH8Z alignment_view_v4--_centered--S6qQk",onMouseMove:l,onMouseOut:r,onClick:a,onDoubleClick:i},o.map((n,l)=>{let r=l%3,a=Math.floor(l/3);return"HORIZONTAL"===t&&e&&(a=r,r=0),s.createElement(pt,{key:l,x:r,y:a,..."string"==typeof n?{tooltip:n}:n})}))}function pt({x:e,y:t,tooltip:n,below:l}){return s.createElement("div",{"data-x":e,"data-y":t,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":n,"data-tooltip-show-above":!l||void 0})}function pn({baseline:e}){let t=pi(),n=pa(),l=n/3,r=`${l}`,a=`${l/2}`,i=e?l:0,o=e?l:n,c=(0,s.useId)();return s.createElement("svg",{width:n,height:n,viewBox:t,fill:"currentColor"},s.createElement("defs",null,s.createElement("pattern",{id:c,width:r,height:r,patternUnits:"userSpaceOnUse"},s.createElement("circle",{cx:a,cy:a,r:"1"}))),s.createElement("rect",{width:"79",height:o,y:i,fill:`url(#${c})`}))}function pl(e){let{x:t,y:n}=e.dataset;return[parseInt(t),parseInt(n)]}function pr({baselineAlign:e,spaceBetween:t,stackMode:n,isUi3:l}){return e&&t?l?[{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),below:!0}]:[(0,F.t)("fullscreen.properties_panel.stack_panel.align_baseline")]:e?[{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_left_baseline"),below:l},{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_center_baseline"),below:l},{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_right_baseline"),below:l}]:t?"HORIZONTAL"===n?l?[(0,F.t)("fullscreen.properties_panel.stack_panel.align_top"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_center"),{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_bottom"),below:!0}]:[(0,F.t)("fullscreen.properties_panel.stack_panel.align_auto_top_gap"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_auto_bottom_gap"),below:!0}]:l?[(0,F.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_right")]:[(0,F.t)("fullscreen.properties_panel.stack_panel.align_auto_left_gap"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_auto_right_gap")]:[(0,F.t)("fullscreen.properties_panel.stack_panel.align_top_left"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_top_center"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_top_right"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_right"),{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_bottom_left"),below:!0},{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_bottom_center"),below:!0},{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_bottom_right"),below:!0}]}let pa=()=>(0,u.jz)("60px"),pi=()=>{let e=pa();return`0 0 ${e} ${e}`},po="alignment_view_v4_ui3--indicatorBaseline--NUe6M",ps="alignment_view_v4_ui3--counterCenter--QC-B7";function pc({onClick:e,onDoubleClick:t,onHover:n,...l}){let r=(0,oi.rO)(l.stackPrimaryAlignItems),a="BASELINE"===l.stackCounterAlignItems,i="HORIZONTAL"===l.stackMode?"HORIZONTAL":"VERTICAL",o="WRAP"===l.stackWrap,c="HORIZONTAL"===i?"alignment_view_v4_ui3--horizontal--2Shqc":"alignment_view_v4_ui3--vertical--zGQMJ",p=r?"alignment_view_v4_ui3--spaceBetween--o3EAq":"alignment_view_v4_ui3--packed--EvdQi",u=(0,J.hS)(l.stackPrimaryAlignItems)&&(0,J.hS)(l.stackCounterAlignItems),m=l.primaryHover&&l.counterHover,h=(0,s.useCallback)(e=>{let[n,l]=py(e.target);if(r){let t=e.target.getBoundingClientRect();"HORIZONTAL"===i?n=Math.floor((e.clientX-t.x)/t.width*3):l=Math.floor((e.clientY-t.y)/t.height*3)}t(n,l)},[t,r,i]),g=(0,s.useCallback)(e=>n(...py(e.target)),[n]),E=(0,s.useCallback)(e=>n(null,null),[n]);return s.createElement("div",{className:d()(l.className,"alignment_view_v4_ui3--mainContainer---0NcS",c,p,{"alignment_view_v4_ui3--baselineAlign--OxyzT":a}),tabIndex:0,onKeyDown:l.onKeyDown},s.createElement(pf,null),s.createElement(pg,{stackMode:i,spaceBetween:r,baselineAlign:a,onMouseMove:g,onMouseOut:E,onClick:e,onDoubleClick:h}),m&&s.createElement(pd,{hover:!0,primaryAlign:l.primaryHover,counterAlign:l.counterHover,isStackWrap:o}),u&&s.createElement(pd,{primaryAlign:l.stackPrimaryAlignItems,counterAlign:l.stackCounterAlignItems,isStackWrap:o}),a&&s.createElement("div",{className:"alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if"},s.createElement(ph,{onClick:l.onRemoveBaseline})))}function pd({hover:e,primaryAlign:t,counterAlign:n,isStackWrap:l}){function r(){let e=(0,oi.rO)(t);return"BASELINE"===n?e?s.createElement(s.Fragment,null,s.createElement("span",{className:po},"A"),s.createElement("span",{className:po},"A"),s.createElement("span",{className:po},"A")):s.createElement("span",{className:po},"A"):s.createElement(pp,{n:l?e?5:3:e?3:2})}return s.createElement("div",{className:d()("alignment_view_v4_ui3--indicatorContainer--napq- alignment_view_v4_ui3--tooltipGrid--HBKLD alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",t?pm[t]:void 0,n?pu[n]:void 0,{"alignment_view_v4_ui3--hover--ypG6x":e})},"BASELINE"===n?r():s.createElement("div",{className:"alignment_view_v4_ui3--indicatorGridCell--lp1lH"},s.createElement("div",{className:d()("alignment_view_v4_ui3--indicatorGroup--urXG2",{"alignment_view_v4_ui3--wrap--JWwtI":l})},r())))}function pp({n:e}){return s.createElement(s.Fragment,null,Array.from({length:e},(e,t)=>s.createElement("div",{key:t,className:"alignment_view_v4_ui3--indicator--82j5F"})))}let pu={MIN:"alignment_view_v4_ui3--counterMin--aOx1R",CENTER:ps,MAX:"alignment_view_v4_ui3--counterMax--cCtqr",BASELINE:ps},pm={MIN:"alignment_view_v4_ui3--primaryMin--Q8O6a",CENTER:"alignment_view_v4_ui3--primaryCenter--RzFRC",MAX:"alignment_view_v4_ui3--primaryMax--eMvqL",SPACE_EVENLY:"",SPACE_BETWEEN:""};function ph({onClick:e}){return s.createElement("button",{className:"alignment_view_v4_ui3--baselineControls--xazGW alignment_view_v4_ui3--_centered--MV2if","data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),onClick:e},s.createElement("div",{className:"alignment_view_v4_ui3--baselineControlLine--6BBmA"}))}function pg({spaceBetween:e,stackMode:t,baselineAlign:n,onMouseMove:l,onMouseOut:r,onClick:a,onDoubleClick:i}){let o=pr({stackMode:t,baselineAlign:n,spaceBetween:e,isUi3:(0,tS.Rt)()});return s.createElement("div",{className:"alignment_view_v4_ui3--tooltipGrid--HBKLD alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",onMouseMove:l,onMouseOut:r,onClick:void 0,onMouseUp:a,onDoubleClick:i},"HORIZONTAL"===t&&n&&e?s.createElement(pE,{tooltips:o}):o.map((n,l)=>{let r=l%3,a=Math.floor(l/3);return"HORIZONTAL"===t&&e&&(a=r,r=0),s.createElement(p_,{key:l,x:r,y:a,..."string"==typeof n?{tooltip:n}:n})}))}function pE({tooltips:e}){let t=(0,s.useId)(),n=e[0];return null==n?null:s.createElement(s.Fragment,null,s.createElement("div",{"data-tooltip-proxy-element-id":t}),s.createElement(p_,{id:t,x:1,y:1,..."string"==typeof n?{tooltip:n}:n}),s.createElement("div",{"data-tooltip-proxy-element-id":t}))}function p_({id:e,x:t,y:n,tooltip:l,below:r}){return s.createElement("div",{id:e,"data-x":t,"data-y":n,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":l,"data-tooltip-show-above":!r||void 0})}function pf(){return s.createElement("div",{className:"alignment_view_v4_ui3--dotGrid--N6RPe alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if"},Array.from({length:9},(e,t)=>s.createElement("div",{className:"alignment_view_v4_ui3--dotGridCell--r7m5y",key:t},s.createElement("div",{key:t,className:"alignment_view_v4_ui3--dot--d5NQx"}))))}function py(e){let{x:t,y:n}=e.dataset;return[parseInt(t),parseInt(n)]}var pv=n(358106);let pb=["MIN","CENTER","MAX"];function pS({className:e,recordingKey:t}){let n=(0,lR.kl)("stackMode"),l=(0,lR.kl)("stackWrap"),[r,a]=(0,lR.lJ)("stackPrimaryAlignItems"),[i,o]=(0,lR.lJ)("stackCounterAlignItems"),[c,d]=(0,s.useState)(void 0),[p,u]=(0,s.useState)(void 0),m=(0,pv.sR)(),E=(0,pv.uV)(),f=(0,i8.am)(),y=(0,tS.Rt)(),v=(0,oi.rO)(r),b="BASELINE"===i,S=(0,s.useCallback)((e,t)=>{if(null==e||null==t){d(void 0),u(void 0);return}let l=pw(e,t,n,v),r=pT(e,t,n,b);d(l),u(r)},[n,b,v,d,u]),w=_.rf(t,"click",(0,s.useCallback)(e=>{let t=c,n=p;e&&e.__interactionTest&&(t=e.primaryAlignItems,n=e.counterAlignItems),t&&n&&(v||a(t,it.zk.NO),o(n),f("Autolayout alignment grid used"))},[c,p,v,o,f,a]),{recordMetadata:()=>({primaryAlignItems:c,counterAlignItems:p}),playbackMetadata:e=>({...e,__interactionTest:!0})}),{clearVariableConsumption:T}=(0,o$.O)("STACK_SPACING",$.rXF.FLOAT),P=(0,s.useCallback)((e,t)=>{E(void 0===t||t,e,it.zk.NO),T()},[E,T]),C=(0,s.useCallback)((e,t)=>{if(v){E(!1,"alignment double click",it.zk.NO);let l=pw(e,t,n,!1),r=pT(e,t,n,b);d(l),u(r),a(l,it.zk.NO),o(r),f("Autolayout spacing mode changed",{mode:l,doubleClick:!0})}else P("alignment double click"),o(pT(e,t,n,b))},[P,b,v,o,a,E,n,f]),k=(0,s.useCallback)(()=>{o("CENTER"),f("Disable baseline alignment",{source:"alignment grid"})},[o,f]),I=_.v_(t,"keydown",(0,s.useCallback)(e=>{function t(e){"HORIZONTAL"===n?a(e):o(e)}function l(e){"VERTICAL"===n?a(e):o(e)}function s(e,t){if((0,J.gl)(e))return"CENTER";let n=pb.indexOf(e);if(-1===n)return null;let l=(0,g.qE)(n+t,0,pb.length-1);return pb[l]}let c="HORIZONTAL"===n?r:i,d="VERTICAL"===n?r:i;switch(e.keyCode){case h.Uz.ESCAPE:case h.Uz.ENTER:e.currentTarget.blur();break;case h.Uz.UP_ARROW:{let e=s(d,-1);e&&l(e);break}case h.Uz.DOWN_ARROW:{let e=s(d,1);e&&l(e);break}case h.Uz.LEFT_ARROW:{let e=s(c,-1);e&&t(e);break}case h.Uz.RIGHT_ARROW:{let e=s(c,1);e&&t(e);break}case h.Uz.B:"HORIZONTAL"===n&&m("BASELINE"!==i,"alignment keyboard");break;case h.Uz.X:P("alignment keyboard",!(0,oi.rO)(r));break;case h.Uz.W:l("MIN");break;case h.Uz.A:t("MIN");break;case h.Uz.S:l("MAX");break;case h.Uz.D:t("MAX");break;case h.Uz.V:l("CENTER");break;case h.Uz.H:t("CENTER");break;default:(0,d5.jr)(e,d5.W0.YES,d5.VA.YES);return}e.preventDefault()},[P,i,r,m,o,a,n])),N=y?s.createElement(pc,{className:e,stackMode:n,stackWrap:l,stackPrimaryAlignItems:r,stackCounterAlignItems:i,onHover:S,onClick:w,onDoubleClick:C,onKeyDown:I,onRemoveBaseline:k,counterHover:p,primaryHover:c}):s.createElement(d4,{className:e,stackMode:n,stackWrap:l,stackPrimaryAlignItems:r,stackCounterAlignItems:i,onHover:S,onClick:w,onDoubleClick:C,onKeyDown:I,onRemoveBaseline:k,counterHover:p,primaryHover:c});return s.createElement(tc.E,{name:"alignment_view"},N)}function pw(e,t,n,l){return l?(0,m.kc)().ce_stack_justify_space_between?"SPACE_BETWEEN":"SPACE_EVENLY":pb["VERTICAL"===n?t:e]}function pT(e,t,n,l){return l?"BASELINE":pb["VERTICAL"===n?e:t]}var pP=n(627180),pC=n(187570),pk=n(346532),pI=n(194646);function pN({onClick:e,onOpen:t,modalKey:n,...l}){let r=(0,ec.wA)(),a=(0,lO.X)(),i=(0,s.useRef)(null),o=(0,tS.Rt)(),c=(null==a?void 0:a.id)===n,d=(0,nO.Z)(c),p=c?new N.Mi(a.initialX,a.initialY):null,u=(0,s.useRef)(l.onClose);u.current=l.onClose,(0,s.useEffect)(()=>{var e;d&&!c&&(null==(e=u.current)||e.call(u))},[c,d]),(0,s.useEffect)(()=>()=>{var e;return null==(e=u.current)?void 0:e.call(u)},[]);let m=(0,s.useCallback)(()=>{c&&(r(D.XE()),X.Y5.deselectProperty())},[r,c]),h=(0,s.useCallback)(()=>{if(c)return;e||null==t||t();let{top:l}=es.findDOMNode(i.current).getBoundingClientRect();r(D.u1({id:n,initialX:ey.qo,initialY:l}))},[r,c,n,e,t]);(0,s.useEffect)(()=>{null!=l.open&&(l.open?h():m())},[m,h,l.open]);let g=s.createElement(tE.YW,{ref:i,svg:l.svg,fallbackSvg:l.fallbackSvg,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":l.tooltip,onMouseMove:()=>{c&&r(ik.jD())},onMouseDown:e??(e=>{e.stopPropagation(),c?m():h()}),recordingKey:_.Pt(l,"trigger"),selected:c,className:l.buttonClassName},o?l.ui3Icon:void 0),E=l.buttonInteractableName?s.createElement(tc.E,{name:l.buttonInteractableName},g):g,f=c?s.createElement(e6.vx,{title:l.title,initialPosition:p,initialConstraints:{x:"right",y:"top"},headerSize:"small",onClose:m,recordingKey:_.Pt(l,"modal")},l.children):null,y=f&&l.modalTrackableName?s.createElement(b.p,{name:"stack_layout_details_modal"},f):f;return s.createElement(s.Fragment,null,E,y)}var pA=n(290850),pR=n(22852),pO=n(578768),pM=n(946650);let px="stack_layout_details_preview--stroke--tWkNh",pL="stack_layout_details_preview--strokeLight--RsPk7",pK="stack_layout_details_preview--fill--V74cf",pF="stack_layout_details_preview--fillWhite--uTjlG",pD="stack_layout_details_preview--fillTertiary--xuwqQ",pH={reverseStackingOrder:function({enabled:e}){let t=[s.createElement("g",{key:"1",filter:"url(#reverse-stacking-order-filter)"},s.createElement("rect",{className:pF,x:"67",y:"40",width:"40",height:"40",rx:"20"}),s.createElement("path",{className:pK,d:"M88.4893 53.9091V67H87.294V55.1619H87.2173L84.1491 57.201V55.9609L87.2429 53.9091H88.4893Z"}),s.createElement("rect",{className:px,x:"66.5",y:"39.5",width:"41",height:"41",rx:"20.5"})),s.createElement("g",{key:"2",filter:"url(#reverse-stacking-order-filter)"},s.createElement("rect",{className:pF,x:"99",y:"40",width:"40",height:"40",rx:"20"}),s.createElement("path",{className:pK,d:"M114.964 67V66.1243L119.241 61.3175C119.799 60.6868 120.248 60.1477 120.589 59.7003C120.93 59.2528 121.177 58.8395 121.331 58.4602C121.488 58.081 121.567 57.6868 121.567 57.2777C121.567 56.7791 121.45 56.3445 121.216 55.9737C120.986 55.5987 120.668 55.3068 120.263 55.098C119.858 54.8892 119.402 54.7848 118.895 54.7848C118.358 54.7848 117.888 54.8999 117.483 55.13C117.082 55.3601 116.771 55.6754 116.549 56.076C116.328 56.4766 116.217 56.9368 116.217 57.4567H115.073C115.073 56.7322 115.239 56.0909 115.571 55.5327C115.908 54.9702 116.366 54.5291 116.946 54.2095C117.53 53.8899 118.19 53.7301 118.927 53.7301C119.656 53.7301 120.304 53.8878 120.87 54.2031C121.437 54.5142 121.883 54.9382 122.206 55.4751C122.53 56.0121 122.692 56.6129 122.692 57.2777C122.692 57.7592 122.607 58.2259 122.437 58.6776C122.27 59.1293 121.983 59.6321 121.574 60.1861C121.165 60.7401 120.598 61.4176 119.873 62.2188L116.626 65.843V65.9261H123.101V67H114.964Z"}),s.createElement("rect",{className:px,x:"98.5",y:"39.5",width:"41",height:"41",rx:"20.5"})),s.createElement("g",{key:"3",filter:"url(#reverse-stacking-order-filter)"},s.createElement("rect",{className:pF,x:"131",y:"40",width:"40",height:"40",rx:"20"}),s.createElement("path",{className:pK,d:"M151.048 67.179C150.243 67.179 149.522 67.0341 148.887 66.7443C148.252 66.4503 147.75 66.0433 147.379 65.5234C147.008 65.0036 146.812 64.4048 146.791 63.7273H147.999C148.02 64.2045 148.167 64.6222 148.44 64.9801C148.713 65.3338 149.075 65.6108 149.527 65.8111C149.978 66.0071 150.481 66.1051 151.035 66.1051C151.64 66.1051 152.173 65.9922 152.633 65.7663C153.098 65.5405 153.46 65.2315 153.72 64.8395C153.984 64.4432 154.116 63.9957 154.116 63.4972C154.116 62.9687 153.982 62.5021 153.713 62.0973C153.445 61.6925 153.059 61.3771 152.556 61.1513C152.058 60.9254 151.461 60.8125 150.767 60.8125H150V59.7386H150.767C151.333 59.7386 151.834 59.6364 152.269 59.4318C152.708 59.223 153.053 58.9311 153.304 58.5561C153.556 58.1811 153.681 57.7401 153.681 57.233C153.681 56.7514 153.573 56.3274 153.355 55.9609C153.138 55.5945 152.831 55.3068 152.435 55.098C152.043 54.8892 151.585 54.7848 151.061 54.7848C150.554 54.7848 150.089 54.8828 149.667 55.0788C149.245 55.2749 148.904 55.5518 148.645 55.9098C148.389 56.2678 148.252 56.6918 148.235 57.1818H147.078C147.096 56.5 147.283 55.9013 147.641 55.3857C148.003 54.8658 148.483 54.4609 149.079 54.1712C149.68 53.8771 150.345 53.7301 151.074 53.7301C151.845 53.7301 152.512 53.8878 153.074 54.2031C153.637 54.5185 154.071 54.9382 154.378 55.4624C154.689 55.9822 154.845 56.5554 154.845 57.1818C154.845 57.9276 154.642 58.5668 154.238 59.0994C153.833 59.6278 153.287 59.9943 152.601 60.1989V60.282C153.436 60.4482 154.093 60.8189 154.57 61.3942C155.051 61.9652 155.292 62.6662 155.292 63.4972C155.292 64.196 155.109 64.8246 154.743 65.3828C154.376 65.9368 153.873 66.3757 153.234 66.6996C152.599 67.0192 151.87 67.179 151.048 67.179Z"}),s.createElement("rect",{className:px,x:"130.5",y:"39.5",width:"41",height:"41",rx:"20.5"}))];return e&&t.reverse(),s.createElement("svg",{width:"240",height:"120",fill:"none"},t,s.createElement("rect",{className:pL,x:"58.5",y:"28.5",width:"123",height:"63",rx:"3.5",strokeDasharray:"4 2"}),s.createElement("defs",null,s.createElement("filter",{id:"reverse-stacking-order-filter",x:"-1px",y:"-1px",width:"44",height:"42",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},s.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),s.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),s.createElement("feOffset",{dx:"2"}),s.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),s.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),s.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1112_23748"}),s.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1112_23748",result:"shape"}))))},alignToBaseline:function(){return s.createElement("svg",{width:240,height:120,fill:"none"},s.createElement("path",{className:d()("stack_layout_details_preview--alignToBaselineLine--Erw5t","stack_layout_details_preview--strokeAssistive--GgFOd"),d:"M38 60.5h164"}),s.createElement("g",{className:"stack_layout_details_preview--alignToBaselineA--kQYyh"},s.createElement("path",{className:pK,d:"M63.8516 67L65.2514 63.0561H70.7486L72.1484 67H73.4013L68.6392 53.9091H67.3608L62.5987 67H63.8516ZM65.6349 61.9822L67.9553 55.4624H68.0447L70.3651 61.9822H65.6349Z"}),s.createElement("rect",{className:px,x:46.5,y:38.5,width:43,height:43,rx:1.5})),s.createElement("rect",{className:d()("stack_layout_details_preview--alignToBaselineEmpty--Z-l7O",px),x:98.5,y:38.5,width:43,height:43,rx:1.5}),s.createElement("g",{className:"stack_layout_details_preview--alignToBaselineG--YayQ-"},s.createElement("path",{className:pK,d:"M171.843 68.8864C174.169 68.8864 175.895 67.7486 175.895 65.2557V55.1818H174.783V57.0547H174.668C174.265 56.1726 173.453 55.0476 171.651 55.0476C169.222 55.0476 167.592 57.0803 167.592 60.0653C167.592 63.076 169.279 64.8977 171.632 64.8977C173.396 64.8977 174.259 63.875 174.649 62.9737H174.751V65.1854C174.751 67.0135 173.581 67.8636 171.843 67.8636C170.161 67.8636 169.356 67.0518 168.941 66.304L168.007 66.9176C168.583 68.0426 169.835 68.8864 171.843 68.8864ZM171.766 63.8558C169.816 63.8558 168.736 62.2962 168.736 60.0462C168.736 57.8345 169.797 56.0831 171.766 56.0831C173.69 56.0831 174.77 57.745 174.77 60.0462C174.77 62.4176 173.658 63.8558 171.766 63.8558Z"}),s.createElement("rect",{className:px,x:150.5,y:38.5,width:43,height:43,rx:1.5})),s.createElement("rect",{className:d()("stack_layout_details_preview--alignToBaselineOutline--YlRIY",pL),x:38.5,y:30.5,width:163,height:59,rx:3.5,strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"}))},bordersTakeSpace:function(){return s.createElement("svg",{width:240,height:120,fill:"none"},s.createElement("g",{className:"stack_layout_details_preview--bordersTakeSpaceLeft--WTfPZ"},s.createElement("rect",{className:pD,x:"43",y:"37",width:"48",height:"48",rx:"2"}),s.createElement("rect",{className:pF,x:"49",y:"43",width:"36",height:"36",rx:"2"})),s.createElement("g",{className:"stack_layout_details_preview--bordersTakeSpaceRight--QCBF1"},s.createElement("rect",{className:pD,x:"98",y:"37",width:"99",height:"48",rx:"2"}),s.createElement("rect",{className:pF,x:"104",y:"43",width:"87",height:"36",rx:"2"})),s.createElement("rect",{className:d()("stack_layout_details_preview--bordersTakeSpaceOutline--Xq42w",pL),x:"48.5",y:"42.5",width:"143",height:"37",rx:"1.5",strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"}))}};function pB({setting:e,enabled:t}){let n=e?pH[e]:null;return s.createElement("div",{className:d()("stack_layout_details_preview--preview---r9k-",{"stack_layout_details_preview--active--yCMB3":t}),"data-non-interactive":!0},n?s.createElement(n,{enabled:t}):s.createElement("div",{className:"stack_layout_details_preview--previewText--0NBYb"},s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.preview"})))}var pV=n(332642),pU=n(769502);let pz="seen_stack_spacing_auto_onboarding";function pZ(e){let[t,n]=(0,s.useState)(!1),[l,r]=(0,s.useState)({enabled:!1}),a=(0,tS.Rt)();return s.createElement(s.Fragment,null,s.createElement(pN,{title:(0,F.t)("fullscreen.properties_panel.stack_panel.advanced_layout"),tooltip:a?(0,F.t)("fullscreen.properties_panel.section_autoLayout.tooltip_autoLayoutSettings"):(0,F.t)("fullscreen.properties_panel.stack_panel.advanced_layout"),modalKey:"LAYOUT_DETAILS_PICKER",buttonInteractableName:"open_stack_layout_details_modal_button",modalTrackableName:"stack_layout_details_modal",svg:i5.A,ui3Icon:s.createElement(eu,null),buttonClassName:pU.Sj,recordingKey:e.recordingKey,onClose:()=>{setTimeout(()=>{n(!0)},250)}},s.createElement(pB,{setting:l.setting,enabled:l.enabled}),s.createElement("div",{className:pV.ne},s.createElement(pW,{updatePreview:r,recordingKey:e.recordingKey}),s.createElement(pG,{updatePreview:r,recordingKey:e.recordingKey}),s.createElement(pY,{updatePreview:r,recordingKey:e.recordingKey}))),t&&s.createElement(pQ,{onDismiss:()=>n(!1)}))}function pG({updatePreview:e,recordingKey:t}){var n;let l=(0,ec.wA)(),r=(0,n6.U)(),[a,i]=(0,lR.lJ)("stackReverseZIndex"),o=(0,i8.am)(),c=(null==(n=(0,ou.Gq)())?void 0:n.getPrimaryLocale(!0))===om.Xn?120:180,d=!0===a;return s.createElement(tc.E,{name:"stacking_order_control"},s.createElement(pO.L,{label:(0,F.t)("fullscreen.properties_panel.stack_panel.canvas_stacking_order"),onMouseEnter:()=>e({setting:"reverseStackingOrder",enabled:d}),onMouseLeave:()=>e({enabled:!1})},s.createElement(r8.l6,{id:"reverse-stacking-order-select",dispatch:l,className:pV.Vu,inputClassName:pV.hF,chevronClassName:pV.ai,textAlign:"right",property:a,formatter:pX,onChange:e=>{i(e),o(e?"Enable reverse zIndex":"Disable reverse zIndex")},recordingKey:_.Pt(t,"reverseStackingOrder"),dropdownShown:r,dropdownAlignment:"right",dropdownWidth:c,onOptionFocus:t=>e({setting:null!=t?"reverseStackingOrder":void 0,enabled:!!t})},s.createElement(r8.c$,{value:!0}),s.createElement(r8.c$,{value:!1}))))}function pY({updatePreview:e,recordingKey:t}){let n=(0,lR.kl)("stackMode"),l="BASELINE"===(0,lR.kl)("stackCounterAlignItems"),r="HORIZONTAL"!==n,a=(0,pv.sR)();return s.createElement(tc.E,{name:"baseline_alignment_control"},s.createElement(pM.k,{label:(0,F.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),recordingKey:_.Pt(t,"alignToBaseline"),property:l,disabled:r,onChange:t=>{a(t,"modal"),e({setting:"alignToBaseline",enabled:t})},onFocus:t=>{e({setting:"alignToBaseline",enabled:l})},onHover:(t,n)=>{e({setting:"ENTER"===n?"alignToBaseline":void 0,enabled:t})},"data-tooltip":r?(0,F.t)("fullscreen.properties_panel.stack_panel.only_applicable_for_horizontal_layout"):void 0,"data-tooltip-type":ef.Ib.TEXT}))}function pW({updatePreview:e,recordingKey:t}){let n=(0,ec.wA)(),l=(0,n6.U)(),[r,a]=(0,lR.lJ)("bordersTakeSpace"),i=(0,i8.am)(),o=!0===r;return s.createElement(tc.E,{name:"borders_take_space_control"},s.createElement(pO.L,{label:(0,F.t)("fullscreen.properties_panel.stack_panel.borders_take_space"),onMouseEnter:()=>e({setting:"bordersTakeSpace",enabled:o}),onMouseLeave:()=>e({enabled:!1})},s.createElement(r8.l6,{id:"borders-take-space-select",dispatch:n,className:pV.Vu,inputClassName:pV.hF,chevronClassName:pV.ai,dropdownWidth:168,textAlign:"right",property:o,formatter:p$,onChange:e=>{a(e),i("change_borders_take_space",{enabled:e,source:"modal"})},recordingKey:_.Pt(t,"bordersTakeSpace"),dropdownShown:l,onOptionFocus:t=>e({setting:null!=t?"bordersTakeSpace":void 0,enabled:!!t})},s.createElement(r8.c$,{value:!0}),s.createElement(r8.c$,{value:!1}))))}let pX={format:e=>e?(0,F.t)("fullscreen.properties_panel.stack_panel.first_on_top"):(0,F.t)("fullscreen.properties_panel.stack_panel.last_on_top")},p$={format:e=>e?(0,F.t)("fullscreen.properties_panel.stack_panel.included"):(0,F.t)("fullscreen.properties_panel.stack_panel.excluded"),formatExtended:e=>({text:e?(0,F.t)("fullscreen.properties_panel.stack_panel.included_in_layout"):(0,F.t)("fullscreen.properties_panel.stack_panel.excluded_from_layout")})};function pQ({onDismiss:e}){let t=(0,ec.wA)();return(0,pI.f)(pz)?null:s.createElement(pA.OA,{targetKey:"stack-spacing-input",shouldNotWrapInParagraphTag:!0,dismissModal:()=>{t(pk.b({[pz]:!0})),e()},background:"light",width:268,title:s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.gap_onboarding_title"}),secondaryCtaText:s.createElement("a",{href:"https://help.figma.com/hc/articles/360040451373-Explore-auto-layout-properties#spacing-between",target:"_blank",style:{textDecoration:"none"}},s.createElement(F.Tx,{id:"general.learn_more"})),onClickSecondaryCta:r3.lQ,ctaText:s.createElement(F.Tx,{id:"general.got_it"}),onClickPrimaryCta:e,arrowPosition:e6.F_.RIGHT_TITLE},s.createElement(pR.Gv,{containerClassName:pV.t7,src:"https://static.figma.com/uploads/94241d15e9d47a0c73734ae71850674f78cd4ab0"}),s.createElement("p",{className:pV.En},s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.gap_onboarding_body1",gapBetweenItems:s.createElement("strong",null,s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.gap_items"}))})),s.createElement("p",{className:pV.En},s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.gap_onboarding_body2",auto:s.createElement("strong",null,s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.auto"}))})))}var pj=n(488315);function pq(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.5 7h-2a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 6 7.5v9A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 9.5 6h-2Zm9 1h-2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 13 7.5v3a1.5 1.5 0 0 0 1.5 1.5h2a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 16.5 6h-2Zm3.384 8.32a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034l2.5-3Z",clipRule:"evenodd"}))}function pJ(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.5 7h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5ZM6 7.5A1.5 1.5 0 0 1 7.5 6h2A1.5 1.5 0 0 1 11 7.5v2A1.5 1.5 0 0 1 9.5 11h-2A1.5 1.5 0 0 1 6 9.5v-2Zm8.5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5Zm-1.5.5A1.5 1.5 0 0 1 14.5 6h2A1.5 1.5 0 0 1 18 7.5v2a1.5 1.5 0 0 1-1.5 1.5h-2A1.5 1.5 0 0 1 13 9.5v-2ZM9.5 14h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 6 14.5v2A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 9.5 13h-2Zm10.384 1.32a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034l2.5-3Z",clipRule:"evenodd"}))}function p0(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 7h-9a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-9-1A1.5 1.5 0 0 0 6 7.5v2A1.5 1.5 0 0 0 7.5 11h9A1.5 1.5 0 0 0 18 9.5v-2A1.5 1.5 0 0 0 16.5 6h-9Zm2 8h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 6 14.5v2A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 9.5 13h-2Zm10.384 1.32a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034l2.5-3Z",clipRule:"evenodd"}))}function p5(){let{propertiesPanelShouldShowRemoveAutoLayout:e}=ur(),t=e?(0,F.t)("fullscreen.properties_panel.stack_panel.remove_auto_layout"):(0,F.t)("fullscreen.properties_panel.stack_panel.use_auto_layout"),{actionEnabledStackSelection:n,actionEnabledUnstackSelection:l}=ur(),r=e?l:n,a=(0,s.useCallback)(()=>{X.Y5.triggerActionInUserEditScope(e?"unstack-selection":"stack-selection")},[e]);return s.createElement(tE.YW,{"aria-label":t,"data-tooltip":t,"data-tooltip-type":ef.Ib.TEXT,selected:e,showTooltipWhenSelectedIsTrue:!0,disabled:!r,onClick:a},s.createElement(p1,null))}function p1(){let e=(0,lR.kl)("stackMode"),t=(0,lR.kl)("stackWrap");if((0,J.gl)(e)||null==e||(0,J.gl)(t))return s.createElement(pq,null);if("WRAP"===t)return s.createElement(pJ,null);switch(e){case"NONE":case"HORIZONTAL":return s.createElement(pq,null);case"VERTICAL":return s.createElement(p0,null)}}var p7=n(310515),p2=n(258890),p4=n(996620),p3=n(689606),p8=n(957069),p6=n(733982);function p9(e){return s.createElement(b.p,{name:"stack_panel"},s.createElement(ue,{...e}))}let ue=s.memo(e=>{let{version:t}=(0,em.DP)();return"ui3"===t?s.createElement(un,{...e}):s.createElement(ut,{...e})});function ut(e){let{showMigrationUi:t,actionEnabledStackSelection:n,actionEnabledUnstackSelection:l,propertiesPanelShouldShowRemoveAutoLayout:r,wrappingEnabled:a}=ur();return s.createElement(eK.Zk,null,s.createElement(dn,{title:s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.auto_layout"}),addProperty:()=>{X.Y5.triggerActionInUserEditScope("stack-selection")},removeProperty:()=>{X.Y5.triggerActionInUserEditScope("unstack-selection")},contentsVisibleOrMixed:e.onlyStacksSelected,showButton:r?"-":"+",minusDisabled:!l,plusDisabled:!n,recordingKey:e.recordingKey,dataTestId:"open-stack-panel"},t?s.createElement(ui,null):s.createElement(s.Fragment,null,s.createElement(eK.fI,{className:a?pU.TE:pU.mm},s.createElement(uo,{recordingKey:e.recordingKey}),s.createElement("div",{className:pU.T$},s.createElement(pS,{recordingKey:_.Pt(e,"alignment")})),s.createElement(pZ,{recordingKey:_.Pt(e,"stackLayoutDetails")}),s.createElement(us,{recordingKey:e.recordingKey}),a&&s.createElement(uc,{recordingKey:e.recordingKey})),s.createElement(ud,{recordingKey:e.recordingKey})),s.createElement(pP.E,null)))}function un(e){let t=e.onlyStacksSelected?s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.auto_layout"}):s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.layout"}),n=(0,iA.J2)($.Ez5.propertiesPanelState().shownPropertiesPanels),l=(0,ec.d4)(e=>e.mirror.selectionProperties),r=(0,dh.aW)(n,void 0,l,void 0);return s.createElement(eK.Zk,null,s.createElement(tH.iE,{titleTx:t,icon:r?s.createElement(p5,null):void 0}),s.createElement(ul,{...e}))}function ul({onlyStacksSelected:e,onlyShowResizingRow:t,recordingKey:n}){let{showMigrationUi:l,wrappingEnabled:r}=ur(),a=(0,s.useRef)(null),i=(0,lR.kl)("nodesAreAllInsideStacks"),o=s.createElement(s.Fragment,null,s.createElement(cl,{recordingKey:n,forwardedRef:a}),s.createElement(sj,{visible:!!(e||i),widthHeightRowRef:a}));return!e||t?o:s.createElement(s.Fragment,null,l?s.createElement(ui,null):s.createElement(s.Fragment,null,o,s.createElement(tw.sY,{topLeftInput:s.createElement(uo,{recordingKey:n}),rightInput:s.createElement(pS,{recordingKey:_.Pt(n,"alignment")}),leftLabel:r?s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_direction"}):s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_direction_and_gap"}),rightLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_alignment"}),bottomLeftInput:r?null:s.createElement(us,{recordingKey:n}),topIcon:s.createElement(pZ,{recordingKey:_.Pt(n,"stackLayoutDetails")}),bottomIcon:null}),s.createElement(ud,{recordingKey:n}),r?s.createElement(tw.fn,{leftInput:s.createElement(us,{recordingKey:n}),rightInput:s.createElement(uc,{recordingKey:n}),icon:null,leftLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_gap"}),rightLabel:null}):null),s.createElement(pP.E,null))}function ur(){return(0,ts.R)(e=>{let{mirror:{appModel:t,selectionProperties:{propertiesPanelShouldShowRemoveAutoLayout:n,containsStacksNeedingAlignmentMigration:l,stackMode:r,stackWrap:a}}}=e;return{showMigrationUi:l,actionEnabledStackSelection:(0,ei.Yh)(t,"stack-selection"),actionEnabledUnstackSelection:(0,ei.Yh)(t,"unstack-selection"),propertiesPanelShouldShowRemoveAutoLayout:n,wrappingEnabled:("HORIZONTAL"===r||(0,J.gl)(r))&&("WRAP"===a||(0,J.gl)(a))}})}let ua=!1;function ui(){let e;let t=(0,i8.am)(),[n,l]=(0,s.useState)(!1),{isOrInInstance:r,containsComponents:a}=(0,ts.R)(e=>{let{isInstanceSelected:t,isInstanceSublayerSelected:n,numSelectedByType:l}=e.mirror.selectionProperties;return{isOrInInstance:!!(t||n),containsComponents:!!l&&!!l.SYMBOL}});(0,s.useEffect)(()=>{ua||(t("stack_v2_migration_info_shown"),ua=!0)},[t]),(0,nF.f4)(()=>{l(!1)});let i=(0,s.useCallback)(()=>{let e=$.AlE.getActiveCanvas();eR.l7.user("update-stack-to-alv3",()=>{$.Qa7.updateStackToAutoLayoutV3(e,$.Ez5.bigNudgeAmount())}),X.Y5.triggerAction("commit"),l(!0),t("stack_v2_migration_updated")},[t]),o=(0,s.useCallback)(e=>{X.Y5.triggerActionInUserEditScope("undo"),l(!1)},[]);if(n)return s.createElement(eK.fI,{className:pU.A5},s.createElement("span",{className:pU.Yv},s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.auto_layout_updated"})),s.createElement("a",{className:pU._V,onClick:o},s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.undo"})));let c=$.AlE.getActiveCanvas(),d=$.Qa7.isOrInInstanceWithDeprecatedAlignmentOverride(c);return e=r?d?(0,F.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance_overrides"):(0,F.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance"):a?(0,F.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_components"):(0,F.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version"),s.createElement(eK.fI,{className:pU.A5},s.createElement("div",{className:pU.Yv},s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.new_auto_layout_version_available"}),s.createElement(M.B,{className:pU.zp,svg:p6.A,"data-tooltip-type":ef.Ib.SPECIAL,"data-tooltip":ef.MW.AUTOLAYOUT_V3_MIGRATION_INFO,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-text":e})),s.createElement(e5.nR,{onClick:i,className:pU.RM,type:"button",disabled:r&&!d},s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.update"})))}function uo(e){let t=(0,lA.Zr)("unstack-selection"),n=(0,lR.kl)("stackMode"),l=(0,lR.kl)("stackWrap"),{version:r}=(0,em.DP)(),a="ui2"===r?pU.N:pU.O_;return s.createElement(tc.E,{name:"stack_mode_control"},s.createElement("div",{className:a,"data-onboarding-key":"stack-mode-control"},s.createElement(oe.I,{property:"HORIZONTAL"===n&&"WRAP"===l?"WRAP":n,onChange:e=>{(0,p.sx)("Stack Mode Changed",{stackMode:e}),eR.l7.user("set-stack-mode",()=>$.Qa7.setStackModeAndFlipPrimaryAndCounterAxisValues(e))},recordingKey:_.Pt(e,"stackMode"),disabled:!t},s.createElement(oe.Y,{svg:p4.A,value:"VERTICAL",tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.vertical_direction")}),s.createElement(oe.Y,{svg:p2.A,value:"HORIZONTAL",tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.horizontal_direction")}),s.createElement(oe.Y,{svg:p8.A,value:"WRAP",tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.wrap")}))))}function us(e){let t=(0,oi.Wx)(),n=(0,oi.Y9)(),{version:l}=(0,em.DP)(),r="ui2"===l?pU.Kz:void 0;return s.createElement(tc.E,{name:"stack_spacing_control"},s.createElement(p7.K,{outerClassName:r,onFocus:()=>t($.RN9.SPACING,!0),onBlur:()=>t($.RN9.SPACING,!1),onScrubBegin:()=>t($.RN9.SPACING,!0),onScrubEnd:()=>t($.RN9.SPACING,!1),onMouseEnter:()=>n($.RN9.SPACING,!0),onMouseLeave:()=>n($.RN9.SPACING,!1),onNudge:()=>$.glU.temporarilyHideOverlay($.hJs.SELECTION),recordingKey:_.Pt(e,"stackSpacing"),source:"panel",onboardingKey:"stack-spacing-input"}))}function uc(e){let t=(0,oi.Wx)(),n=(0,oi.Y9)(),{version:l}=(0,em.DP)(),r="ui3"===l?void 0:pU.UN;return s.createElement(tc.E,{name:"stack_counter_spacing_input"},s.createElement(pC.q,{outerClassName:r,onFocus:()=>t($.RN9.COUNTER_SPACING,!0),onBlur:()=>t($.RN9.COUNTER_SPACING,!1),onScrubBegin:()=>t($.RN9.COUNTER_SPACING,!0),onScrubEnd:()=>t($.RN9.COUNTER_SPACING,!1),onMouseEnter:()=>n($.RN9.COUNTER_SPACING,!0),onMouseLeave:()=>n($.RN9.COUNTER_SPACING,!1),onNudge:()=>$.glU.temporarilyHideOverlay($.hJs.SELECTION),recordingKey:_.Pt(e,"stackCounterSpacing"),inputTestId:"stack-counter-spacing",source:"panel"}))}function ud({recordingKey:e}){let[t,n]=(0,s.useState)(!1),[l,r]=(0,s.useState)(!1),a=(0,pj.U)(),{version:i}=(0,em.DP)();(0,nF.f4)(e=>{let{stackHorizontalPadding:t,stackPaddingRight:l,stackVerticalPadding:r,stackPaddingBottom:i}=e.mirror.selectionProperties,o=(0,J.q)(t,l),s=(0,J.q)(r,i);n((0,J.gl)(o)||(0,J.gl)(s)||a)});let o=(0,i8.am)(),c=s.createElement(a8.m,{svg:p3.A,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),onMouseDown:()=>{n(!t),$.Qa7.setFocusStackPanelInput($.RN9.PADDING_ALL,!1),o(t?"Disable autolayout independent padding":"Enable autolayout independent padding")},recordingKey:_.Pt(e,"showAllPaddingControls"),toggled:t,className:pU.NC,dataTestId:"stack-padding-toggle"});return s.createElement(tc.E,{name:"stack_padding_controls"},s.createElement("ui3"===i?uu:up,{showAllPaddingControls:t,showSinglePaddingControl:l,setShowSinglePaddingControl:r,recordingKey:e,handleClick:function(e){(0,h.Fo)(e)&&r(!0)},showAllPaddingControlsToggle:c}))}function up({showAllPaddingControls:e,showSinglePaddingControl:t,setShowSinglePaddingControl:n,recordingKey:l,handleClick:r,showAllPaddingControlsToggle:a}){return s.createElement(eK.fI,{heightMultiplier:e&&!t?2:void 0},t?s.createElement(um,{className:pU.mR,paddingSelection:oi.mx.ALL,onBlur:()=>n(!1),focusOnMount:!0,recordingKey:l}):e?s.createElement(s.Fragment,null,s.createElement(um,{className:d()(pU.oH,pU.aO),paddingSelection:oi.mx.LEFT,onClick:r,recordingKey:l,inputTestId:"padding-left"}),s.createElement(um,{className:d()(pU.oH,pU.uH),paddingSelection:oi.mx.RIGHT,onClick:r,recordingKey:l,inputTestId:"padding-right"}),s.createElement(um,{className:d()(pU.T1,pU.aO),paddingSelection:oi.mx.TOP,onClick:r,recordingKey:l,inputTestId:"padding-top"}),s.createElement(um,{className:d()(pU.T1,pU.uH),paddingSelection:oi.mx.BOTTOM,onClick:r,recordingKey:l,inputTestId:"padding-bottom"})):s.createElement(s.Fragment,null,s.createElement(um,{className:pU.oH,paddingSelection:oi.mx.HORIZONTAL,onClick:r,recordingKey:l,inputTestId:"padding-horizontal"}),s.createElement(um,{className:pU.T1,paddingSelection:oi.mx.VERTICAL,onClick:r,recordingKey:l,inputTestId:"padding-vertical"})),a)}function uu({showAllPaddingControls:e,showSinglePaddingControl:t,setShowSinglePaddingControl:n,recordingKey:l,handleClick:r,showAllPaddingControlsToggle:a}){return t?s.createElement(tw.fn,{leftInput:s.createElement(um,{paddingSelection:oi.mx.ALL,onBlur:()=>n(!1),focusOnMount:!0,recordingKey:l}),rightInput:null,icon:a,leftLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_padding"}),rightLabel:null}):e?s.createElement(s.Fragment,null,s.createElement(tw.fn,{leftInput:s.createElement(um,{paddingSelection:oi.mx.LEFT,onClick:r,recordingKey:l}),rightInput:s.createElement(um,{paddingSelection:oi.mx.TOP,onClick:r,recordingKey:l}),icon:a,leftLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_padding"}),rightLabel:null}),s.createElement(tw.fn,{leftInput:s.createElement(um,{paddingSelection:oi.mx.RIGHT,onClick:r,recordingKey:l}),rightInput:s.createElement(um,{paddingSelection:oi.mx.BOTTOM,onClick:r,recordingKey:l}),icon:null,leftLabel:null,rightLabel:null})):s.createElement(tw.fn,{leftInput:s.createElement(um,{paddingSelection:oi.mx.HORIZONTAL,onClick:r,recordingKey:l,inputTestId:"padding-horizontal"}),rightInput:s.createElement(um,{paddingSelection:oi.mx.VERTICAL,onClick:r,recordingKey:l,inputTestId:"padding-vertical"}),icon:a,leftLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_padding"}),rightLabel:null})}function um({className:e,paddingSelection:t,recordingKey:n,inputTestId:l,onClick:r,onBlur:a,focusOnMount:i}){let o=(0,oi.Wx)(),c=(0,oi.Y9)();return s.createElement(pj.s,{outerClassName:e,paddingSelection:t,focusOnMount:i,onFocus:()=>$.Qa7.setFocusStackPanelInput(t,!0),onBlur:e=>{$.Qa7.setFocusStackPanelInput(t,!1),null==a||a(e)},onMouseEnter:()=>c(t,!0),onMouseLeave:()=>c(t,!1),onClick:r,onScrubBegin:()=>o(t,!0),onScrubEnd:()=>o(t,!1),onNudge:()=>$.glU.temporarilyHideOverlay($.hJs.SELECTION),recordingKey:_.Pt(n,"stackPadding",oi.mx[t]),inputTestId:l,source:"panel"})}let uh="template-controls-picker";function ug(){let{sceneNodesToEdit:e,description:t}=(0,ts.R)(e=>({sceneNodesToEdit:(0,eO.F4)(e),description:e.mirror.selectionProperties.description})),n="string"==typeof t?t:"",l=s.useCallback(t=>{eR.l7.user("set-description",()=>{for(let n of e)n.setDescriptionRich(t)})},[e]),r=s.useCallback(()=>{X.Y5.commit()},[]);return s.createElement("div",{className:"template_controls_menu--descriptionContainer--pRK0M"},s.createElement(eD,{description:n,isViewOnly:!1,placeholder:(0,F.t)("design_systems.template_panel.template_placeholder"),onBlur:r,onSubmit:l}))}function uE(){let e=(0,ec.wA)(),t=(0,ec.d4)(e=>e.pickerShown),n=new N.Mi(null==t?void 0:t.initialX,null==t?void 0:t.initialY);return(null==t?void 0:t.id)!==uh?null:s.createElement(e6.vx,{autoflowHeight:!0,headerSize:"small",initialPosition:n,initialWidth:320,onClose:()=>{e(D.XE())},scrollOverflow:!1,title:(0,F.t)("design_systems.template_panel.template_controls")},s.createElement(ug,null))}var u_=n(691151);let uf=s.memo(function(){let{containingTemplate:e,pickerShown:t,templateDescription:n}=(0,ts.R)(e=>({containingTemplate:(0,eM._k)(e),pickerShown:e.pickerShown,templateDescription:e.mirror.selectionProperties.description??""})),l=(0,ec.d4)(td.Dr),r=(0,ec.d4)(td.cB),a=s.useRef(null),i=(0,ec.wA)(),o=s.useCallback((e,t,n=ey.qo)=>{if(!a)return;let l=es.findDOMNode(a.current),r=(0,ey.cn)(l,n);i(D.u1({id:t,initialX:r.x,initialY:r.y})),i(B.sw()),i(D.Uv())},[i]),c=s.useCallback(e=>{(null==t?void 0:t.id)===uh?i(D.XE()):o(e,uh,320)},[t,i,o]);return e&&e.isAlive()?s.createElement(eK.Zk,{ref:a},s.createElement(eK.fI,{className:tI.LO},s.createElement(tP.R,{guid:e.guid,value:e.name,canEdit:!0,icon:s.createElement(M.B,{svg:u_.A,className:tN.Kk}),editAction:"rename-template"}),s.createElement("span",{className:tA},s.createElement(tE.YW,{className:tR,selected:(null==t?void 0:t.id)===uh,onClick:c,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("design_systems.template_panel.template_controls"),svg:tM.A,recordingKey:"templateControls"}))),s.createElement(tT,{description:n}),l&&r&&s.createElement(tb,null),s.createElement(uE,null)):null});function uy({onExpand:e}){return s.createElement(eK.Zk,{"data-testid":"toggle-simplified-panels"},s.createElement(ty.z,{onClick:e,recordingKey:"toggleSimplifiedPanels"},s.createElement(F.Tx,{id:"design_systems.component_properties.show_more_properties"})))}var uv=n(527395);function ub(e){return s.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 5.838 6.66 4.5 8 3.162 9.34 4.5 8 5.838Zm-.43-3.66L5.68 4.066a.613.613 0 0 0 0 .868l1.89 1.888a.609.609 0 0 0 .86 0l1.89-1.888a.613.613 0 0 0 0-.868L8.43 2.178a.609.609 0 0 0-.86 0ZM10.161 8 11.5 6.66 12.838 8 11.5 9.34 10.162 8Zm-.984.43 1.888 1.89c.24.24.628.24.868 0l1.888-1.89a.609.609 0 0 0 0-.86l-1.888-1.89a.613.613 0 0 0-.868 0L9.178 7.57a.609.609 0 0 0 0 .86ZM6.66 11.5 8 12.838 9.34 11.5 8 10.162 6.66 11.5Zm-.98-.434 1.89-1.888a.609.609 0 0 1 .86 0l1.89 1.888c.24.24.24.628 0 .868l-1.89 1.888a.609.609 0 0 1-.86 0l-1.89-1.888a.613.613 0 0 1 0-.868ZM3.162 8 4.5 6.66 5.838 8 4.5 9.34 3.162 8Zm3.66-.43L4.934 5.68a.613.613 0 0 0-.868 0L2.178 7.57a.609.609 0 0 0 0 .86l1.888 1.89c.24.24.628.24.868 0l1.888-1.89a.609.609 0 0 0 0-.86Z",clipRule:"evenodd"}))}function uS(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.285 5.089a.5.5 0 0 0-.57 0l-6.5 4.5a.5.5 0 0 0 .028.84l2.5 1.5a.5.5 0 1 0 .514-.858L6.422 9.97 12 6.108l5.578 3.862-1.835 1.101a.5.5 0 1 0 .514.858l2.5-1.5a.5.5 0 0 0 .028-.84l-6.5-4.5Zm3.069 9.057-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 0 0 .708.708l2.146-2.147V18.5a.5.5 0 0 0 1 0v-5.793l2.146 2.147a.5.5 0 0 0 .708-.708Z",clipRule:"evenodd"}))}var uw=n(989368),uT=n(960889),uP=n(866263),uC=n(897442),uk=n(416846),uI=n(126582),uN=n(617067),uA=n(764942),uR=n(842700),uO=n(141205),uM=n(102346),ux=n(971566),uL=n(336487);function uK(e){var t;let n=(0,n6.B)("UI3_PROPERTIES_TOOLBAR_OVEFLOW_DROPDOWN"),l=(0,s.useMemo)(()=>{let t=e.enabledToolbarItems.map(e=>e.map(e=>e.type===uN.ZU.CUSTOM_ACTION?s.createElement(uD,{item:e,key:e.recordingKey}):s.createElement(uF,{item:e,key:e.recordingKey})));return t.reduce((e,n,l)=>(e=e.concat(n),l<t.length-1&&e.push(s.createElement(eh.W.Separator,{key:`separator-${l}`})),e),[])},[e.enabledToolbarItems]),r=(0,s.useRef)(null),a=null==(t=r.current)?void 0:t.getBoundingClientRect();return a||(n.showing&&(0,f.$D)(y.e.EDITOR_USABILITY,Error("UI3ToolbarOverflowMenu: dropdownBoundingRect is null")),a=new DOMRect(0,0,0,0)),s.createElement(s.Fragment,null,s.createElement(tE.YW,{selected:n.showing,ref:r,"aria-label":(0,F.t)("fullscreen.properties_panel.tooltip_moreActions"),onClick:n.toggle,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.tooltip_moreActions")},s.createElement(lI.J,null)),n.showing&&s.createElement(eb.Cf,{targetRect:a,showPoint:!1,propagateCloseClick:!1},l))}function uF(e){var t,n,l;let{item:r}=e,a=(0,ec.d4)(eO.nj),i=(0,ec.d4)(e=>(0,uA.om)(r,e)),o=(0,ei.Yh)(a,r.action),c=("focus-mode-component-set-toggle"===r.action?null==(n=null==(t=(0,uL.U4)(o,i))?void 0:t.tooltipProps)?void 0:n["data-tooltip"]:null)??((0,ux.Q1)(r.action)||(0,lN.A)(r.action)),d=(0,ei.c1)(a.keyboardShortcuts,r.action),p=uO.VU.get(r.action,"toolbar");return s.createElement(ev.a,{text:c,isEnabled:o,hideCheck:!0,isChecked:!1,onClick:p,key:r.action,shortcut:d},(null==(l=(0,uM.bs)(r.action))?void 0:l.ui3Icon)||s.createElement(uR.V,null))}function uD(e){let{item:t}=e;return s.createElement(ev.a,{text:t.getTitle(),isEnabled:!0,hideCheck:!0,isChecked:!1,onClick:t.onClick,key:t.recordingKey},t.icon)}function uH(e){var t;let n=(0,s.useRef)(null),l=(0,n6.B)(e.flyoutConfig.dropdownKey),r=null==(t=n.current)?void 0:t.getBoundingClientRect(),a=e.flyoutConfig.actions.map(e=>s.createElement(uF,{item:e,key:e.action}));r||(l.showing&&(0,f.$D)(y.e.EDITOR_USABILITY,Error("UI3MultiSelectFlyoutActions: dropdownBoundingRect is null")),r=new DOMRect(0,0,0,0));let i=(0,U.n6)(),o=e.flyoutConfig.actions[0];return s.createElement(s.Fragment,null,s.createElement("div",{className:"ui3_multiselect_flyout_actions--iconAndChevronContainer--zXnfO"},s.createElement(uA.QE,{key:o.recordingKey,item:o,numUnreadComments:i,recordingKey:o.recordingKey}),e.flyoutConfig.actions.length>1&&s.createElement(tE.YW,{className:"ui3_multiselect_flyout_actions--chevron--JPONb",selected:l.showing,ref:n,"aria-label":e.flyoutConfig.getTooltip(),onClick:l.toggle,"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":e.flyoutConfig.getTooltip()},s.createElement(tZ.O,null))),l.showing&&s.createElement(eb.Cf,{targetRect:r,showPoint:!1,propagateCloseClick:!1},a))}let uB=Symbol("uniqueSymbol"),uV={dropdownKey:"component_actions",getTooltip:()=>(0,F.t)("fullscreen.selection_actions.tooltip_component_actions"),actions:[uN.$L,uN.Fx,uN.TA],[uB]:"UnfilteredFlyoutConfig"},uU={dropdownKey:"boolean_operations",getTooltip:()=>(0,F.t)("fullscreen.selection_actions.tooltip_boolean_operations"),actions:[uN.JR,uN.Ce,uN.hm,uN.h4,uN.zO],[uB]:"UnfilteredFlyoutConfig"};function uz(){let e=(0,ec.d4)(e=>e.mirror.selectionProperties.numSelected)??0,t=uZ();return e<2?[]:[uV,uU].map(t).filter(Boolean)}let uZ=()=>{let e=(0,uA.z2)(),t=(0,uA.PK)();return n=>{let l=n.actions.filter(n=>e(n)&&t(n));return 0===l.length?null:{...n,actions:l,[uB]:"FilteredFlyoutConfig"}}};var uG=n(113947);function uY({shouldShowInstancePanel:e,shouldShowComponentPropertiesPanel:t,recordingKey:n}){let l=(0,tS.Rt)(tS.G1.READY),r=(0,iA.J2)($.Ez5.editorState().selectionEmpty),a=(0,uT.s)(!1),i=uX(),o=uz(),c=uQ(),p=Math.max(1,3-o.length),u=c.length>p||i.flat().find(e=>e.type===uN.ZU.CUSTOM_ACTION),m=u?c.slice(0,p-1):c,{topLevelMode:h,editMode:g}=(0,ts.R)(e=>({topLevelMode:e.mirror.appModel.topLevelMode,editMode:e.mirror.appModel.activeCanvasEditModeType})),E=(0,ec.d4)(e=>{let t=e.modalShown;return(null==t?void 0:t.type)===uC.e}),_=(0,nD.q5)(),f=(0,nF.aV)(),y=(0,j.ck)(),v=g===$.m1T.COMMENTS||g===$.m1T.PREVIEW||g===$.m1T.BRANCHING||h===$.lyf.HISTORY||h===$.lyf.PREVIEW||h===$.lyf.DEV_HANDOFF||h===$.lyf.BRANCHING,S=(0,uP.ow)(),w=!!(null==_?void 0:_.isTryFile)&&!E&&!f&&y,T=h===$.lyf.DEV_HANDOFF&&a,P=(0,U.n6)(),C=u0({shouldShowComponentPropertiesPanel:t,shouldShowInstancePanel:e}),{count:k,node:I}=uq();return!E&&(S||r||v||f)&&!T||S||w||0===i.length?null:s.createElement(b.p,{name:"layer_header_bar"},s.createElement(eK.Zk,{"data-testid":"property-panel-toolbar",className:ng.rq},s.createElement(tG.D8,{"data-non-interactive":!0,recordingKey:"toolbar",className:d()(ng.mp,e1.cx.flex.alignLeft.borderBox.itemsCenter.h24.$,e1.cx.pl8.pr8.$)},s.createElement("div",{className:e1.cx.hFull.flexGrow1.flex.itemsCenter.minW0.$,"data-non-interactive":!0},l&&s.createElement(u5,{selectedNodeCount:k,node:I,shouldShowComponentPropertiesPanel:t,shouldShowInstancePanel:e})),s.createElement("div",{"data-non-interactive":!0,className:d()(ng.gF,{[ng.ek]:!["INSTANCE","FRAME"].includes(C)})},o.map(e=>s.createElement(tc.E,{key:e.dropdownKey,name:"layer_header_button",alsoTrack:()=>({layerButtonAction:`open_flyout_${(0,uw.uc)(e.dropdownKey)}`})},s.createElement(uH,{flyoutConfig:e}))),m.map(e=>e.type===uN.ZU.ACTION?s.createElement(tc.E,{key:e.recordingKey,name:"layer_header_button",alsoTrack:()=>({layerButtonAction:`${(0,uw.uc)(e.action)}`})},s.createElement(uA.QE,{item:e,numUnreadComments:P,recordingKey:n})):s.createElement(tc.E,{key:e.recordingKey,name:"layer_header_button",alsoTrack:()=>({layerButtonAction:`${(0,uw.uc)(e.getTitle())}`})},s.createElement(tB.K,{"data-tooltip-type":ef.Ib.TEXT,"aria-label":e.getTitle(),"data-tooltip":e.getTitle(),onClick:e.onClick,key:e.recordingKey},e.icon))),u&&s.createElement(tc.E,{name:"layer_overflow_menu_button"},s.createElement(uK,{enabledToolbarItems:i})))),s.createElement(tc.E,{name:"layer_component_panel_button"},s.createElement(uW,null))))}function uW(){let e=(0,ec.d4)(e=>(0,eC._7)(e)),{stateGroupSelectionMode:t,containingProductComponent:n}=tx(),l=(0,ec.d4)(td.Dr),r=(0,ec.d4)(td.Ct);return(0,iA.J2)($.Ez5.propertiesPanelState().shownPropertiesPanels)[$.ibQ.COMPONENT_ITEM]?n||t!==$.iCO.NON_STATE_COMPONENTS?l&&r?s.createElement("div",{"data-non-interactive":!0,className:e1.cx.pt8.pb4.$},s.createElement(tb,null)):null:e>1?s.createElement("div",{"data-non-interactive":!0,className:e1.cx.pt8.pb4.$},s.createElement(tk,{recordingKey:"createStateGroup"})):null:null}let uX=()=>{let e=(0,uA.z2)(),t=(0,uA.PK)(),n=u$(),l=function(){let e=av();if(ab((0,ec.d4)(e=>e.mirror.sceneGraphSelection))&&e)return{type:uN.ZU.CUSTOM_ACTION,onClick:()=>{q.tJ([e.guid])},icon:s.createElement(uS,null),getTitle:()=>(0,F.t)("design_systems.component_panel.select_component"),recordingKey:"ui3_toolbar_go_to_parent",orderingKey:"goto-parent-component"}}(),r=function(){let e=(0,ec.d4)(e=>e.mirror.selectionProperties),t=(0,ec.d4)(eO.dT),{onlyInstances:n,onlyInstanceSublayers:l}=(0,aW.p)(t),r=(0,uG.f)(t);if(!((e.pasteSources||[]).length>0)&&r&&!r.disabled&&(n||l))return{type:uN.ZU.CUSTOM_ACTION,onClick:r.onMouseDown,icon:r.ui3Icon,getTitle:()=>r.dataTooltip,recordingKey:"ui3_toolbar_go_to_original_component",orderingKey:"go-to-original-component"}}();return(0,s.useMemo)(()=>(0,uN.JQ)(n,l,r).map(n=>n.filter(n=>n.type===uN.ZU.CUSTOM_ACTION||e(n)&&t(n))).filter(e=>e.length>0),[e,t,n,l,r])},u$=()=>{let e=s.useMemo(a7.$H,[]),t=(0,ec.d4)(t=>e(t,(0,eO.rT)(Object.keys(t.mirror.sceneGraphSelection),t.mirror.sceneGraph))),n=[];for(let e in t)for(let l in t[e]){let r=t[e][l];n.push({type:uN.ZU.CUSTOM_ACTION,onClick:()=>eR.l7.user("reset-prop-assignments",()=>$.glU.resetComponentPropAssignmentForInstances(r.instanceGUIDs,l)),icon:s.createElement(uv.$,null),getTitle:()=>(0,F.t)("design_systems.instance_panel.reset_property_assignment",{assignmentName:r.name}),recordingKey:`reset_property_assignment_${r.name}`,orderingKey:"reset_property_assignment"})}return n},uQ=()=>{let e=uz().flatMap(e=>e.actions.map(e=>e.action)),t=uX().flat().filter(eN.Vq).filter(t=>t.type===uN.ZU.CUSTOM_ACTION||!e.includes(t.action));return(0,s.useMemo)(()=>t.sort((e,t)=>uj(e)-uj(t)),[t])},uj=e=>uN.cV.indexOf(e.type===uN.ZU.ACTION?e.action:e.orderingKey);function uq(){let e=(0,e9.O1)();return e&&0!==e.length?e.length>1?{type:"MIXED",count:e.length,node:null}:{type:e[0].type,count:1,node:e[0]}:{type:null,count:0,node:null}}function uJ(){let e=(0,ec.d4)(eO.dT),t=aQ(e),n=(0,s.useRef)(null);return s.createElement("div",{ref:n,className:e1.cx.maxWFull.$},s.createElement(tp.bj,{pickerButtonTextOverridesClassName:e1.cx.pl4.maxWFull.minW0.flexGrow1.ellipsis.noWrap.overflowHidden.$,panelTitleRef:n,instanceAndSublayerGUIDs:e,instanceNameDisplayOverride:t,recordingKey:"instance-panel-ui3-layer-header",panelTitleOverridesClassName:ng.s5,flushLeft:!0,dropdownIdPrefix:"selection-actions-instance-swap-picker",svgOverride:s.createElement("div",{className:e1.cx.pl4.$},s.createElement(ed.m,null)),chevronOverride:s.createElement("div",{className:e1.cx.flexShrink0.$},s.createElement(tZ.O,null))}))}function u0({shouldShowInstancePanel:e,shouldShowComponentPropertiesPanel:t}){let{type:n}=uq();return n?e?"INSTANCE":t?"SYMBOL":n:null}function u5({selectedNodeCount:e,node:t,shouldShowInstancePanel:n,shouldShowComponentPropertiesPanel:l}){switch(u0({shouldShowInstancePanel:n,shouldShowComponentPropertiesPanel:l})){case null:return null;case"MIXED":return s.createElement("div",{className:e1.cx.noWrap.textBodyMediumStrong.h24.flex.itemsCenter.pl8.$},`${e} selected`);case"FRAME":return s.createElement("div",{className:e1.cx.inlineFlex.$},s.createElement(r8.tV,{value:{chevron:()=>s.createElement(tZ.O,{className:ng.yc})}},s.createElement(s9,{id:"selection-actions-frame-preset-dropdown",selectClassName:ng.T0,inputClassName:ng.gv})));case"SYMBOL":return s.createElement(tD,{interiorSvg:!0,alwaysShowParentComponent:!0,unfocusedInputOverridesClassName:ng.I1,focusedInputOverridesClassName:ng.WN,svgOverride:s.createElement("div",{className:e1.cx.pl4.$},s.createElement(ub,null))});case"INSTANCE":return s.createElement(uJ,null);default:return t?s.createElement(u1,{node:t}):null}}function u1({node:e}){let[t,n]=(0,s.useState)(!1);return s.createElement(tc.E,{name:"layer_title_control"},s.createElement(uk.wF,{staticTextOverridesClassName:ng.XF,inputTextOverridesClassName:ng.jZ,hideSvg:!0,focusOnSingleClick:!0,name:e.name,abbreviatedStateName:e.isState?e.stateAbbreviatedName:null,guid:e.guid,isRenaming:t,stopRenaming:(t,l,r)=>{t&&(0,uI.Xs)(e.guid,l,r),n(!1)},shouldShowGuids:!1,prevNodeGuid:null,nextNodeGuid:null,explicitVariableModeNames:[],isThumbnail:!1,navigateAndPanTo:r3.lQ,startRenaming:()=>{n(!0)},isHovered:!1}))}var u7=n(19569),u2=n(787337);let u4=(0,u.jz)(nW.uj0),u3=e=>({[$.FAf.DESIGN]:{label:(0,F.t)("fullscreen.properties_panel.design"),tab:$.FAf.DESIGN,className:ng.Mf,recordingKey:"designTab",analyticsName:"design"},[$.FAf.PROTOTYPE]:{label:(0,F.t)("fullscreen.properties_panel.prototype"),tab:$.FAf.PROTOTYPE,className:ng.Mf,recordingKey:"prototypeTab",analyticsName:"prototype"},[$.FAf.INSPECT]:{label:(0,F.t)("fullscreen.properties_panel.properties"),tab:$.FAf.INSPECT,className:ng.Mf,recordingKey:"inspectTab",analyticsName:"inspect"},[$.FAf.COMMENT]:{label:(0,F.t)("fullscreen.properties_panel.comment"),tab:$.FAf.COMMENT,className:ng.Mf,recordingKey:"commentTab",analyticsName:"comment"},[$.FAf.EXPORT]:{label:(0,F.t)("fullscreen.properties_panel.export"),tab:$.FAf.EXPORT,className:ng.Mf,recordingKey:"exportTab",analyticsName:"export"},[$.FAf.SLIDE]:{label:(0,F.t)("fullscreen.properties_panel.design"),tab:$.FAf.SLIDE,className:ng.Mf,recordingKey:"designTab",analyticsName:"design"},[$.FAf.SLIDE_ANIMATION]:{label:"",tab:$.FAf.SLIDE_ANIMATION,className:ng.Mf,recordingKey:"prototypeTab",analyticsName:"prototype"},[$.FAf.SITE]:{label:(0,F.t)("fullscreen.properties_panel.design"),tab:$.FAf.SITE,className:ng.Mf,recordingKey:"sitesTab",analyticsName:"sites"}})[e];class u8 extends _.o6{constructor(){super(...arguments),this.onMouseDown=_.cZ(this,"mousedown",()=>{if(!this.props.active){let e=u3(this.props.tab).analyticsName;(0,p.sx)("properties-panel-select-tab",{tab:e}),this.props.currentTool===$.NLJ.SCALE&&this.props.tab===$.FAf.PROTOTYPE&&X.Y5.triggerAction("set-tool-default"),(0,q.NT)(this.props.tab),this.props.topLevelMode===et.lyf.PREVIEW&&(this.props.tab===$.FAf.COMMENT?X.Y5.triggerAction("set-tool-comments"):X.Y5.triggerAction("set-tool-default"))}})}render(){return s.createElement("div",{className:this.props.className,onMouseDown:this.onMouseDown,"data-label":this.props.label},this.props.label)}}u8.displayName="PropertiesTab";class u6 extends _.o6{constructor(){super(...arguments),this.state={panelState:nh.GR.DEFAULT_EXPANDED,width:dh.iP},this.onMouseDown=_.cZ(this,"mousedown",()=>{X.Y5.deselectProperty(),this.props.dispatch(D.XE()),this.props.dispatch((0,H.vq)()),this.props.dispatch(B.sw()),this.props.dispatch(D.Uv())}),this.onContextMenu=e=>{let t=e.target;if(t){let n=t.tagName,l=t.type;n&&"INPUT"===n.toUpperCase()&&l&&"TEXT"===l.toUpperCase()||t.isContentEditable||e.preventDefault()}},this.showCreateStyleModal=({styleType:e,inheritStyleKeyField:t,nodeId:n,rowLeft:l,rowTop:r})=>{this.props.dispatch(B.sw()),this.props.dispatch(B.Zs({rowLeft:l,rowTop:r,styleType:e,inheritStyleKeyField:t,nodeId:n}))},this._stylePreviewThumbnail=new ea.H4(()=>{var e;let t=(0,en.IW)(this.props.stylePreviewShown),n=null==(e=this.props.openFile)?void 0:e.canEdit,l=!!t||!n||this.props.appModel.isReadOnly;return s.createElement(ny,{key:"style-preview-panel",selectedStyleProperties:this.props.selectedStyleProperties,isInspectPanel:this.props.propertiesPanelTab===$.FAf.INSPECT,stylePreviewShown:this.props.stylePreviewShown,externalStyle:t,isRenaming:this.props.library.isRenamingSelectedStyle,viewOnly:l,dispatch:this.props.dispatch,recordingKey:_.Pt(this.props,"stylePreviewPanel")})}),this.onCloseStylePreviewModal=()=>{$.glU.selectStyle(A.n3.INVALID,A.IA.INVALID),this.props.dispatch(B.sw()),this.props.dispatch((0,V.B)())},this.renderStylePreviewModal=()=>{var e;if(!this.props.stylePreviewShown.isShown||this.props.propertiesPanelTab!==$.FAf.DESIGN&&this.props.propertiesPanelTab!==$.FAf.INSPECT)return;let t=this.props.selectedStyleProperties,n=new N.Mi(this.props.stylePreviewShown.rowLeft-nh.tA,this.props.stylePreviewShown.rowTop);if(this.props.stylePreviewShown.isCreating){let{styleType:e,inheritStyleKeyField:t,styleNameInputPrefix:l}=this.props.stylePreviewShown;return s.createElement(nE,{recordingKey:"createStyleModal",initialPosition:n,styleNameInputPrefix:l,styleType:e,inheritStyleKeyField:t})}{let l=!(0,Y.eE)(this.props.stylePreviewShown.style,this.props.openFile),r=l||!(null==(e=this.props.openFile)?void 0:e.canEdit)||this.props.appModel.topLevelMode===et.lyf.BRANCHING,a=(0,K.dI)(t.guid);if(!(a&&this.props.library.local.styles[a]&&!this.props.library.local.styles[a].is_soft_deleted)&&!l||!this.props.selectedStyleProperties.guid)return;return s.createElement(nm.zK.Provider,{value:nm.zM.EDIT_STYLE},s.createElement(e6.vx,{title:this.getStylePreviewThumbnailTitle(t.styleType,r),key:(0,en.Gj)(this.props.stylePreviewShown.style),headerSize:"small",initialWidth:nh.tA,initialPosition:n,onClose:this.onCloseStylePreviewModal,recordingKey:_.Pt(this.props,"modal"),dragHeaderOnly:!0},s.createElement("div",{className:ng.FY},this._stylePreviewThumbnail.render(!0),this._externalStyleLink.render(l))))}},this._externalStyleLink=new ea.H4(()=>s.createElement(aR,{stylePreviewShown:this.props.stylePreviewShown,user:this.props.user})),this._framePresetPanel=new ea.H4(()=>s.createElement(aF,{key:"frame-presets",dispatch:this.props.dispatch,expandedFramePresetType:this.props.expandedFramePresetType,recordingKey:"framePresetPanel"})),this._pencilToolPanel=new ea.H4(()=>s.createElement(du,{key:"pencilToolPanel",id:"pencilToolPanel",openFile:this.props.openFile,recordingKey:"pencilToolPanel"})),this._canvasBackgroundPanel=new ea.H4(()=>{let e=this.props.selectionProperties;return s.createElement(r1,{key:"canvas-background",backgroundColor:e.backgroundColor,backgroundEnabled:e.backgroundEnabled,backgroundOpacity:e.backgroundOpacity,exportBackgroundDisabled:e.exportBackgroundDisabled,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,modalShown:this.props.modalShown,editModeType:this.props.appModel.activeCanvasEditModeType,pickerShown:this.props.pickerShown,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,library:this.props.library,openFile:this.props.openFile,recordingKey:"canvasBackgroundPanel",currentSelectedProperty:this.props.appModel.currentSelectedProperty,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,defaultColor:ee.rC,sceneGraphSelection:this.props.sceneGraphSelection,selectedStyleProperties:this.props.selectedStyleProperties,hasExports:!!e.exportSettings&&(0,J._W)(e.exportSettings,[]).length>0})}),this._viewOnlyFlowsPanel=new ea.H4(()=>s.createElement(nb.A,{viewOnly:!0})),this._localStylesPanel=new ea.H4(e=>s.createElement(lf,{key:e,scrollContainer:this.scrollContainer,recordingKey:e})),this._transformPanel=new ea.H4(()=>{var e;return s.createElement(s6,{key:"transform",propertiesPanelState:this.state.panelState,recordingKey:"transformPanel",pickerShown:this.props.pickerShown,openFileKey:(null==(e=this.props.openFile)?void 0:e.key)||null,canEditConstraints:this.props.isUI3&&this.shouldShowConstraintsResizingPanel()})}),this._vectorPanel=new ea.H4(()=>{let e=this.selectionProperties(),t=this.props.isUI3;return s.createElement(ci,{key:"vector-transform",x:e.x,y:e.y,cornerRadius:e.cornerRadius,handleMirroring:e.handleMirroring,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:"vectorTransformPanel",isUI3:t})}),this._liveObjectPanel=new ea.H4(()=>s.createElement(c1.cI,{key:"live-object",recordingKey:"liveObjectPanel",pasteSources:this.props.selectionProperties.pasteSources})),this._instancePanel=new ea.H4(()=>{let e=this.props.selectionProperties;return s.createElement(aj,{key:"instance",symbolGUIDsBackingSelection:e.symbolGUIDsBackingSelection,resettableInstanceOverridesMap:e.resettableInstanceOverrides,stateGroupSelectionInfo:e.stateGroupSelectionInfo,recordingKey:"instancePanel"})}),this._constraintsResizingPanel=new ea.H4(()=>{var e;return s.createElement(aE,{key:"constraints",openFileKey:(null==(e=this.props.openFile)?void 0:e.key)||null,dropdownShown:this.props.dropdownShown,recordingKey:"constraintsPanel"})}),this._interactionsPanel=new ea.H4(()=>s.createElement(dg.y7,{key:"interactions"})),this._stackPanel=new ea.H4(()=>s.createElement(p9,{key:"stack",onlyShowResizingRow:this.props.isUI3&&this.state.panelState===nh.GR.DEFAULT_SIMPLIFIED,onlyStacksSelected:this.props.shownPanels[$.ibQ.STACK_ITEM],recordingKey:"stackPanel"})),this._removeGroupFillAndStrokePanel=new ea.H4(()=>s.createElement(dl,{key:"remove-group-fill-stroke"})),this._maskPanel=new ea.H4(()=>{let e=this.selectionProperties();return s.createElement(c3,{key:"mask",maskType:e.maskType,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:"maskPanel"})}),this._componentPropertiesPanel=new ea.H4(()=>s.createElement(no,{key:"componentProperties",recordingKey:"propsPanel"})),this._componentPanel=new ea.H4(()=>s.createElement(tF,{key:"component",recordingKey:"componentPanel"})),this._templatePropertiesPanel=new ea.H4(()=>s.createElement(nS,{key:"templateProperties",recordingKey:"templatePropsPanel"})),this._templatePanel=new ea.H4(()=>s.createElement(uf,{key:"template"})),this._gridsPanel=new ea.H4(()=>s.createElement(nh.tC,{key:"grids",selectionProperties:this.props.selectionProperties})),this._layerPanel=new ea.H4(()=>{let e=this.props.selectionProperties;return this.props.isUI3?s.createElement(c0,{recordingKey:"appearancePanel"}):s.createElement(cU,{key:"layer",blendMode:e.blendMode,opacity:e.opacity,visible:e.visible,variableConsumptionInfo:e.variableConsumptionInfo,recordingKey:"layerPanel"})}),this._localVariablesPanel=new ea.H4(()=>s.createElement(lk,{key:"local-variables"})),this._typePanel=new ea.H4(()=>s.createElement(nh.gc,{key:"type",selectionProperties:this.props.selectionProperties})),this._selectionPaints=new ea.H4(()=>s.createElement(c8.UA,{key:"selection-paints",selectionPaints:this.props.selectionPaints,recordingKey:"selectionPaintsPanel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,sceneGraphSelection:this.props.sceneGraphSelection,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,pickerShown:this.props.pickerShown,stylePickerListLayout:this.props.stylePickerListLayout,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:ee.rC,library:this.props.library,openFile:this.props.openFile,isUI3:this.props.isUI3})),this._fillPanel=new ea.H4(()=>{let e;return this.props.selectionProperties.numSelectedByType&&(e=(0,lw.aZ)($.rrT.FILL,this.props.selectionProperties.numSelectedByType)),s.createElement(nh.B8,{key:"fill",selectionProperties:this.props.selectionProperties,variableScopes:e})}),this._strokePanel=new ea.H4(()=>{let e=this.props.selectionProperties;return s.createElement(c8.$p,{key:"stroke",stylePickerShown:this.props.stylePickerShown,strokePanelMode:this.props.strokePanelMode,strokePanelTerminalPointCount:this.props.strokePanelTerminalPointCount,strokePaints:e.strokePaints,borderSharedWeight:e.borderSharedWeight,strokeWeight:e.strokeWeight,strokeAlign:e.strokeAlign,strokeCap:e.strokeCap,strokeJoin:e.strokeJoin,miterLimitAngle:e.miterLimitAngle,connectorLineStyle:e.connectorLineStyle,leftEndCap:e.leftEndCap,rightEndCap:e.rightEndCap,maxStrokeWeight:e.maxStrokeWeight,dashPattern:e.dashPattern,dashCap:e.dashCap,terminalCap:e.terminalCap,arcRadius:e.arcRadius,arcSweep:e.arcSweep,numSelectedByType:e.numSelectedByType,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,modalShown:this.props.modalShown,pickerShown:this.props.pickerShown,pickerInStyleCreationShown:this.props.pickerInStyleCreationShown,stylePickerListLayout:this.props.stylePickerListLayout,currentSelectedProperty:this.props.appModel.currentSelectedProperty,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:ee.Em,inheritStyleKey:e.inheritFillStyleKeyForStroke||null,inheritStyleID:e.inheritFillStyleIDForStroke||null,library:this.props.library,sceneGraphSelection:this.props.sceneGraphSelection,selectedStyleProperties:this.props.selectedStyleProperties,openFile:this.props.openFile,recordingKey:"strokePanel",isPanelBodyCollapsedAtom:null})}),this._effectsPanel=new ea.H4(()=>s.createElement(nh.w5,{key:"effects",selectionProperties:this.props.selectionProperties})),this._slidesShadowPanel=new ea.H4(()=>s.createElement(nC,{recordingKey:"slidesShadowPanel"})),this._exportPanelInspectTab=new ea.H4(()=>{let e=this.selectionProperties(),t=this.props.openFile,n=(0,ei.Nf)(this.props.appModel);return t&&(0,el.Pe)(t)?s.createElement(b.p,{name:"export_panel_inspect_tab"},s.createElement(eK.Zk,{className:ng.OT},s.createElement(eK.xw,{className:ng.GI},s.createElement(M.B,{className:ng.RU,svg:u2.A}),s.createElement(F.Tx,{id:"fullscreen.properties_panel.export_disabled"})),s.createElement(eK.JU,{className:ng.Nw},s.createElement(F.Tx,{id:"fullscreen.properties_panel.this_file_s_editor_has_disabled_exporting_copying_and_sharing.seat_rename"})))):s.createElement(aT.LI,{key:"export",title:this.isReadOnlyNonInspect()?(0,F.t)("fullscreen.properties_panel.export"):(0,F.t)("fullscreen.properties_panel.presets"),standalone:!0,openFile:t,singleNodeName:aT.LI.singleNodeNameFrom(e),numSelected:e.numSelected,exportSettings:e.exportSettings,sceneGraphSelection:this.props.sceneGraphSelection,currentPage:n,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,currentSelectedProperty:this.props.appModel.currentSelectedProperty,pickerShown:this.props.pickerShown,recordingKey:"exportsPanel",saveAsState:this.props.saveAsState,panelWidth:dh.iP})}),this._exportPanel=new ea.H4(()=>{let e=this.props.selectionProperties,t=(0,ei.Nf)(this.props.appModel);return s.createElement(aT.LI,{key:"export",openFile:this.props.openFile,singleNodeName:aT.LI.singleNodeNameFrom(e),numSelected:e.numSelected,exportSettings:e.exportSettings,sceneGraphSelection:this.props.sceneGraphSelection,currentPage:t,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,currentSelectedProperty:this.props.appModel.currentSelectedProperty,pickerShown:this.props.pickerShown,recordingKey:"exportsPanel",saveAsState:this.props.saveAsState,panelWidth:dh.iP})}),this._pluginPanel=new ea.H4(()=>{var e,t;let n=this.selectionProperties();return s.createElement(dm.Q,{key:"plugin",pluginRelaunchData:n.pluginRelaunchData,localPlugins:this.props.localPlugins,publishedPlugins:this.props.publishedPlugins,allSavedPlugins:this.props.allSavedPlugins.plugins,orgEntity:(0,W.Jl)(this.props),dispatch:this.props.dispatch,openFileKey:(null==(e=this.props.openFile)?void 0:e.key)||null,editorType:(null==(t=this.props.openFile)?void 0:t.editorType)||null,numSelected:n.numSelected??0,recordingKey:"pluginPanel"})}),this._prototypePanel=new ea.H4(()=>s.createElement(dE.Z0,{key:"prototype",dispatch:this.props.dispatch,selectionProperties:this.selectionProperties(),appModel:this.props.appModel,pickerShown:this.props.pickerShown,dropdownShown:this.props.dropdownShown,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,sceneGraphSelection:this.props.sceneGraphSelection,editModeType:this.props.appModel.activeCanvasEditModeType,library:this.props.library,openFile:this.props.openFile,userFlags:this.props.userFlags,recordingKey:"prototypePanel"})),this._scalePanel=new ea.H4(()=>(0,m.kc)().ce_scale_tool_v2?s.createElement(d0,{key:"scale",recordingKey:"scalePanel"}):(0,m.kc)().ce_multi_edit?s.createElement(dj,{key:"scale",recordingKey:"scalePanel"}):s.createElement(dZ,{key:"scale",recordingKey:"scalePanel"})),this._slidesFillPanel=new ea.H4(()=>s.createElement(nC,{recordingKey:"slidesFillPanel"})),this._slidesTypePanel=new ea.H4(()=>s.createElement(nC,{recordingKey:"slidesTypePanel"})),this._slidesBorderPanel=new ea.H4(()=>s.createElement(nC,{recordingKey:"slidesBorderPanel"})),this._slidesCornerPanel=new ea.H4(()=>s.createElement(nC,{recordingKey:"slidesCornerPanel"})),this._slidesAnimationPanel=new ea.H4(()=>s.createElement(nC,{selection:this.props.sceneGraphSelection})),this._slidesOverlayPanel=new ea.H4(()=>s.createElement(nC,null)),this._slidesBlurPanel=new ea.H4(()=>s.createElement(nC,null)),this._slidesSelectionPaints=new ea.H4(()=>s.createElement(c8.UA,{key:"selection-paints",selectionPaints:this.props.selectionPaints,recordingKey:"selectionPaintsPanel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,sceneGraphSelection:this.props.sceneGraphSelection,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,pickerShown:this.props.pickerShown,stylePickerListLayout:this.props.stylePickerListLayout,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:ee.rC,library:this.props.library,openFile:this.props.openFile,isUI3:this.props.isUI3,customColorPicker:nC})),this._sitesPositionPanel=new ea.H4(()=>s.createElement(nw.Qc,{recordingKey:"positionPanel"})),this._sitesLinkPanel=new ea.H4(()=>s.createElement(nw.rC,{key:"link"})),this._sitesPageMetadataPanel=new ea.H4(()=>s.createElement(nw.li,{key:"pageMetadata"})),this._sitesCanvasOverlayPanel=new ea.H4(()=>s.createElement(nw.rf,{key:"overlayPreview"})),this._sitesAccessibilityPanel=new ea.H4(()=>s.createElement(nw.l,{key:"accessibility"})),this.isStyleSelected=()=>this.props.selectedStyleProperties&&!!this.props.selectedStyleProperties.guid,this.isLiveObjectSelected=()=>(this.props.selectionProperties.pasteSources||[]).length>0,this.selectionProperties=()=>this.isStyleSelected()?this.props.selectedStyleProperties:this.props.selectionProperties,this.shownTransformControls=()=>this.isStyleSelected()?0:0|this.props.shownTransformControls,this.shouldShowAlignControls=()=>(0,dh.d6)(this.props.shownPanels),this.shouldRenderUI3ToolbarItems=()=>this.props.isUI3,this.shouldShowConstraintsResizingPanel=()=>{let e=this.props.shownPanels;return!this.scaleShouldHideOtherPanels()&&e[$.ibQ.CONSTRAINTS_ITEM]},this.shouldShowInteractionsPanel=()=>!!this.props.selectionProperties.isValidPrototypingSourceSelected,this.isStateSelected=()=>{var e;return(null==(e=this.props.selectionProperties.stateGroupSelectionInfo)?void 0:e.mode)===$.iCO.STATE},this.shouldShowLocalVariablesPanel=()=>{let e=(0,nk.P2)(this.props.selectedView),t=this.props.shownPanels;return!this.scaleShouldHideOtherPanels()&&!this.props.appModel.isReadOnly&&0===Object.keys(this.props.sceneGraphSelection).length&&!t[$.ibQ.FRAME_PRESETS]&&(!e||(0,m.kc)().piper_org_templates)},this.shouldShowSelectionPaintsPanel=()=>{let e=this.props.shownPanels;return(0,dh.fI)(e,this.scaleShouldHideOtherPanels(),this.props.selectionPaints)},this.shouldShowSlidesSelectionPaintsPanel=()=>{let{numSelected:e,numSelectedByType:t}=this.props.selectionProperties;return!(1===e&&t&&t.SLIDE)&&this.shouldShowSelectionPaintsPanel()},this.shouldShowStackPanel=()=>{let e=this.props.shownPanels;return(0,dh.IY)(e,this.scaleShouldHideOtherPanels(),this.props.selectionProperties,this.isStyleSelected()?this.props.selectedStyleProperties:void 0,this.props.hasMergedDimensionsAndAutolayout)},this.scaleShouldHideOtherPanels=()=>this.props.shownPanels[$.ibQ.SCALE_ITEM]&&!(0,m.kc)().ee_scale_tool_show_all_panels,this.renderSimplifiedDesignPanels=()=>{let e=this.props.shownPanels;if((0,E.Im)(e)||Object.keys(e).every(t=>!e[parseInt(t)])){let e=Error("Rendering simplified design tab with no shownPropertiesPanels");(0,f.$D)(y.e.FIGJAM_CORE,e)}return s.createElement(x.i,null,0===Object.keys(this.props.sceneGraphSelection).length&&s.createElement(rM.Mw,{panelName:rM.ON.DESIGN}),!this.props.isUI3&&this.shouldShowAlignControls()&&s.createElement(rw,{recordingKey:"alignPanel"}),this.shouldRenderUI3ToolbarItems()&&s.createElement(uY,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel()}),this._transformPanel.render(!0),this.props.isUI3&&this._stackPanel.render(this.shouldShowStackPanel()),this._scalePanel.render(e[$.ibQ.SCALE_ITEM]),this._instancePanel.render(!this.scaleShouldHideOtherPanels()&&!this.isLiveObjectSelected()),this._constraintsResizingPanel.render(!this.props.isUI3&&this.shouldShowConstraintsResizingPanel()),(0,er.Zd)()&&this._interactionsPanel.render(this.shouldShowInteractionsPanel()),this._layerPanel.render(e[$.ibQ.LAYER_ITEM]),this.state.panelState===nh.GR.DEFAULT_SIMPLIFIED&&s.createElement(uy,{onExpand:()=>{this.setState({panelState:nh.GR.OVERRIDDEN_EXPANDED})}}),this.state.panelState===nh.GR.OVERRIDDEN_EXPANDED&&s.createElement(s.Fragment,null,s.createElement(aw,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render(e[$.ibQ.TEMPLATE_ITEM]),this._componentPanel.render(e[$.ibQ.COMPONENT_ITEM]),this._vectorPanel.render(e[$.ibQ.VECTOR_ITEM]),!this.props.isUI3&&this._stackPanel.render(this.shouldShowStackPanel()),this._maskPanel.render(e[$.ibQ.MASK_ITEM]),!this.props.isUI3&&this._gridsPanel.render(e[$.ibQ.GRIDS_ITEM]),this._typePanel.render(e[$.ibQ.TYPE_ITEM]),this._canvasBackgroundPanel.render(e[$.ibQ.CANVAS_ITEM]),this._removeGroupFillAndStrokePanel.render(e[$.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]),this.props.isUI3&&this._selectionPaints.render(this.shouldShowSelectionPaintsPanel()),this._fillPanel.render(e[$.ibQ.FILL_ITEM]),this._strokePanel.render(e[$.ibQ.STROKE_ITEM]),!this.props.isUI3&&this._selectionPaints.render(this.shouldShowSelectionPaintsPanel()),(0,er.Zd)()&&this._prototypePanel.render(!0),this._effectsPanel.render(e[$.ibQ.EFFECTS_ITEM]),this.props.isUI3&&this._gridsPanel.render(e[$.ibQ.GRIDS_ITEM]),this.props.isUI3&&this.props.openFile&&!(0,el.Pe)(this.props.openFile)&&this._exportPanel.render(e[$.ibQ.EXPORT_ITEM]),this._pluginPanel.render(!this.scaleShouldHideOtherPanels())),!this.props.isUI3&&this.props.openFile&&!(0,el.Pe)(this.props.openFile)&&this._exportPanel.render(e[$.ibQ.EXPORT_ITEM]),this._pluginPanel.render(!this.scaleShouldHideOtherPanels()))},this.renderDesignPanels=()=>{let e=this.props.shownPanels,t=(0,nk.P2)(this.props.selectedView);((0,E.Im)(e)||Object.keys(e).every(t=>!e[parseInt(t)]))&&!window.figmaPerfTesting&&!(0,v.Lg)()&&!(0,v.nl)()&&(0,f.x1)("PropertiesPanel","Rendering design tab with no shownPropertiesPanels",{isEmpty:(0,E.Im)(e),shouldRenderInspectTab:this.shouldRenderInspectTab()});let n=!this.scaleShouldHideOtherPanels()&&0===Object.keys(this.props.sceneGraphSelection).length&&!e[$.ibQ.FRAME_PRESETS]&&(!t||(0,m.kc)().piper_org_templates);return e[$.ibQ.FRAME_PRESETS]?s.createElement(x.i,null,this._framePresetPanel.render(!0)):e[$.ibQ.PENCIL_TOOL]?s.createElement(x.i,null,this._pencilToolPanel.render(!0)):s.createElement(x.i,null,0===Object.keys(this.props.sceneGraphSelection).length&&s.createElement(rM.Mw,{panelName:rM.ON.DESIGN}),!this.props.isUI3&&this.shouldShowAlignControls()&&s.createElement(rw,{recordingKey:"alignPanel"}),this.shouldRenderUI3ToolbarItems()&&s.createElement(uY,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel()}),this.props.isUI3&&this._componentPropertiesPanel.render(this.shouldShowComponentPropertiesPanel()),this.props.isUI3&&this._componentPanel.render(e[$.ibQ.COMPONENT_ITEM]),this.props.isUI3&&this._instancePanel.render(this.shouldShowInstancePanel()),this._transformPanel.render(this.props.isUI3&&this.shouldShowAlignControls()||e[$.ibQ.TRANSFORM_ITEM]),this._scalePanel.render(e[$.ibQ.SCALE_ITEM]),s.createElement(aw,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render(e[$.ibQ.TEMPLATE_ITEM]),this._templatePropertiesPanel.render(e[$.ibQ.TEMPLATE_ITEM]),!this.props.isUI3&&this._componentPanel.render(e[$.ibQ.COMPONENT_ITEM]),!this.props.isUI3&&this._componentPropertiesPanel.render(e[$.ibQ.COMPONENT_ITEM]&&!this.isStateSelected()),this._liveObjectPanel.render(this.isLiveObjectSelected()),!this.props.isUI3&&this._instancePanel.render(this.shouldShowInstancePanel()),this._vectorPanel.render(e[$.ibQ.VECTOR_ITEM]),this._stackPanel.render(this.shouldShowStackPanel()),this._constraintsResizingPanel.render(!this.props.isUI3&&this.shouldShowConstraintsResizingPanel()),this._maskPanel.render(e[$.ibQ.MASK_ITEM]),!this.props.isUI3&&this._gridsPanel.render(e[$.ibQ.GRIDS_ITEM]),(0,er.Zd)()&&this._interactionsPanel.render(this.shouldShowInteractionsPanel()),this._layerPanel.render(e[$.ibQ.LAYER_ITEM]),this._typePanel.render(e[$.ibQ.TYPE_ITEM]),this._canvasBackgroundPanel.render(e[$.ibQ.CANVAS_ITEM]),this._removeGroupFillAndStrokePanel.render(e[$.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]),this.props.isUI3&&this._selectionPaints.render(this.shouldShowSelectionPaintsPanel()),this._fillPanel.render(e[$.ibQ.FILL_ITEM]),this._strokePanel.render(e[$.ibQ.STROKE_ITEM]),!this.props.isUI3&&this._selectionPaints.render(this.shouldShowSelectionPaintsPanel()),(0,er.Zd)()&&this._prototypePanel.render(!0),this._effectsPanel.render(e[$.ibQ.EFFECTS_ITEM]),this._localVariablesPanel.render(this.shouldShowLocalVariablesPanel()),this._localStylesPanel.render(n,void 0,"local-styles"),this.props.isUI3&&this._gridsPanel.render(e[$.ibQ.GRIDS_ITEM]),this.props.openFile&&!(0,el.Pe)(this.props.openFile)&&this._exportPanel.render(e[$.ibQ.EXPORT_ITEM]),this._pluginPanel.render(!this.scaleShouldHideOtherPanels()))},this.renderSlidesPanels=()=>{let e=this.props.shownPanels;return e[$.ibQ.PENCIL_TOOL]?s.createElement(x.i,null,this._pencilToolPanel.render(!0)):s.createElement(x.i,null,this._slidesTypePanel.render(e[$.ibQ.TYPE_ITEM]),this._slidesFillPanel.render(e[$.ibQ.FILL_ITEM]),this._slidesOverlayPanel.render(e[$.ibQ.IMAGE_ITEM]),this._slidesBlurPanel.render(e[$.ibQ.IMAGE_ITEM]),this._slidesBorderPanel.render(e[$.ibQ.STROKE_ITEM]),this._slidesCornerPanel.render(e[$.ibQ.STROKE_ITEM]),this._slidesSelectionPaints.render(this.shouldShowSlidesSelectionPaintsPanel()),this._slidesShadowPanel.render(e[$.ibQ.EFFECTS_ITEM]))},this.renderSlidesAnimationPanels=()=>{let e=this.props.shownPanels;return s.createElement(x.i,null,this._slidesAnimationPanel.render(e[$.ibQ.SLIDES_ANIMATION]))},this.renderSitesPanels=()=>{let e=this.props.shownPanels;return s.createElement(x.i,{style:{paddingTop:8}},this.shouldShowAlignControls()&&s.createElement(rw,{recordingKey:"alignPanel"}),this.shouldRenderUI3ToolbarItems()&&s.createElement(uY,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel()}),this._sitesCanvasOverlayPanel.render(this.shouldShowSitesCanvasOverlayPanel()),this._sitesPositionPanel.render(this.shouldShowSitesPositionPanel()),this._transformPanel.render(e[$.ibQ.TRANSFORM_ITEM]),this._scalePanel.render(e[$.ibQ.SCALE_ITEM]),this._instancePanel.render(!this.scaleShouldHideOtherPanels()&&!this.isLiveObjectSelected()),this._constraintsResizingPanel.render(!this.props.isUI3&&this.shouldShowConstraintsResizingPanel()),this._sitesLinkPanel.render(this.shouldShowSitesLinkPanel()),(0,er.Zd)()&&this._interactionsPanel.render(this.shouldShowInteractionsPanel()),this._layerPanel.render(e[$.ibQ.LAYER_ITEM]),s.createElement(s.Fragment,null,s.createElement(aw,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render(e[$.ibQ.TEMPLATE_ITEM]),this._componentPanel.render(e[$.ibQ.COMPONENT_ITEM]),this._vectorPanel.render(e[$.ibQ.VECTOR_ITEM]),this._stackPanel.render(this.shouldShowStackPanel()),this._maskPanel.render(e[$.ibQ.MASK_ITEM]),this._gridsPanel.render(e[$.ibQ.GRIDS_ITEM]),this._typePanel.render(e[$.ibQ.TYPE_ITEM]),this._canvasBackgroundPanel.render(e[$.ibQ.CANVAS_ITEM]),this._removeGroupFillAndStrokePanel.render(e[$.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]),this._fillPanel.render(e[$.ibQ.FILL_ITEM]),this._strokePanel.render(e[$.ibQ.STROKE_ITEM]),this._selectionPaints.render(this.shouldShowSelectionPaintsPanel()),(0,er.Zd)()&&this._prototypePanel.render(!0),this._effectsPanel.render(e[$.ibQ.EFFECTS_ITEM]),this._pluginPanel.render(!this.scaleShouldHideOtherPanels())),this._sitesAccessibilityPanel.render(this.shouldShowSitesAccessibilityPanel()),this._sitesPageMetadataPanel.render(this.shouldShowSitesPageMetadataPanel()),this.props.openFile&&!(0,el.Pe)(this.props.openFile)&&this._exportPanel.render(e[$.ibQ.EXPORT_ITEM]),this._pluginPanel.render(!this.scaleShouldHideOtherPanels()))},this.renderInspectionPanels=()=>{var e,t;let n=null==(e=this.props.openFile)?void 0:e.canEdit,l=this.props.selectionProperties,r=!l.prototypeStartingPointsInfo||(null==(t=l.prototypeStartingPointsInfo)?void 0:t.length)>0,a=0===Object.keys(this.props.sceneGraphSelection).length,i=a&&!n&&r;return s.createElement(Z.fu,{name:eo.e0.CODE_PANEL},s.createElement(x.i,null,s.createElement(rM.Mw,{panelName:rM.ON.INSPECT}),s.createElement(r7.U,{key:"inspection-properties-panel",recordingKey:"inspectionPanel"}),this._viewOnlyFlowsPanel.render(i),this._localStylesPanel.render(a,void 0,"code-local-styles")))},this.renderPrototypePanels=()=>{let e=this.props.shownPanels;return s.createElement(x.i,null,this._framePresetPanel.render(e[$.ibQ.FRAME_PRESETS]),this._pencilToolPanel.render(e[$.ibQ.PENCIL_TOOL]),this._prototypePanel.render(!e[$.ibQ.FRAME_PRESETS]&&!e[$.ibQ.PENCIL_TOOL]))},this.shouldRenderInspectTab=()=>this.props.appModel.showUi&&!!this.props.user&&this.props.appModel.isReadOnly,this.onKeyDown=e=>{this.props.selectedStyleProperties&&(0,K.fn)(this.props.selectedStyleProperties.guid)&&(e.event.keyCode===h.Uz.ESCAPE?(e.accept(),$.glU.selectStyle(A.n3.INVALID,A.IA.INVALID)):e.event.keyCode===h.Uz.F&&$.glU.selectStyle(A.n3.INVALID,A.IA.INVALID))},this.scrollContainer=null,this.refMainScrollContainer=e=>{this.scrollContainer=e},this.isReadOnlyNonInspect=()=>this.props.appModel.isReadOnly&&!(0,n_.$A)(this.props.selectedView),this.renderPanelContent=()=>{let e=this.props.appModel.topLevelMode,t=this.props.propertiesPanelTab,n=this.props.appModel.isReadOnly,l=e!==et.lyf.PREVIEW&&(e!==et.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==et.lyf.DEV_HANDOFF&&t===$.FAf.DESIGN,r=e!==et.lyf.PREVIEW&&(e!==et.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==et.lyf.DEV_HANDOFF&&t===$.FAf.SLIDE,a=e!==et.lyf.PREVIEW&&(e!==et.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==et.lyf.DEV_HANDOFF&&t===$.FAf.SLIDE_ANIMATION&&(0,m.kc)().piper_transitions,i=e===et.lyf.LAYOUT&&!n&&t===$.FAf.SITE,o=e!==et.lyf.PREVIEW&&e!==et.lyf.BRANCHING&&t===$.FAf.PROTOTYPE&&!(0,er.Zd)(),c=e===et.lyf.PREVIEW&&!this.props.userStateLoaded||t===$.FAf.INSPECT;return l||r||a||i||o||c||t===$.FAf.EXPORT||t===$.FAf.COMMENT||(0,f.x1)("PropertiesPanel","Rendering empty properties panels",{topLevelMode:et.lyf[e],tab:$.FAf[t],shouldRenderInspectTab:this.shouldRenderInspectTab()}),s.createElement(s.Fragment,null,l&&(this.state.panelState===nh.GR.DEFAULT_EXPANDED?this.renderDesignPanels():this.renderSimplifiedDesignPanels()),r&&this.renderSlidesPanels(),a&&this.renderSlidesAnimationPanels(),i&&this.renderSitesPanels(),o&&this.renderPrototypePanels(),c&&this.renderInspectionPanels(),t===$.FAf.EXPORT&&this._exportPanelInspectTab.render(!0),t===$.FAf.COMMENT&&s.createElement(this.props.commentsPanel,null))},this.onResize=e=>{e=(0,g.qE)(e,u4+1,500),this.setState({width:e}),(0,Q.UK)().propertiesPanelSplitPosition.set(e)},this.getRightPanelAnimation=(e,t)=>{if(this.props.isUI3)return;let n={ease:"easeInOut",duration:.2,delay:this.props.isCollapsed?void 0:.05};return this.props.isCollapsed?{initial:{left:`calc(${e}px + ${t})`},animate:{left:`calc(${e}px + ${t})`,display:"block",transitionEnd:{display:"none"}},transition:n}:{initial:{left:0},transition:n}}}componentDidUpdate(e,t){super.componentDidUpdate(e,t);let n=e.selectionProperties.productComponentGUIDBackingInstances,l=this.props.selectionProperties.productComponentGUIDBackingInstances;if(n!==l){let e=nh.GR.DEFAULT_EXPANDED;if(l){let t=this.props.sceneGraph.get(l);(null==t?void 0:t.simplifyInstancePanels)&&(e=nh.GR.DEFAULT_SIMPLIFIED)}this.setState({panelState:e})}}getStylePreviewThumbnailTitle(e,t){if(t)switch(e){case"FILL":return(0,F.t)("design_systems.styles.view_color_style");case"TEXT":return(0,F.t)("design_systems.styles.view_text_style");case"EFFECT":return(0,F.t)("design_systems.styles.view_effect_style");case"GRID":return(0,F.t)("design_systems.styles.view_grid_style");default:return(0,F.t)("design_systems.styles.view_style")}else switch(e){case"FILL":return(0,F.t)("design_systems.styles.edit_color_style");case"TEXT":return(0,F.t)("design_systems.styles.edit_text_style");case"EFFECT":return(0,F.t)("design_systems.styles.edit_effect_style");case"GRID":return(0,F.t)("design_systems.styles.edit_grid_style");default:return(0,F.t)("design_systems.styles.edit_style")}}shouldShowSitesPositionPanel(){return(0,nT.Vj)(this.props.selectedView)&&this.props.shownPanels[$.ibQ.SITES_POSITION_ITEM]}shouldShowSitesLinkPanel(){return(0,nT.Vj)(this.props.selectedView)&&this.props.shownPanels[$.ibQ.SITES_LINK_ITEM]}shouldShowSitesPageMetadataPanel(){return(0,nT.Vj)(this.props.selectedView)&&this.props.selectionProperties.nodesAreAllResponsiveSets}shouldShowSitesCanvasOverlayPanel(){return(0,nT.Vj)(this.props.selectedView)&&(0,m.kc)().internal_only_debug_tools}shouldShowSitesAccessibilityPanel(){return(0,nT.Vj)(this.props.selectedView)}renderTabsHeader(e,t,n){let l=t.find(t=>t===e),r=t.map((n,r)=>{let a=u3(n),i=a.tab===e||0===r&&void 0===l,o=a.className;return i&&(o=t.length>1?ng.yR:ng.iV),{...a,className:o,active:i,topLevelMode:this.props.appModel.topLevelMode,currentTool:this.props.appModel.currentTool}}),a=this.props.appModel.isReadOnly;return!t.length||(0,er.Zd)()&&!a||1===t.length&&!this.props.isUI3?null:s.createElement(U.j9.Consumer,null,()=>{if(n)return s.createElement("div",{className:ng.A7},s.createElement("div",{className:ng.tq},r.map((e,t)=>s.createElement(u8,{key:t,...e}))),s.createElement("div",{className:ng.Ym},s.createElement(lS.HT,{recordingKey:_.Pt(this.props,"zoomMenu")}),(0,nk.P2)(this.props.selectedView)&&s.createElement(nP.tL,null)));let t=e===$.FAf.DESIGN&&this.shouldShowAlignControls()||e===$.FAf.COMMENT?ng.yW:ng.hv;return s.createElement("div",{className:t,"data-non-interactive":!0},r.map((e,t)=>s.createElement(u8,{key:t,...e})))})}shouldShowInstancePanel(){return this.props.shownPanels[$.ibQ.INSTANCE_ITEM]&&!this.isLiveObjectSelected()}shouldShowComponentPropertiesPanel(){return this.props.shownPanels[$.ibQ.COMPONENT_ITEM]&&!this.isStateSelected()}getTabs(){let{appModel:{topLevelMode:e},selectedView:t,propertiesPanelTab:n,isUI3:l}=this.props,r=l?[$.FAf.COMMENT,$.FAf.INSPECT]:[$.FAf.COMMENT,$.FAf.INSPECT,$.FAf.EXPORT];switch(e){case et.lyf.LAYOUT:if(this.isReadOnlyNonInspect())return r;if(n===$.FAf.COMMENT)return[$.FAf.COMMENT];if((0,nT.Vj)(t))return[$.FAf.SITE];if((0,nk.P2)(t)){if((0,m.kc)().piper_transitions)return[$.FAf.SLIDE,$.FAf.SLIDE_ANIMATION];return[$.FAf.SLIDE]}return this.shouldRenderInspectTab()?[$.FAf.DESIGN,$.FAf.PROTOTYPE,$.FAf.INSPECT]:[$.FAf.DESIGN,$.FAf.PROTOTYPE];case et.lyf.PREVIEW:case et.lyf.DEV_HANDOFF:return r;case et.lyf.BRANCHING:return[$.FAf.INSPECT];default:return[$.FAf.DESIGN,$.FAf.PROTOTYPE,$.FAf.INSPECT]}}renderLoading(e){return s.createElement(nN.vL,{name:"propertiesPanel",focusOnMount:!0,handleKeyDown:this.onKeyDown},s.createElement(R.V,{className:ng.Lp},s.createElement(O.P,{ref:this.refMainScrollContainer,className:d()(ng.ux,ng.KE,z.Dm,{[ng.eu]:e}),width:dh.iP,hideScrollbar:!0,scrollingDisabled:!0},s.createElement("div",{className:ng.eh,"data-non-interactive":!0},s.createElement(nv.B,null))),this.props.stylePreviewShown.isShown&&this.renderStylePreviewModal()))}render(){var e;if(this.props.isLoading)return this.renderLoading(this.props.shouldAnimateLoadingState);let t=this.props.selectedStyleProperties&&(0,K.fn)(this.props.selectedStyleProperties.guid),n=!!(this.props.dropdownShown||(null==(e=this.props.pickerShown)?void 0:e.modal)),l=this.props.propertiesPanelTab,r=l===$.FAf.COMMENT,a=!this.isReadOnlyNonInspect(),i=(0,nk.P2)(this.props.selectedView),o=!t||!n,c=!r&&o,p=(0,G.ft)(),h=s.createElement("div",{className:r&&a&&!i?ng.By:ng.eh,onMouseDown:p?void 0:this.onMouseDown,onPointerDown:p?this.onMouseDown:void 0,"data-non-interactive":!0},s.createElement(U.j9.Consumer,null,()=>this.renderPanelContent())),g=this.props.isUI3,E=g?this.state.width:dh.iP+1,_=g?`${(0,u.jz)(nW.M$q)}px`:"var(--spacer-2)",f=this.props.appModel.topLevelMode===et.lyf.HISTORY,y=g&&this.props.isCollapsed;return s.createElement(k,{name:"properties_panel",trackingEnabled:(0,m.kc)().trackable_properties||i&&(0,m.kc)().piper,alsoTrack:()=>{let e=l===$.FAf.DESIGN?"design_view":"slide_view";return{pageId:(0,ei.Nf)(this.props.appModel),selectedNodeIds:Object.keys(this.props.sceneGraphSelection),panelMode:i?e:void 0}}},s.createElement(nN.vL,{name:"propertiesPanel",focusOnMount:!r,handleKeyDown:this.onKeyDown},s.createElement(nm.lk.Provider,{value:this.showCreateStyleModal},s.createElement(R.V,{className:d()(ng.Lp,{[ng.R]:!this.props.appModel.showUi,[ng.dn]:y}),style:{width:E}},this.props.shouldShowBackgroundGradient&&s.createElement(L.T,{side:"right"}),s.createElement(u7.X,null,s.createElement(d_.l,{className:d()(ng.ux,z.Dm,{[ng.ew]:this.props.rulersVisible}),onContextMenu:this.onContextMenu,"data-onboarding-key":"properties-panel",size:E,onResize:this.onResize,side:"left",animation:this.getRightPanelAnimation(E,_),"data-cancel-insertable-resource-drag-and-drop":!0},s.createElement("div",{className:d()(ng.KE,{[ng.Pp]:y,[ng.Pp]:y&&!this.props.inUI3CollapsedSidebarPillBackgroundLab,[ng.tM]:y&&(this.props.inUI3CollapsedSidebarPillBackgroundLab||this.props.showVoiceWidget)})},this.props.isUI3&&s.createElement(df.q,{openFile:this.props.openFile,dropdownShown:this.props.dropdownShown,multiplayer:this.props.multiplayer,user:this.props.user,isIntegration:(0,j.ck)(),selectedView:this.props.selectedView,recordingKey:this.props.recordingKey}),!y&&f&&s.createElement(nI.yU,{recordingKey:"versionHistoryView",isUI3:g}),!y&&!f&&this.renderTabsHeader(l,this.getTabs(),this.props.isUI3),!y&&!f&&(r?h:s.createElement("div",{className:ng.gq},s.createElement(O.P,{enableOverscroll:!0,key:this.props.propertiesPanelTab,ref:this.refMainScrollContainer,className:ng.jG,containerId:nh.rp,hideScrollbar:!c,onContextMenu:this.onContextMenu,scrollingDisabled:r||(t?n:!!this.props.dropdownShown)},h))),this.props.stylePreviewShown.isShown&&this.renderStylePreviewModal())))))))}}u6.displayName="PropertiesPanel"},89662:(e,t,n)=>{"use strict";n.d(t,{Di:()=>N,H7:()=>I,JQ:()=>A,Uq:()=>T,VL:()=>k,d0:()=>P});var l=n(411855),r=n(109388),a=n(188507),i=n(272078),o=n(402791),s=n(983245),c=n(639061),d=n(965528),p=n(648626),u=n(22310),m=n(487337),h=n(194646),g=n(482402),E=n(531885),_=n(731939),f=n(216953),y=n(206936),v=n(428748),b=n(836454);let S="https://static.figma.com/uploads/85018c5142c2dc9201c4cab76c1d81b85b0b6181",w="https://static.figma.com/uploads/7797fe8870261875ba0109c61c2297005d9ff6f1";function T(e){let t=l.useRef(null),[n,a]=l.useState(void 0),i=()=>{if(t.current)return t.current.scrollWidth-t.current.clientWidth},o=l.useCallback(e=>{var n;let l;l=void 0!==e?e:null==(n=t.current)?void 0:n.scrollLeft;let r=i();void 0!==l&&void 0!==r&&(l<=0?a("beginning"):l>=r?a("end"):a(void 0))},[]);return l.useEffect(()=>{let e=()=>o();return window.addEventListener("wheel",e),o(),()=>window.removeEventListener("wheel",e)},[o]),{currentViewRef:t,atScrollLimit:n,handleScroll:n=>{var l;let a=r.findDOMNode(t.current),i=null==(l=t.current)?void 0:l.scrollLeft;if(!a||void 0===i)return;"backward"===n&&0===i&&(null==e||e());let s="forward"===n?700:-700;a.scroll({left:i+s,behavior:"smooth"}),o(i+s)}}}function P(e){let t,n;return void 0===e?(t=(0,o.t)("rcs.product_and_template_picker.what_would_you_like_to_do_first"),n=(0,o.t)("rcs.product_and_template_picker.we_can_help_you_get_started_faster")):"design"===e?(t=(0,o.t)("rcs.product_and_template_picker.start_from_presets_and_templates"),n=(0,o.t)("rcs.product_and_template_picker.start_from_presets_or_templates_from_our_community")):(t=(0,o.t)("rcs.product_and_template_picker.save_time_with_ready_made_templates"),n=(0,o.t)("rcs.product_and_template_picker.start_from_templates_made_by_figma_and_our_community")),{titleText:t,subtitleText:n}}let C={design:{type:"blank",editorType:g._Y.DESIGN,svg:b.A},whiteboard:{type:"blank",editorType:g._Y.WHITEBOARD,svg:b.A},iphone:{type:"preset",framePreset:p.$W["iPhone 13 & 14"],img:{src:S,width:52,height:106},backgroundColor:"#CFE2FF"},android:{type:"preset",framePreset:p.$W["Android Large"],img:{src:S,width:52,height:106},backgroundColor:"#b6f0c6"},desktop:{type:"preset",framePreset:p.$W.Desktop,img:{src:w,width:99,height:72},backgroundColor:"#F5EAC1"},wireframe:{type:"preset",framePreset:p.$W.Wireframe,img:{src:w,width:99,height:72},backgroundColor:"#F5EAC1"}};function k(e){let t=[];return t.push(C[e]),"design"===e&&(t.push(C.iphone),t.push(C.desktop)),t}function I(e,t,n){let l=[];return e&&e.forEach(e=>{t[e]&&l.push({type:"hubFile",editorType:n,hubFile:t[e]})}),l}function N(e,t,n){if(!e)return null;let l=Object.keys(t.folders).filter(n=>t.folders[n].team_id===e.id),r="design"===n?y.sK.ADD_DESIGN_FILE:y.sK.ADD_FIGJAM_FILE;return 1===l.length&&(0,_.canCreateFile)(l[0],t,n)&&(0,y.rR)(e,{type:r})?l[0]:null}function A(){let e=(0,a.Pj)(),t=(0,a.d4)(e=>(0,E.R$)(e.fileByKey,(0,_.getPermissionsState)(e),["exp_tooltips_plus_onboarding","exp_cursor_bot_onboarding"])),n=(0,h.f)("has_tooltips_plus_no_basics_file");return l.useCallback(l=>{let r=()=>{let t=(0,y.FQ)(a),n=(0,m.xA)(a,v.ai.NEW_TAB,null,{from:v.f6.FILE_BROWSER_NUX,selectedView:a.selectedView});n.editorType=g._Y.DESIGN,n.folder_id=N(t,a,n.editorType),n.openNewFileIn=(0,i.oJ)(l)?v.ai.NEW_TAB:v.ai.SAME_TAB,n.callback=e=>{(0,u.Cu)({fileKey:e,experiment:"exp_tooltips_plus_onboarding"},"Failed to open captive file")},e.dispatch(d.uM(n))},a=e.getState();if(n)r();else if(t){if((0,i.oJ)(l)){let n=(0,f.xS)(a,{view:"fullscreen",fileKey:t,editorType:g._Y.DESIGN});e.dispatch(c.V3({url:n}))}else e.dispatch(s.$T({view:"fullscreen",fileKey:t,editorType:g._Y.DESIGN}))}else r()},[e,t,n])}},927658:(e,t,n)=>{var l=n(33132)(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});e.exports=l},727928:()=>{!function(e){var t=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],n=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,l={pattern:RegExp(n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};e.languages.dart=e.languages.extend("clike",{"class-name":[l,{pattern:RegExp(n+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:l.inside}],keyword:t,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),e.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:e.languages.dart}}},string:/[\s\S]+/}},string:void 0}),e.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),e.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":l,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})}(Prism)}}]);

//# debugId=a0a95748-ba95-58f9-9388-6afabb399b5b

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/ca62f6d142fc8990f02b716eba23db46c1a39f3e/properties_panel-c8b08cb6df45c345.min.js.map
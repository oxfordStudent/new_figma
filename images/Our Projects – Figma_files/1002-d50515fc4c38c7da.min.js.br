"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="33817324-0d40-5dc2-abb0-1a95b557eda0")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[1002],{537240:(e,t,n)=>{n.d(t,{IP:()=>i,R9:()=>l,SZ:()=>c,UD:()=>r,ZS:()=>o,hQ:()=>a,x1:()=>s,xn:()=>d});let a="figjam_onboarding_make_something--contentContainer--gVph-",o="figjam_onboarding_make_something--imageContainer--RoSk9",i="figjam_onboarding_make_something--bodyContainer--GVc2Q text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",l="figjam_onboarding_make_something--tooltipBodySmall--7yA9-",r="figjam_onboarding_make_something--buttonContainer--78iSl",c="figjam_onboarding_make_something--skipButton--pKB7N connector_modal_cta_button--button--mhvSu text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",s="figjam_onboarding_make_something--shiftSkipButtonAboveDlt---sQ7k",d="figjam_onboarding_make_something--standaloneModal--Ksh8z"},526518:(e,t,n)=>{n.d(t,{H:()=>a});let a="0.5s"},781374:(e,t,n)=>{n.d(t,{BG:()=>u,FH:()=>m,FU:()=>s,FY:()=>l,Ll:()=>i,QR:()=>p,UD:()=>a,Xl:()=>r,ai:()=>d,wH:()=>o,x6:()=>c});let a="editor_file_create_button--buttonContainer--FhtwO",o="editor_file_create_button--selected--0YhE4",i="editor_file_create_button--buttonTile--okHcf",l="editor_file_create_button--backButtonContainer--8ICJO",r="editor_file_create_button--buttonTextContainer--gpybk text--fontPos11--2LvXf text--_fontBase--QdLsd",c="editor_file_create_button--button--Nj6ce",s="editor_file_create_button--withHover--6aqSG",d="editor_file_create_button--chevron--b4KNo",m="editor_file_create_button--chevronContainer--m1qDC",u="editor_file_create_button--chevronSelected--iwGY5",p="editor_file_create_button--optionClassOverride---YZg2"},775058:(e,t,n)=>{n.d(t,{$v:()=>h,BW:()=>_,Bl:()=>o,Gp:()=>s,OE:()=>E,OP:()=>f,Ul:()=>i,YK:()=>r,gS:()=>p,gb:()=>a,kJ:()=>u,mQ:()=>d,n:()=>g,oR:()=>c,v$:()=>l,zk:()=>m});let a="mini_home--iconButton--ZvEwQ toolbar_view--iconButton--1MUm6",o="mini_home--contextRowContainer--lbaDy",i="mini_home--contextRowThumbnailBackground--3WQmn",l="mini_home--contextRowThumbnailPlusSign--9w5Au",r="mini_home--contextRowContainerSelected--bpqz9",c="mini_home--contextRowMetaContainer--ASL1J",s="mini_home--contextRowTitle--49E7k text--fontPos11--2LvXf text--_fontBase--QdLsd",d="mini_home--contextRowTimestamp--cvj3G text--fontPos11--2LvXf text--_fontBase--QdLsd",m="mini_home--contextRowTitleSelected--gg6TS",u="mini_home--contextRowThumbnail--PcdIb",p="mini_home--hoverThumbnailContainer--SSEq0 _overlayBase--_overlayBase--Rkj8l",_="mini_home--fileScrollContainer--HpT9X",f="mini_home--fileScrollContainerWithFooter--5y2tX",g="mini_home--hoverThumbnail--N1ju8",h="mini_home--hoverThumbnailMetaContainer--f-A7q",E="mini_home--hoverThumbnailMetaTitle--DJIM- text--fontPos13--xW8hS text--_fontBase--QdLsd"},840023:(e,t,n)=>{n.d(t,{Lt:()=>l,ai:()=>o,hF:()=>i,kL:()=>a});let a="whiteboard_menu_selector--container--ye4aw",o="whiteboard_menu_selector--chevron--kjs2p",i="whiteboard_menu_selector--input--GTjdY",l="whiteboard_menu_selector--select--nLTil text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},903684:(e,t,n)=>{n.d(t,{EH:()=>d,MC:()=>c,ji:()=>s,l0:()=>l,xo:()=>r,zp:()=>i});var a=n(732326),o=n(764019);let i="user_has_generated_ai_summary",l="has_dismissed_summarization_nudge",r=(0,o.r1)(i),c=(0,o.r1)(l),s=(0,a.E3)("last_saw_summarization_nudge","0"),d=(0,a.E3)("seen_summarization_nudge_count",0)},535473:(e,t,n)=>{n.d(t,{dh:()=>l,nn:()=>r,re:()=>o,zC:()=>i});var a=n(667351);function o(e,t){let n=e.get(t);if(!n)return!1;let a=0===n.childrenGuids.length,o=n.childrenAreAllGhosts;return void 0!==n&&!a&&o}function i(e,t){let n=e.get(t);return(null==n?void 0:n.childrenGuids.length)===0&&void 0!==n}function l(){return(0,a.Fk)(e=>{var t;return(null==(t=e.getCurrentPage())?void 0:t.guid)||"0:1"})}function r(){return(0,a.Fk)(e=>{var t;return(null==(t=e.getCurrentPage())?void 0:t.name)||null})}},482485:(e,t,n)=>{n.d(t,{_:()=>a,q:()=>o});let a=2,o=1e3},902047:(e,t,n)=>{n.d(t,{AI:()=>I,NE:()=>U,bX:()=>x,i1:()=>D,lZ:()=>N,vi:()=>P});var a=n(411855),o=n(868879),i=n(732326),l=n(288706),r=n(646240),c=n(402791),s=n(820657),d=n(165077),m=n(145546),u=n(765982),p=n(613431),_=n(764019),f=n(947680),g=n(721401),h=n(170766),E=n(422053),b=n(33276),C=n(781074),y=n(456804),v=n(949322),w=n(450341),T=n(743845),k=n(482485);let x="ai_generate_onboarding_key",N="ai_new_file_modal_onboarding_key",I="ai_new_file_modal_v2_onboarding_key",S="has_seen_figjam_ai_modal_overlay",L="has_seen_figjam_ai_toolbar_tooltip",A="has_seen_figjam_ai_mindmaps_timelines_announcement",M=(0,_.r1)(w.W1),O=(0,_.r1)(S),R=(0,_.r1)(L),B=(0,_.r1)("figjam_editor_onboarded"),F=(0,_.r1)(A);function P(){let e=(0,i.md)(R),t=(0,i.md)(w.qe),n=(0,i.md)(w.rM),o=(0,m.e)({overlay:v.QLv,priority:g.N.HIGH_PRIORITY_MODAL},[e]);return(0,a.useEffect)(()=>{let e=setTimeout(()=>{o.show({canShow:e=>!e&&n&&t})},k.q);return()=>clearTimeout(e)},[t,n,o]),a.createElement(C.rq,{isShowing:o.isShowing,userFlagOnShow:L,targetKey:x,onClose:o.complete,trackingContextName:h.e0.AI_TOPBAR_TOOLTIP,title:a.createElement(c.Tx,{id:"whiteboard.ai_onboarding.ai_templates_toolbar.title"}),description:a.createElement(c.Tx,{id:"whiteboard.ai_onboarding.ai_templates_toolbar.description"}),emphasized:!0})}function D({targetKey:e}){let t=(0,i.md)((0,l.Rq)(u.Sb)),n=(0,i.md)(M),d=(0,i.md)(O),p=(0,i.md)(B),_=(0,r.Xr)(w.RC),f=(0,m.e)({overlay:v.xiH,priority:g.N.HIGH_PRIORITY_MODAL},[n,d,t,p]);(0,o.h)(()=>{f.show({canShow:(e,t,n,a)=>!e&&!t&&!n&&a})});let E=()=>{f.complete(),_(!0)};return(0,o.h)(()=>()=>{E()}),a.createElement(C.rq,{isShowing:f.isShowing,userFlagOnShow:S,targetKey:e,onClose:E,onTargetLost:E,trackingContextName:h.e0.AI_MODAL_ONBOARDING_TOOLTIP,arrowPosition:y.F_.LEFT_TITLE,title:a.createElement(c.Tx,{id:"whiteboard.ai_onboarding.new_file_modal.title"}),media:a.createElement(b.y,{src:"https://static.figma.com/uploads/b306123ab827a626d46db70bcc5a74e9e76feacf",alt:"",aspectRatio:301/154}),description:a.createElement(c.Tx,{id:"whiteboard.ai_onboarding.new_file_modal.footer"}),primaryCta:{label:a.createElement(c.Tx,{id:"rcs.got_it"}),type:"button",onClick:E,ctaTrackingDescriptor:s.c.GOT_IT}})}function U(){let e=(0,i.md)(F),t=(0,i.md)(p.mp),n=(0,i.md)(w.pB),o=(0,i.md)(u.zo),l=(0,f.aV)(),{show:r,complete:c,isShowing:s}=(0,m.e)({overlay:v.xJI,priority:g.N.HIGH_PRIORITY_MODAL},[e,t,o]);return(0,a.useEffect)(()=>{r({canShow:(e,t,a)=>!l&&!e&&function(e){let t=Date.now();return e.getTime()<=t-12096e5}(t)&&!n&&a})},[r,n,l]),a.createElement(E.M,{isShowing:s,userFlagOnShow:A},a.createElement(d.fu,{name:"AI Mindmaps and Timelines Feature Announcement"},a.createElement(T.M,{dismissModal:c})))}},905884:(e,t,n)=>{n.d(t,{O:()=>i});var a=n(411855),o=n(491059);function i(){let e=(0,o.U)();return(0,a.useCallback)(t=>{e("figjam_onboarding_event",t,{batchRequest:!1})},[e])}},246755:(e,t,n)=>{n.d(t,{CM:()=>h,mI:()=>E,wV:()=>y,mN:()=>b,vX:()=>C,rL:()=>v});var a=n(411855),o=n(629019),i=n.n(o),l=n(304913),r=n(242723),c=n(487644),s=n(854018),d=n(402791),m=n(507026),u=n(87382);function p({onClick:e,autoFocus:t,children:n,trackingEventName:o,large:r}){return a.createElement(l.vd,{className:i()({"connector_modal_cta_button--button--mhvSu text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI":!0,"connector_modal_cta_button--buttonLarge--4RXeh text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI":r}),onClick:e,autoFocus:t,trackingEventName:o},n)}var _=n(905884),f=n(537240),g=n(874529);let h="FigJam Editor Onboarding";function E(e){return a.createElement("div",{className:f.hQ},e.svg&&a.createElement("div",{className:f.ZS},a.createElement(c.B,{svg:e.svg,useOriginalSrcFills_DEPRECATED:!0})),a.createElement("div",{className:f.IP},e.titleText?e.titleText:"",e.bodyText),e.buttonText&&e.onButtonClick&&a.createElement("div",{className:f.UD},a.createElement(p,{onClick:e.onButtonClick,autoFocus:!0},e.buttonText)))}let b="https://static.figma.com/uploads/8f3066fc3906f11f2601a390725f2b7af58e01a1";function C(e){let t=(0,_.O)(),n=(0,u.hO)()<r.lc+110;return a.createElement(a.Fragment,null,e.children,a.createElement(l.vd,{className:i()(f.SZ,{[f.x1]:n}),onClick:()=>{e.onSkipClick(),(0,s.YQ)({id:m.P7}),t({eventName:"msv2_skipped",useCase:e.useCase})},autoFocus:!0,trackingProperties:{text:"Skip intro"}},a.createElement(d.Tx,{id:"figjam_onboarding_make_something.all.skip_intro"}),a.createElement(c.B,{svg:g.A})))}function y(e){return a.createElement("div",{className:i()({[f.xn]:!0})},a.createElement(E,{bodyText:e.bodyText,buttonText:e.buttonText,onButtonClick:e.onButtonClick,svg:e.svg}))}function v(e){let{useCase:t,stepName:n,stepNum:o}=e,i=(0,_.O)();(0,a.useEffect)(()=>{i({eventName:"msv2_step_shown",useCase:t,stepName:n,stepNum:o})},[n,o,i,t])}},24319:(e,t,n)=>{n.d(t,{m5:()=>A,pN:()=>S,rj:()=>M});var a=n(411855),o=n(188507),i=n(732326),l=n(288706),r=n(402791),c=n(820657),s=n(145546),d=n(765982),m=n(613431),u=n(764019),p=n(664080),_=n(794095),f=n(535473),g=n(667351),h=n(721401),E=n(33276),b=n(781074),C=n(456804),y=n(949322),v=n(450341),w=n(414712),T=n(87382),k=n(283393),x=n(507727),N=n(734303),I=n(526518);let S="section_presets_announcement_key",L="seen_figjam_section_presets_announcement",A=(0,u.Fu)(L);function M(){let e=(0,i.md)(x.P)===N.iH.TRUE,t=(0,o.d4)(e=>e.mirror.appModel.currentPage),n=(0,g.Fk)((t,n)=>(0,f.zC)(t,n)||e&&(0,f.re)(t,n),t),u=(0,_.q)(),M=(0,i.md)((0,l.Rq)(d.Sb)),O=(0,i.md)(A),R=(0,i.md)(k.w),B=(0,T.FF)(),F=function(){let[e,t]=(0,a.useState)(!1),n=(0,o.d4)(e=>e.isMakeSomethingV2Active),l=(0,i.md)(v.rM);return(0,a.useEffect)(()=>{(n||l)&&t(!0)},[l,n]),e}(),P=(0,i.md)(v.dO),D=(0,i.md)(m.mp),U=P.status!==w.c.NONE,[V,H]=(0,a.useState)(!1),{show:j,isShowing:z,complete:Z}=(0,s.e)({overlay:y.pjo,priority:h.N.SECONDARY_MODAL},[O,M,D]),q=1e3*parseFloat(I.H)+1e3;return(0,a.useEffect)(()=>{let e=setTimeout(()=>{H(!0)},q);return()=>{clearTimeout(e)}},[q]),(0,a.useEffect)(()=>{R&&!F&&!U&&n&&u&&B&&V&&j({canShow:(e,t,n)=>{let a=function(e){let t=Date.now();return e.getTime()<=t-12096e5}(n);return!e&&!t&&a}})},[j,n,u,R,B,V,U,F]),a.createElement(b.rq,{isShowing:z,userFlagOnShow:L,targetKey:S,onClose:Z,trackingContextName:"section_preset_picker_dlt_announcement",title:a.createElement(r.Tx,{id:"whiteboard.section_presets_onboarding.feature_announcement.title"}),description:a.createElement(r.Tx,{id:"whiteboard.section_presets_onboarding.feature_announcement.description"}),media:a.createElement(E.w,{src:"https://static.figma.com/uploads/0ccb9b0b677f719939bd9bacd937201dfea4e8c9",aspectRatio:4/3}),primaryCta:{label:a.createElement(r.Tx,{id:"rcs.got_it"}),type:"button",onClick:Z,ctaTrackingDescriptor:c.c.GOT_IT},secondaryCta:{label:a.createElement(r.Tx,{id:"whiteboard.section_presets_onboarding.feature_announcement.secondary"}),type:"button",onClick:()=>{e&&p.gw5.setFigjamStarterKitEnabled(!1),p.T4N.createSectionForOnboarding(),Z()},ctaTrackingDescriptor:c.c.SECTION_PRESET_PICKER_SHOW_ME},arrowPosition:C.F_.BOTTOM})}},184995:(e,t,n)=>{n.d(t,{n:()=>i});var a=n(288706),o=n(664080);let i=(0,a.um)(!1,(e,t)=>{switch(t.type){case"ACTIVATE_AND_MAXIMIZE":return o.glU.setActiveEmbed(t.payload.embedNodeID),!0;case"MINIMIZE":return!1;default:return e}})},444573:(e,t,n)=>{n.d(t,{k4:()=>T,E0:()=>v,v2:()=>w});var a=n(411855),o=n(188507),i=n(794307),l=n(499200),r=n(732326),c=n(963039),s=n(344298),d=n(242723),m=n(819165),u=n(866263),p=n(574560),_=n(664080),f=n(509047),g=n(57522),h=n(534766),E=n(934325),b=n(527955),C=n(140869),y=n(860168);let v=(0,l.hG)(y.tui);function w(){var e;let t=(0,o.d4)(({mirror:{selectionProperties:e,sceneGraphSelection:t,appModel:n}})=>1===Object.keys(t).length&&e.whiteboardNumSelectedByType&&1===e.whiteboardNumSelectedByType.SECTION&&(e.name||n.onCanvasNameEditorInfo.mode===_.nzw.SECTION_NAME)),n=(0,o.d4)(({mirror:{selectionProperties:e,sceneGraphSelection:t}})=>1===Object.keys(t).length&&e.whiteboardNumSelectedByType&&1===e.whiteboardNumSelectedByType.STAMP),a=(0,o.d4)(({mirror:{selectionProperties:e}})=>e.nodeSelectedValidForQuickAdd);return"whiteboard"===(0,u.lg)()?t?40:n&&s.XN?40:a?20+v/2:(null==(e=_.qmM)?void 0:e.shouldRenderTableUiForSelection())!==_.miS.HIDE?20+v/2:16:8}function T({children:e,isShown:t,centerInFrame:n,anchorToRect:l,showInReadOnly:s}){let y;let[v,T]=a.useState(!1),[x,N]=a.useState(!1),[I,S]=(0,r.fp)(b.f),L=I.positionRelativeToSelection,A=a.useRef(null),M=a.useRef(null),{markPositionChanged:O,markSelectionChanged:R}=function(e){let t=a.useRef({frameHandle:null,didMenuMidpointChange:!1,didSelectionChange:!1,lastMidpoint:{x:0,y:0},lastSelection:{}}),n=a.useCallback(()=>{var n;let{current:a}=t;a.didMenuMidpointChange&&a.didSelectionChange&&(null==(n=e.current)||n.animate()),a.frameHandle||(a.frameHandle=setTimeout(()=>{a.didMenuMidpointChange=!1,a.didSelectionChange=!1,a.frameHandle=null},0))},[e]);return{markSelectionChanged:a.useCallback(e=>{Object.keys(t.current.lastSelection).length&&(t.current.didSelectionChange=!0,n()),t.current.lastSelection=e},[n]),markPositionChanged:a.useCallback(e=>{let{current:a}=t;(e.x!==a.lastMidpoint.x||e.y!==a.lastMidpoint.y)&&(a.didMenuMidpointChange=!0,n()),a.lastMidpoint=e},[n])}}(M),B=(0,o.d4)(({mirror:{appModel:e}})=>[f.QOV.DEFAULT,f.QOV.SELECTING_TEXT,f.QOV.CLICKING_TO_CHANGE_SELECTION].includes(e.activeUserAction)),F=(0,o.d4)(({mirror:{appModel:e}})=>e.isReadOnly),P=(0,h._X)({subscribeToUpdates_expensive:t}),D=(0,E.J2)(_.Ez5.canvasViewState().selectionBoundingRect),U=(0,E.J2)(_.Ez5.canvasViewState().inlineMenuTarget),V=l||(null==U?void 0:U.boundingBox)||D,H=(0,u.lg)(),j=w(),z=(0,o.d4)(e=>e.mirror.appModel.hyperlinkLocation),Z=(0,o.d4)(e=>e.mirror.sceneGraphSelection),q=(0,g.kl)("isTableSublayerSelected"),$=(y=_.cfv.ABOVE,(null==U?void 0:U.preferredPosition)?y=U.preferredPosition:q&&(y=_.cfv.BELOW),y),W=(0,p.Yk)(),G=!!z||!P||!V||!B||F&&!s||!t;a.useEffect(()=>{(G||x)&&v&&T(!1)},[G,v,x]);let K=(null==P?void 0:P.offsetX)||0,Y=(null==P?void 0:P.offsetY)||0;a.useEffect(()=>{T(!1)},[Z,K,Y]),a.useEffect(()=>{R(Z)},[Z,R]);let X=(0,h.Yb)(P,V),Q=a.useMemo(()=>({...X,x:X.x+P.x,y:X.y+P.y}),[X,P]),J=a.useCallback((e,t,n)=>{switch($){case _.cfv.ABOVE:return n<e.y?_.cfv.ABOVE:_.cfv.BELOW;case _.cfv.BELOW:return n>e.y?_.cfv.BELOW:_.cfv.ABOVE;case _.cfv.LEFT:return t<e.x?_.cfv.LEFT:_.cfv.RIGHT;case _.cfv.RIGHT:return t>e.x?_.cfv.RIGHT:_.cfv.LEFT;default:(0,i.xb)($)}},[$]),ee=a.useCallback((e,t,n,a)=>{if(P){let o=e-P.x,i=t-P.y,l=(0,h.$$)(P,{x:o,y:i-a/window.devicePixelRatio});_.glU.figjamInlineMenuPositionUpdate(l.x,l.y,n.height)}O({x:e+n.width/2,y:t+n.height/2});let o=J(Q,e,t);L!==o&&S({type:"SET_POS_RELATIVE_TO_SELECTION",payload:o})},[P,O,J,Q,L,S]),et=(0,m.LO)(),en=a.useCallback((e,t,n)=>{let a=P.y+24,o=P.y+P.height-24-W-t.height,l=(0,C.T1)(e,t,n),r=(0,C.DH)(e,t,n),s=e.y,d=e.y,m=$,u=(e=>{switch(e){case _.cfv.ABOVE:return l;case _.cfv.BELOW:return r;case _.cfv.LEFT:return s;case _.cfv.RIGHT:return d;default:(0,i.xb)(e)}})(m);return m===_.cfv.ABOVE&&l<a?(m=_.cfv.BELOW,u=r):m===_.cfv.BELOW&&r>o&&(m=_.cfv.ABOVE,u=l),(0,c.qE)(u,a,o)},[W,$,P.height,P.y]),ea=a.useCallback((e,t)=>{let n=(0,C.Al)(e,t),a=(0,C.Dl)(e,t,20),o=(0,C.Yh)(e,20),l=(e=>{switch(e){case _.cfv.ABOVE:case _.cfv.BELOW:return n;case _.cfv.LEFT:return a;case _.cfv.RIGHT:return o;default:(0,i.xb)(e)}})($),r="whiteboard"===H?d.Ri:0,s=P.x+20+et.left,m=P.x+P.width-20-t.width-et.right-r;return $===_.cfv.LEFT&&l<s?l=o:$===_.cfv.RIGHT&&l>m&&(l=a),(0,c.qE)(l,s,m)},[P.width,P.x,et,$,H]),eo=a.useCallback((e,t)=>(0,c.qE)((0,C.tJ)(e,t),P.y+20,P.y+P.height-20-t.height),[P.height,P.y]);if(G||!(0,h.ZT)(X,P))return a.createElement(k,{ref:M},null);let ei="whiteboard"===H&&v?{transition:"transform 0.1s"}:{};return ei.WebkitUserSelect="none",a.createElement(C.lM,{style:ei,targetRect:Q,onMouseEnter:()=>{T(!0),A.current&&clearTimeout(A.current),A.current=null},onMouseLeave:()=>{A.current=setTimeout(()=>T(!1),100)},offset:n?0:j,positionX:ea,positionY:n?eo:en,onPosition:ee,frozen:v,setSizeChanged:N},a.createElement(k,{ref:M},e))}let k=a.forwardRef(function({children:e},t){let n=a.useRef(null);return a.useImperativeHandle(t,()=>({animate:()=>{n.current&&(n.current.style.animation="none",n.current.offsetTop,n.current.style.animation="")}})),a.createElement("div",{ref:n,className:"inline_editor_layer--animationRoot--pX-db"},e)})},262712:(e,t,n)=>{n.d(t,{G:()=>s});var a=n(411855),o=n(629019),i=n.n(o),l=n(769514),r=n(959875),c=n(402791);function s({location:e,overrideText:t,hoverStyleClassName:n}){return a.createElement(l.Ex,{className:i()(r.cx.font11.fontNormal.h16.px4.b1.bRadius5.mr0.hFitContent.if("MODAL"===e||"FILE_BROWSER_BAR"===e,r.cx.colorTextSecondary.colorBorder).if("SUMMARIZE_NUDGE"===e,r.cx.colorTextOnbrand.colorBorderBrand).if("INLINE_TOOLBAR"===e,r.cx.colorTextMenuSecondary.colorBorderMenu).$,n),color:l.zE.INVERT,subtle:!0,text:t??(0,c.t)("whiteboard.ai_modal.beta_badge")})}},743845:(e,t,n)=>{let a;n.d(t,{u:()=>q,M:()=>V});var o=n(411855),i=n(188507),l=n(629019),r=n.n(l),c=n(611464),s=n(218017),d=n(487644),m=n(959875),u=n(402791),p=n(43594),_=n(965528),f=n(705715),g=n(482402),h=n(428748),E=n(566046),b=n(467453),C=n(221033),y=n(262712),v=n(714889),w=n(646240),T=n(669234),k=n(450341);let x="ai_announcement_modal--btn--I8Apa",N="ai_announcement_modal--primaryBtn--Hp0e- ai_announcement_modal--btn--I8Apa",I="ai_announcement_modal--closeButton--9oAMb",S="ai_announcement_modal--aiIcon--u4hnd",L="ai_announcement_modal--aiBadge--DSi1-";var A=n(26096),M=n(806429);function O(){return o.createElement("div",{className:"ai_announcement_modal--browseInCommunityContainer--03F-u"},o.createElement("a",{href:"/community/collections/best-figjam-ai-prompts",target:"_blank",className:"ai_announcement_modal--communityLink--CA-Qf"},o.createElement(d.B,{svg:A.A,className:"ai_announcement_modal--communityIcon--Gmr2-"}),o.createElement(u.Tx,{id:"whiteboard.ai_feature_announcement.more_prompts.community_button"})))}function R(){return o.createElement("div",{className:"ai_announcement_modal--morePromptsHeader--Av2QS"},o.createElement("span",{className:"ai_announcement_modal--headerText--iJ5yO"},o.createElement(u.Tx,{id:"whiteboard.ai_feature_announcement.more_prompts.title"})),o.createElement("span",{className:m.cx.font13.$},o.createElement(u.Tx,{id:"whiteboard.ai_feature_announcement.more_prompts.description"})))}function B({selectedPrompt:e,setSelectedPrompt:t}){let n=(0,v.FN)();return o.createElement("div",{className:"ai_announcement_modal--morePromptsBodyOuter--3cfNs"},o.createElement("div",{className:"ai_announcement_modal--morePromptsBody--SEGr5"},Object.keys(n).map(a=>{let i=n[a];return o.createElement(F,{key:a,category:i.category,suggestion:i.suggestion,isSelected:e===a,onClick:()=>t(a)})})))}function F({category:e,suggestion:t,isSelected:n,onClick:a}){let i=(0,v.wg)(e);return o.createElement("button",{className:r()("ai_announcement_modal--morePromptExample--O3B-f",{"ai_announcement_modal--selectedMorePromptExample--TCcYx":n}),onClick:a},o.createElement("div",{className:"ai_announcement_modal--morePromptIcon--vM2Pj"},i),o.createElement("div",{className:m.cx.inline.alignLeft.$},t.map((e,n)=>o.createElement("span",{key:n,className:e.bold?"ai_announcement_modal--boldedText--DaSsh":"ai_announcement_modal--normalText--zPNO-"},e.text,n!==t.length?" ":""))))}function P({onBack:e,dismissModal:t,selectedPromptKey:n,generateInNewTab:a}){let l=(0,i.wA)(),s=(0,C.Bq)(),p=(0,w.Xr)(k.No),f=(0,w.Xr)(k.xc),E=(0,T.tS)(),b="en"===(0,c.mm)()[0];return o.createElement("div",{className:r()("ai_announcement_modal--morePromptsFooter--peV6H")},b?o.createElement(O,null):o.createElement("div",null),o.createElement("div",{className:m.cx.flex.gap16.$},e&&o.createElement("button",{className:r()(m.cx.py8.px16.b1.bRadius6.font13.fontMedium.lh24.$,x),onClick:e},(0,u.t)("whiteboard.ai_feature_announcement.more_prompts.back_button")),o.createElement("button",{onClick:function(){let e=(0,v.FN)()[n],o=(0,v.hZ)(e);a?l(_.zE({state:s,editorType:g._Y.WHITEBOARD,team:void 0,from:h.f6.FIGJAM_AI_ONBOARDING_MODAL,openNewFileIn:h.ai.NEW_TAB,figjamAiNewFileData:{prompt:o,useCaseCategory:e.setUseCaseCategory?e.category:void 0,subtitle:o,entrypoint:v.fV.ONBOARDING_MODAL}})):(f({prompt:o,useCaseCategory:e.setUseCaseCategory?e.category:void 0}),p({fileKey:E,prompt:o,useCaseCategory:e.setUseCaseCategory?e.category:void 0,subtitle:o,stage:v.Zj.GENERATE_MODE,entrypoint:v.fV.IN_EDITOR})),t()}},o.createElement("div",{className:r()(m.cx.py4.pl8.pr16.b1.bRadius6.font13.fontMedium.lh24.$,N)},o.createElement("div",{className:m.cx.flex.flexRow.itemsCenter.$},o.createElement(d.B,{svg:M.A,className:S}),a?(0,u.t)("whiteboard.ai_feature_announcement.button.generate"):(0,u.t)("whiteboard.ai_modal.generate"))))))}function D({onBack:e,dismissModal:t,generateInNewTab:n}){let[a,i]=o.useState(Object.keys((0,v.FN)())[0]);return o.createElement("div",{className:"ai_announcement_modal--morePromptsModal--j5dIT"},o.createElement(s.Jn,{className:r()(m.cx.w32.h32.absolute.colorIcon.$,I),onClick:t}),o.createElement("div",{className:r()(m.cx.absolute.h18.$,L)},o.createElement(y.G,{location:"MODAL"})),o.createElement(R,null),o.createElement(B,{setSelectedPrompt:i,selectedPrompt:a}),o.createElement(P,{onBack:e,dismissModal:t,selectedPromptKey:a,generateInNewTab:n}))}var U=((a=U||{})[a.ANNOUNCEMENT=0]="ANNOUNCEMENT",a[a.MORE_PROMPTS=1]="MORE_PROMPTS",a);function V({dismissModal:e}){let t=(0,i.wA)(),[n,a]=(0,o.useState)(0);return o.createElement(b.aF,{dispatch:t,className:m.cx.overflowHidden.colorText.$,size:700,onHide:e,tintedModalBackground:!0,padding:0},0===n?o.createElement(H,{dismissModal:e,onSeeMorePrompts:()=>a(1)}):null,1===n?o.createElement(D,{dismissModal:e,onBack:()=>a(0),generateInNewTab:!0}):null)}function H({dismissModal:e,onSeeMorePrompts:t}){let n=(0,i.wA)(),a=(0,C.Bq)(),[l,f]=(0,o.useState)(!0),E="ja"===(0,c.mm)()[0],b={mindmap:{title:(0,u.t)("whiteboard.ai_feature_announcement.mindmap.title"),subtitle:(0,u.t)("whiteboard.ai_feature_announcement.mindmap.subtitle"),useCaseCategory:v.es.MIND_MAP},timeline:{title:(0,u.t)("whiteboard.ai_feature_announcement.timeline.title"),subtitle:(0,u.t)("whiteboard.community_prompt.suggestion.timeline.subtitle_2"),useCaseCategory:v.es.TIMELINE}};return o.createElement(o.Fragment,null,o.createElement(s.Jn,{className:r()(m.cx.w32.h32.absolute.colorIcon.$,I),onClick:e}),o.createElement("div",{className:r()(m.cx.absolute.h18.$,L)},o.createElement(y.G,{location:"MODAL"})),o.createElement("div",{className:r()(m.cx.flex.borderBox.bb1.colorBorderFigjamStrong.$,"ai_announcement_modal--announcementContents--ClXqk")},o.createElement("img",{src:"https://static.figma.com/uploads/d7ba873f4954f5bfa36fc96c43566de87dcdbf4d",alt:(0,u.t)("whiteboard.ai_feature_announcement.image_alt"),style:p.sx.add({aspectRatio:238/422}).$,width:238,className:m.cx.br1.colorBorder.$}),o.createElement("div",{className:r()(m.cx.flex.flexColumn.m32.$,"ai_announcement_modal--announcementRightSideContent--7BH1Y")},o.createElement("div",null,o.createElement("div",{className:r()(m.cx.font24.fontSemiBold.lh32.colorText.pb16.$,{"ai_announcement_modal--announcementTitleJapanese--vorK6":E,"ai_announcement_modal--announcementTitleEnglish--eVbG9":!E})},(0,c.kc)().figjam_ai_announcement_title?o.createElement(Z,null):o.createElement(z,null)),o.createElement("div",{className:m.cx.font13.lh24.$},(0,u.t)("whiteboard.ai_feature_announcement.announcement.subtitle")),o.createElement("div",{className:m.cx.pb32.$}),o.createElement("div",{className:r()(m.cx.flex.flexColumn.$,"ai_announcement_modal--examplePromptGroup--dYilk")},o.createElement(j,{title:(0,u.t)("whiteboard.ai_feature_announcement.mindmap.title"),subtitle:(0,u.t)("whiteboard.ai_feature_announcement.mindmap.subtitle"),useCaseCategory:v.es.MIND_MAP,selected:l,setMindmapPromptSelected:f}),o.createElement(j,{title:(0,u.t)("whiteboard.ai_feature_announcement.timeline.title"),subtitle:(0,u.t)("whiteboard.community_prompt.suggestion.timeline.subtitle_2"),useCaseCategory:v.es.TIMELINE,selected:!l,setMindmapPromptSelected:f}))))),o.createElement("div",{className:r()(m.cx.flex.flexRow.gap16.justifyEnd.$,"ai_announcement_modal--footer--1C7P9")},o.createElement("button",{className:r()(m.cx.py8.px16.b1.bRadius6.font13.fontMedium.lh24.$,x),onClick:t},(0,u.t)("whiteboard.ai_feature_announcement.button.more_prompts")),o.createElement("button",{onClick:function(){let t=l?b.mindmap:b.timeline;n(_.zE({state:a,editorType:g._Y.WHITEBOARD,team:void 0,from:h.f6.FIGJAM_AI_ONBOARDING_MODAL,openNewFileIn:h.ai.NEW_TAB,figjamAiNewFileData:{prompt:`${t.title} ${t.subtitle}`,useCaseCategory:t.useCaseCategory,subtitle:t.subtitle,entrypoint:v.fV.ONBOARDING_MODAL}})),e()}},o.createElement("div",{className:r()(m.cx.py4.pl8.pr16.b1.bRadius6.font13.fontMedium.lh24.$,N)},o.createElement("div",{className:m.cx.flex.flexRow.itemsCenter.$},o.createElement(d.B,{svg:M.A,className:S}),(0,u.t)("whiteboard.ai_feature_announcement.button.generate"))))))}function j({title:e,subtitle:t,useCaseCategory:n,selected:a,setMindmapPromptSelected:i}){return o.createElement("button",{onClick:()=>{n===v.es.MIND_MAP?i(!0):i(!1)},className:r()(m.cx.flex.justifyBetween.itemsCenter.py24.px16.b1.bRadius8.colorBorder.wFull.alignLeft.$,{"ai_announcement_modal--examplePromptSelected--Z5DLS":a,"ai_announcement_modal--examplePromptNotSelected--HLoXj":!a})},o.createElement("div",{className:m.cx.flex.itemsCenter.justifyBetween.gap12.wFull.$},o.createElement("div",null,(0,v.wg)(n)),o.createElement("div",{className:m.cx.flex.flexRow.itemsStart.$},o.createElement("div",{className:r()(m.cx.colorTextSecondary.font13.fontMedium.$,"ai_announcement_modal--examplePromptText--iydWy")},o.createElement("span",{className:m.cx.colorText.font13.fontSemiBold.$},e),` ${t}`))))}function z(){return o.createElement(o.Fragment,null,o.createElement("span",{className:m.cx.preWrap.$},(0,u.t)("whiteboard.ai_feature_announcement.announcement.title")),o.createElement("span",{className:m.cx.colorTextFigjam.$},(0,u.t)("whiteboard.ai_feature_announcement.announcement.title.FigJamAI")))}function Z(){return o.createElement(o.Fragment,null,o.createElement("span",{className:m.cx.preWrap.$},o.createElement(u.Tx,{id:"whiteboard.ai_feature_announcement.announcement.title_with_figjam_ai",figjamAI:o.createElement("span",{className:m.cx.colorTextFigjam.$},(0,u.t)("whiteboard.ai_feature_announcement.announcement.title.FigJamAI"))})))}let q=(0,E.Ju)(function(){let e=(0,i.wA)();return o.createElement(b.aF,{dispatch:e,className:m.cx.overflowHidden.colorText.$,size:700,tintedModalBackground:!0,padding:0},o.createElement(D,{dismissModal:()=>{e(f.Ce())},generateInNewTab:!1}))},"FigJamAIMorePromptsModal")},646021:(e,t,n)=>{n.d(t,{SU:()=>l,b7:()=>m,ep:()=>p,zi:()=>u});var a=n(183518),o=n(664080);let i=[o.Z6A.STICKY,o.Z6A.TEXT,o.Z6A.SHAPE_WITH_TEXT];function l(e){return e?e.textSublayer?e.textSublayer.textContent:e.textContent?e.textContent:null:null}let r=(e,t)=>e?l(e)||(e.name?e.name:null):null,c=e=>!!["STICKY","TEXT","SHAPE_WITH_TEXT"].includes(e.type),s=(e,t,n)=>{if(!c(e))return null;let a=n[e.guid],o=r(e,t);if(!o)return null;let i={t:o,bounds:e.absoluteRenderBounds,id:e.guid,type:e.type};return a&&(i.stamps=a),i},d=e=>{let t=o.DV9.getStampsOnNodes(e),n=Object.fromEntries(t),a={};for(let[e,o]of t)a[e]=Object.fromEntries(n[e]);return a};function m(e){let t=function(e){let t=o.glU.searchForNodesInSelection(i),n=[];for(let a of t){let t=e.get(a);t&&n.push(t)}return n.filter(e=>c(e))}(e),n=d(t.map(e=>e.guid)),a=[];for(let o of t){let t=s(o,e,n);t&&a.push(t)}return{v:1,data:a}}function u(e){let t=function(e){let t=o.glU.getStickyThreadsFromSelection(),n=[];for(let a of t){let t=!1,o={id:"",text:""};for(let n of a){let a=e.get(n);if(a&&"STICKY"===a.type){let e=a.textSublayer&&a.textSublayer.textContent||"";if(t)o.id=o.id?`${o.id}|${n}`:n,e&&(o.text=o.text?`${o.text}|${e}`:e);else{if(t=!0,!e)continue;o.id=a.guid,o.text=e;continue}}}o.text&&n.push(o)}return n}(e),n=JSON.stringify(t).length;return{v:1,data:t,characterCount:n}}function p(e,t){let n=e.get(t);if(!n||!n.isDiagramNode)return null;let o=l(n);if(!o)return null;let i=[],r=n.diagramParentId;for(;r&&r!==a.AD;){let t=e.get(r);if(!t)break;let n=l(t);n&&i.push(n),r=t.diagramParentId}i.reverse();let c=[];for(let t of n.diagramChildIds){let n=l(e.get(t));n&&c.push(n)}return{selectedNode:o,parentHierarchy:i,children:[],excludedSuggestions:c}}},118966:(e,t,n)=>{n.d(t,{Z:()=>I});var a=n(411855),o=n(188507),i=n(491059),l=n(611464),r=n(732326),c=n(796695),s=n(766282),d=n(402791),m=n(217629),u=n(581572),p=n(926581),_=n(664080),f=n(797811),g=n(205786),h=n(829879),E=n(742900),b=n(534766),C=n(669234),y=n(268278),v=n(345840),w=n(714889),T=n(590840),k=n(152420),x=n(646021);let N=e=>({...e,width:e.w,height:e.h});function I(){let e=a.useRef((0,d.t)("whiteboard.ai_cluster.loading_section_base")),t=a.useMemo(()=>new E.qo,[]),{Sprig:n}=(0,s.A)(),[I,S]=a.useState(!1),L=(0,i.am)(),A=a.useRef(),M=(0,g.Z)("figjam_summary_navigate"),O=(0,T.um)(),R=(0,r.md)(u._s),B=(0,r.md)(C.As),F=(0,r.md)(p.kS),P=(0,r.md)(C.yM),D=(0,r.md)(C.ze),U=(0,o.d4)(e=>e.multiplayer.allUsers.length),V={orgId:R,teamId:B||null,fileKey:D,userId:F||null},H=a.useCallback(e=>{let n=t.get(e);(null==n?void 0:n.isAlive())&&f.l7.system("remove-cluster-placeholder",()=>_.Hur.removePlaceholder(e)),A.current&&(clearInterval(A.current),A.current=void 0)},[A,t]);return{clusterCanvasSelection:()=>{let a=new c.jk(k.Ux.TIME_TAKEN_TO_COMPLETE,{});a.start(),S(e=>!e);let o=_.glU.getSelectionBounds(),{v:i,data:r,characterCount:s}=(0,x.zi)(t),d=e.current+".",u=f.l7.system("create-cluster-placeholder",()=>{let e=_.Hur.createPlaceholder(o);return h.i(e,d),e});M((0,b.QZ)({nodeId:u,alwaysPan:!1})),A.current=setInterval(()=>{d.length===e.current.length+3?d=e.current+".":d+=".",f.l7.system("update-cluster-placeholder-text",()=>h.i(u,d))},1e3),m.Ay.figjam.cluster({v:i,data:r,tokenCount:s/4},V).then(e=>{let i=t.get(u),c=null==i?void 0:i.absoluteRenderBounds,d=c?N(c):o;H(u);let[m,p]=f.l7.user("create-and-place-clusters",()=>_.Hur.createAndPlaceClusters(e.clusters,d));n("track",w.l0),S(!1);let g=a.stop();g&&L(k.Ux.TIME_TAKEN_TO_COMPLETE,{elapsed_ms:g},{forwardToDatadog:!0}),L("ai_sticky_clusters_created",{request_id:e.requestUuid,nodes_clustered:r.map(e=>e.id.split("|")).flat(),num_characters_input:s,success:!0,output_section_node_ids:p,output_sticky_node_ids:m,failure_reason:""}),(0,l.kc)().workspace_activity_write&&D&&P&&v.i.recordActivity({activityUnitType:y.qj.FILE_COLLABORATION,fileKey:D,collaborationType:y.Uz.AI_CLUSTER,numPeopleInFile:U})}).catch(e=>{let t;H(u);let n=(0,T.E$)(e,T.ez.CLUSTER);L("ai_sticky_clusters_created",{nodes_clustered:r.map(e=>e.id.split("|")).flat(),num_characters_input:s,success:!1,failure_reason:n.message}),"figjam_cluster_out_of_date"===n.type&&(t={type:T.tE.Reload}),O(n.message,T.ez.CLUSTER,t)})},requestIsPending:I}}},903398:(e,t,n)=>{n.d(t,{CI:()=>m,QP:()=>c,TI:()=>u,UM:()=>l,V:()=>r,cF:()=>s,v1:()=>d});var a=n(188507),o=n(611464),i=n(730641);function l(){let e=r();return!(0,o.kc)().figjam_inline_menu_organize&&e}function r(){let e=(0,a.d4)(e=>e.mirror.selectionProperties.whiteboardStickyAIControlsShown);return!!(((0,o.kc)().figjam_summarization||(0,o.kc)().figjam_sticky_clustering)&&e)}function c(){let e=(0,a.d4)(e=>e.mirror.selectionProperties.whiteboardMindmapAIControlsShown);return!!((0,o.kc)().figjam_mindmaps_gen_from_node&&e)}function s(){let e=(0,a.d4)(e=>e.mirror.selectionProperties.whiteboardSelectionCanSummarize);return!!((0,o.kc)().figjam_summarization&&e)}function d(){let e=(0,a.d4)(e=>e.mirror.selectionProperties.whiteboardSelectionCanCluster);return!!((0,o.kc)().figjam_sticky_clustering&&e)}function m(){let e=(0,a.d4)(e=>e.mirror.selectionProperties.whiteboardSelectionCanShowAiOnboardingBadge),t=(0,i.tG)();return!!((0,o.kc)().figjam_ai_onboarding&&e&&t)}function u(){let e=(0,i.tG)();return!!((0,o.kc)().figjam_ai_onboarding&&e)}},502965:(e,t,n)=>{n.d(t,{ss:()=>z});var a=n(411855),o=n(188507),i=n(169614),l=n(491059),r=n(611464),c=n(732326),s=n(796695),d=n(766282),m=n(672002),u=n(346532),p=n(217629),_=n(581572),f=n(926581),g=n(664080),h=n(797811),E=n(278384),b=n(942655),C=n(281273),y=n(502567),v=n(634477),w=n(893417),T=n(528516);async function k({scene:e}){let t=(0,T.D)(),{AutoLayout:n,Frame:a,Text:o}=t.widget,i=(0,m.g)(),l=await t.createNodeFromJSXAsync(t.widget.h(n,{fill:{r:0,g:0,b:0,a:0},direction:"vertical",spacing:0,effect:w.co,width:w._t},t.widget.h(n,{cornerRadius:{topLeft:8,topRight:8,bottomLeft:0,bottomRight:0},fill:"#FFFFFF",width:w._t},(0,b.j)(t),(0,y.R)(t,w.Ax),t.widget.h(n,{direction:"vertical",width:w.ju,padding:{top:32,bottom:24}},t.widget.h(a,{height:24,width:"fill-parent"},(0,v.i)(t,`${new Date().getTime()}`)),(0,E.H1)(t,"Summary Title",{hasV2Styling:!1}),t.widget.h(o,{...w.Bb,hidden:!0},i)),(0,y.R)(t,w.Ax),(0,b.j)(t)),(0,C.e)(t))),r=e.get(l.id+"asdf");if(!r)throw Error("could not find node to attach summary to");let c=null;if(!(c=function e(t){if("TEXT"===t.type&&t.textContent===i)return t;if(t.childrenNodes)for(let n of t.childrenNodes){let t=e(n);if(t)return t}return null}(r)))throw Error("could not find text node inside of summary");return h.l7.system("set-ai-summary-visible",()=>{c.visible=!0}),r}var x=n(903684),N=n(205786),I=n(742900),S=n(534766),L=n(669234),A=n(268278),M=n(345840),O=n(994192),R=n(714889),B=n(590840),F=n(152420),P=n(646021),D=n(976083);class U{constructor(){this.attributionState=[],this.summaryNode=null}setTargetSummaryNode(e){this.summaryNode=e}processMessage(e){if(e.type!==D.A.SET_CONTENT_ATTRIBUTION)return!1;let t={uuid:e.uuid,themeAttachedTo:e.attach_to,nodeIds:e.node_ids},n=this.attributionState.find(t=>t.uuid===e.uuid);return n?(n.themeAttachedTo=e.attach_to,n.nodeIds=e.node_ids):this.attributionState.push(t),this.flushAttributionDataToNode(),!0}processMessages(e){for(let t of e)this.processMessage(t)}flushAttributionDataToNode(){h.l7.system("stream-ai-summary",()=>{this.summaryNode&&(0,w.iP)(this.summaryNode,this.attributionState,!1)})}}class V{static generateLocalRequestId(){return(0,m.g)()}}let H=(0,O.D)((e,t,n)=>{let a=h.l7.user("insert-ai-summary-node",()=>g.glU.insertAISummaryInCanvas(t,n)),o=e.get(a);return o&&(h.l7.user("set-ai-summary-timestamp",()=>{(0,w.Gw)(o,new Date)}),g.glU.triggerAction("commit",{})),o});async function j({v:e,canvasData:t,nodePosition:n,loadingNodeGuid:a,showErrorBell:o,trackSummaryRequested:l,trackSummaryCreated:s,scene:d,operationTimer:m}){let E,b,C;let y={orgId:c.zl.get(_._s),teamId:c.zl.get(L.As)||null,fileKey:c.zl.get(L.ze)||null,userId:c.zl.get(f.kS)||null},v=e=>{let t;throw"figjam_summarize_out_of_date"===e.type&&(t={type:B.tE.Reload}),o(e.message,B.ez.SUMMARIZE,t),Error(B.xQ[B.ez.SUMMARIZE]+e.message)},T=t.map(e=>e.id),N=V.generateLocalRequestId();l(T,t,N);let I=null,S=!1,A=new U;try{E=await p.Ay.figjam.streamSummarize({v:e,data:t},y),b=(0,r.kc)().figjam_summary_content_attrib?E.pipeThrough((0,p.pd)(e=>{A.processMessages(e)})):E.pipeThrough((0,p.nU)())}catch(e){v((0,B.E$)(e,B.ez.SUMMARIZE));return}let M=()=>{if(!S){let e=d.get(a);e&&e.isAlive()&&h.l7.system("remove-ai-summary-loading-state",()=>{g.glU.deleteNode(a),S=!0})}},O=async()=>{let e=null;return(e=(0,r.kc)().figjam_summarization_hybrid_node?await k({scene:d,nodePosition:n,loadingNodeGuid:a}):H(d,n,a))&&setTimeout(()=>{M()},200),e},R=0;try{for await(let e of new p.c6(b)){C=e;let t=R%5==0;I||(I=await O(),A.setTargetSummaryNode(I)),t&&!(0,r.kc)().figjam_summarization_hybrid_node&&h.l7.system("stream-ai-summary",()=>{I&&(0,w.WN)(I,C)}),R++}}catch(e){v((0,B.E$)(e,B.ez.SUMMARIZE));return}if(h.l7.system("stream-ai-summary",()=>{C&&I&&!(0,r.kc)().figjam_summarization_hybrid_node&&(0,w.WN)(I,C)}),(0,r.kc)().figjam_summary_content_attrib&&A.flushAttributionDataToNode(),C){let e=m.stop();e&&(0,i.sx)(F.mr.TIME_TAKEN_TO_COMPLETE,{elapsed_ms:e},{forwardToDatadog:!0}),I&&(u.b({[x.zp]:!0}),s(I.guid,C,N))}C&&I&&g.glU.triggerAction("commit",{})}function z(e,t=!0){let[n]=a.useState(new I.qo),[i,c]=a.useState(!1),m=(0,N.Z)("figjam_summary_navigate"),u=(0,B.um)(),{Sprig:p}=(0,d.A)(),_=function(){let e=(0,l.am)();return a.useCallback((t,n,a)=>{let o=(0,F.sh)(n);e(F.mr.REQUEST,{local_summary_id:a,num_characters_input:o,nodes_summarized:t})},[e])}(),f=function(){let e=(0,l.am)(),t=(0,L.q5)(),n=(0,o.d4)(e=>e.multiplayer.allUsers.length),i=a.useRef(n);return i.current=n,a.useCallback((n,a,o)=>{var l;let c={local_summary_id:o,summary_node_id:n,num_characters_output:a.map(e=>"content"in e?e.content.length:0).reduce((e,t)=>e+t,0),num_themes_output:a.filter(e=>"h2"===e.type).length,num_supporting_points_output:a.filter(e=>"li"===e.type).length};e(F.mr.CREATE,c),(0,r.kc)().workspace_activity_write&&(null==(l=null==t?void 0:t.team)?void 0:l.workspaceId)&&M.i.recordActivity({activityUnitType:A.qj.FILE_COLLABORATION,fileKey:t.key,collaborationType:A.Uz.AI_SUMMARY,numPeopleInFile:i.current})},[e,t,i])}();return{summarizeCanvasSelection:async()=>{let a=new s.jk(F.mr.TIME_TAKEN_TO_COMPLETE,{});a.start();let{v:o,data:i}=(0,P.b7)(new I.qo),l=h.l7.user("insert-ai-summary-loading-node",()=>g.glU.insertLoadingSummaryInCanvas(e===g.cfv.BELOW,t)),r=n.get(l);if(!r)return;h.l7.user("insert-ai-summary-loading-node",()=>{r.setWidgetSyncedState("syncedState:loading","true")}),m((0,S.QZ)({nodeId:l,alwaysPan:!1}));let d={x:r.absoluteBoundingBox.x,y:r.absoluteBoundingBox.y};if(i){c(!0);try{await j({v:o,canvasData:i,nodePosition:d,loadingNodeGuid:l,showErrorBell:u,trackSummaryRequested:_,trackSummaryCreated:f,scene:n,operationTimer:a})}catch(e){n.get(l)&&g.glU.deleteNode(l)}finally{p("track",R.AM),c(!1)}}},requestIsPending:i}}},407023:(e,t,n)=>{n.d(t,{Cw:()=>v,Su:()=>C,v:()=>b});var a=n(411855),o=n(38580),i=n(732326),l=n(159849),r=n(402791),c=n(165077),s=n(145546),d=n(534766),m=n(721401),u=n(170766),p=n(422053),_=n(246755),f=n(456804),g=n(290850),h=n(949322),E=n(865328);let b=(0,o.eU)(!1),C="organize";function y({onClose:e}){let t=(0,E.Cb)(),n=(0,d.LE)({subscribeToUpdates_expensive:t});return a.useEffect(()=>{t||e()},[t,e]),a.createElement("div",{style:{opacity:n?0:1,transition:"ease-in-out 0.1s all"}},a.createElement(g.Dv,{targetType:"dom",targetKey:C,topPadding:-6,isBold:!0,fixedWidth:316,arrowPosition:f.F_.BOTTOM,onTargetLost:l.lQ},a.createElement(_.mI,{bodyText:a.createElement("span",{style:{maxWidth:184}},a.createElement(r.Tx,{id:"whiteboard.organize_menu.onboarding_text_base",boldText:a.createElement("b",null,a.createElement(r.Tx,{id:"whiteboard.organize_menu.onboarding_text_bold_text"}))})),buttonText:a.createElement(r.Tx,{id:"whiteboard.organize_menu.onboarding_dismiss_button_text"}),onButtonClick:()=>{e()}})))}function v(){let[e,t]=(0,i.fp)(b),{show:n,isShowing:o,complete:l}=(0,s.e)({overlay:h.YiU,priority:m.N.SECONDARY_MODAL});return a.useEffect(()=>{n({canShow:()=>e})},[e,n]),a.createElement(p.M,{isShowing:o,testId:"FigJamAISummarizationEntrpointPointerOverlay"},a.createElement(c.fu,{name:u.e0.AI_INLINE_MENU_ORGANIZE_SUMMARY_TOOLTIP},a.createElement(y,{onClose:()=>{t(!1),l()}})))}},643013:(e,t,n)=>{n.d(t,{s:()=>U});var a=n(411855),o=n(188507),i=n(629019),l=n.n(i),r=n(87481),c=n(829826),s=n(402791),d=n(91609),m=n(533965),u=n(731939),p=n(206936),_=n(579038),f=n(775731),g=n(457763),h=n(118530),E=n(732326),b=n(467066),C=n(705715),y=n(165077),v=n(244126),w=n(266304),T=n(407007),k=n(129041),x=n(170766),N=n(797795),I=n(58029),S=n(764737),L=n(553575),A=n(479552),M=n(21236);let O="color_palette_picker--header__iconButton--rFfgT";var R=n(162502),B=n(98285);function F({customColorPalettes:e,closeColorPalettePicker:t,defaultColorPaletteLength:n}){let i=(0,p.cD)(),r=(0,o.d4)(e=>(0,T._)(i,e)),[c,d]=(0,E.fp)(L.Ze),[m,u]=a.useState(!1),_=(0,h.Z9)(),f=a.useRef(null),g={uuid:k.fJ,name:(0,s.t)("whiteboard.color_palettes.figjam_colors"),baseColors:(0,I.TS)("base").map(e=>w.z5.format(e))};if(!e)return a.createElement("div",null);let C=[g].concat(e).map((e,o)=>a.createElement(P,{index:o,key:e.uuid,palette:e,isSelected:_.uuid===e.uuid,containerRef:f,defaultColorPaletteLength:n,closeColorPalettePicker:t}));return a.createElement(y.fu,{name:x.e0.COLOR_PALETTE_PICKER},a.createElement("div",{className:l()({"color_palette_picker--wrapper--DVGTu":!0,"color_palette_picker--wrapper_onClose--zERit":c})},a.createElement("div",{ref:f,className:l()({"color_palette_picker--container--2HK33 modal--modalShadowFigJam--lkEJ2":!0,"color_palette_picker--container_onClose--NlCEf":c}),onAnimationEnd:()=>{c&&(d(!1),t())}},a.createElement(D,{teamName:(null==r?void 0:r.name)||"",showBottomBorder:m}),a.createElement("div",{className:"color_palette_picker--paletteList--jdLIl"},a.createElement(b.P,{maxHeight:290,innerClassName:"color_palette_picker--scrollContainer__inner--GF0-Z",onScroll:e=>{e>0?u(!0):u(!1)}},C)))))}function P({palette:e,isSelected:t,index:n,containerRef:o,defaultColorPaletteLength:i,closeColorPalettePicker:r}){var c;let s=(0,h.$v)(e.baseColors),d=(0,h.Bw)(),m=a.useRef(0===n?0:2*Math.random()*(n%2?1:-1)),u=(null==(c=null==o?void 0:o.current)?void 0:c.offsetHeight)||0,p={"--rowRotation":`rotate(${t?0:m.current}deg)`,"--translatePaletteRow":`${Math.max(u-80-32*n,0)}px`};return a.createElement("button",{className:l()({"color_palette_picker--paletteRow--9Pdbd":!0,"color_palette_picker--paletteRow_selected--um2Cd":t}),style:p,onClick:()=>{if(!t){let t=e.uuid===k.fJ?i:e.baseColors.length;d(e.uuid,t)}r(!0)},type:"button","data-tooltip-type":_.Ib.TEXT,"data-tooltip":e.name,"data-tooltip-max-width":200,"data-tooltip-show-above":!0,"data-testid":`color-palette-row-${e.uuid}`},s.map((t,n)=>a.createElement(S.cd,{key:e.uuid+v.F.format(t)+"-"+n,size:"medium",value:t,paletteType:"base",background:"light"})))}function D(e){let t=(0,o.wA)(),n=(0,h.X8)();return a.createElement("div",{className:l()({"color_palette_picker--header--m9FBq":!0,"color_palette_picker--header_bottomBorder--PRGsS":e.showBottomBorder})},e.teamName?a.createElement(s.Tx,{id:"whiteboard.color_palettes.color_palette_picker.team_palettes",teamName:e.teamName}):(0,s.t)("whiteboard.color_palettes.color_palette_picker.team_palettes_no_name"),n&&a.createElement("div",{className:"color_palette_picker--header__rightHand--z-7ux"},a.createElement(N.K0,{className:O,onClick:()=>{t(C.$O({type:A.dV.type}))},svg:B.A,"data-tooltip-type":_.Ib.TEXT,"data-tooltip":(0,s.t)("whiteboard.color_palettes.dropdown.new_palette"),"data-tooltip-show-above":!0,dataTestId:"create-color-palette-button"}),a.createElement(N.K0,{className:O,onClick:()=>{t(C.$O({type:M.j.type,data:{entryPoint:"whiteboard"}}))},svg:R.A,"data-tooltip-type":_.Ib.TEXT,"data-tooltip":(0,s.t)("whiteboard.color_palettes.dropdown.manage_palettes"),"data-tooltip-show-above":!0,dataTestId:"manage-color-palettes-button"})))}function U(e){var t;let n=(0,p.cD)(),i=(0,o.d4)(e=>!!e.user),l=(0,h.WR)(),c=(0,h.VR)(),[s]=(0,r.IT)((0,m.iP2)({teamId:n}),{enabled:!!n}),d=l?(null==(t=s.data)?void 0:t.colorPalettesForTeam)||[]:c?[c]:[],_=(0,o.d4)(e=>!!(e.openFile&&!n&&(0,u.canManageFile)(e.openFile.key,e)&&e.currentUserOrgId)),f=i&&(_||l||n&&!!c),E=e.isInDltSubmenu?2:16,{closeColorPalettePicker:b,isColorPalettePickerOpen:C}=e.colorPalettePickerState;return f?a.createElement(g.A,{isOpen:C,onClose:b,positionY:(e,t)=>e.y-E-t.height,target:a.createElement(V,{shouldShowMoveToTeamTooltip:_,colorPalettePickerState:e.colorPalettePickerState,disabled:e.disabled,recordingKey:e.recordingKey,isInDltSubmenu:e.isInDltSubmenu}),renderPopoverContents:()=>a.createElement(F,{customColorPalettes:d,closeColorPalettePicker:b,defaultColorPaletteLength:e.defaultColorPaletteLength})}):null}function V({recordingKey:e,colorPalettePickerState:t,shouldShowMoveToTeamTooltip:n,disabled:i,isInDltSubmenu:r}){let m=(0,o.wA)();return a.createElement("div",{key:"caret",className:l()("color_palettes_submenu_picker--submenuPickerContainer--GTTBT",{"color_palettes_submenu_picker--submenuPickerContainerNested--wuRz-":!r,"color_palettes_submenu_picker--disabled--scEBs":i})},a.createElement(f.$n,{buttonStyle:{height:"100%",backgroundColor:"inherit"},caret:"up",animateCaret:r,isNewSubmenu:r,tabIndex:-1,active:"NONE",onClick:n?e=>{let t=e.target.closest("button");t&&m(d.eB({target:{kind:_.Ui.TEXT,text:(0,s.t)("whiteboard.color_palettes.tooltip.move_to_team")},targetRect:t.getBoundingClientRect(),position:_.Zj.ABOVE}))}:()=>{if(!t)return;let{openColorPalettePicker:e,closeColorPalettePicker:n,isColorPalettePickerOpen:a}=t;a?n(!0):e()},testId:"color-palettes-picker-caret",recordingKey:(0,c.Pt)(e,"colorPalettesPickerCaret"),tooltip:n?(0,s.t)("whiteboard.color_palettes.tooltip.move_to_team"):void 0}))}},389030:(e,t,n)=>{let a,o;n.d(t,{s_:()=>ei,nG:()=>Q,Ay:()=>J,Bl:()=>et,dA:()=>eo});var i=n(411855),l=n(188507),r=n(629019),c=n.n(r),s=n(703473),d=n(611464),m=n(732326),u=n(159849),p=n(672002),_=n(483787),f=n(769514),g=n(480201),h=n(619258),E=n(487644),b=n(402791),C=n(346532),y=n(165077),v=n(764019),w=n(797811),T=n(579038),k=n(816665),x=n(262712),N=n(118966),I=n(903398),S=n(491059),L=n(796695),A=n(573760),M=n(935413),O=n(217629),R=n(581572),B=n(926581),F=n(664080),P=n(742900),D=n(669234),U=n(590840),V=n(646021);let H="ai_expand_mindmap";var j=((a=j||{}).LOADING="ai-expand-mindmap-loading",a.SUCCESS="ai-expand-mindmap-success",a),z=n(502965),Z=n(527955),q=n(775731),$=n(497435),W=n(140869),G=n(266066),K=n(58772),Y=n(449802),X=n(62573);let Q="https://help.figma.com/hc/articles/16822138920343-Use-AI-tools-in-Figma";var J=((o=J||{}).SUMMARIZE="summarize",o.CLUSTER="cluster",o.GENERATE_IDEAS="generate_ideas",o);let ee="used_figjam_ai_quick_actions",et=(0,v.r1)(ee),en="used_figjam_ai_mindmaps_inline_menu",ea=(0,v.r1)(en);function eo(){let e=(0,m.md)(Z.f).positionRelativeToSelection,{summarizeCanvasSelection:t}=(0,z.ss)(e),{clusterCanvasSelection:n}=(0,N.Z)(),{expandSelectedMindmapNode:a}=function(){let e=(0,m.md)(R._s),t=(0,m.md)(D.As),n=(0,m.md)(D.ze),a=(0,m.md)(B.kS),o=(0,U.um)(),r=(0,S.am)(),c=(0,l.wA)(),s={orgId:e,teamId:t||null,fileKey:n,userId:a||null},d=i.useCallback(()=>c(A.F.enqueue({message:(0,b.t)("whiteboard.ai_expand_mindmap.generic_error")})),[c]),u=e=>{for(let t of e)w.l7.user("expand-figjam-ai-mindmap",()=>{F.glU.deleteNode(t)})},p=(e,t,n)=>{let a=(0,V.ep)(new P.qo,e);if(!a){d(),r(H,{success:!1,failure_reason:"Failed to get input data"});return}c(A.F.dequeue({matchType:"ai-expand-mindmap-success"})),c(A.F.enqueue({message:(0,b.t)("whiteboard.ai_modal.streaming"),icon:M.zX.SPINNER,type:"ai-expand-mindmap-loading",timeoutOverride:1/0})),O.Ay.figjam.updateVisual({inputData:a,updateType:{visualType:"mindmap",updateMode:"generate_ideas"}},s).then(a=>{n&&u(n);let o=w.l7.user("expand-figjam-ai-mindmap",()=>F.$mk.expandWithFigjamAiMindmapNodes(a,e)),i=t.stop();o.length?(c(A.F.enqueue({message:(0,b.t)("whiteboard.ai_expand_mindmap.generation_success"),type:"ai-expand-mindmap-success",button:{text:(0,b.t)("whiteboard.ai_expand_mindmap.retry"),action:()=>{let t=new L.jk(H,{});return t.start(),p(e,t,o),!1}}})),r(H,{request_id:a.requestId,success:!0,failure_reason:"",num_nodes_generated:o.length,elapsed_ms:i})):(d(),r(H,{request_id:a.requestId,success:!1,failure_reason:"No nodes generated",elapsed_ms:i}))}).catch(e=>{let n=t.stop(),a=(0,U.E$)(e,U.ez.GENERATE);o(a.message,U.ez.GENERATE),r(H,{success:!1,failure_reason:a.message,elapsed_ms:n})}).finally(()=>{c(A.F.dequeue({matchType:"ai-expand-mindmap-loading"}))})};return{expandSelectedMindmapNode:()=>{let e=new L.jk(H,{});e.start();let t=F.wzW.getSingleSelectedDiagramNodeId(),n=function(e,t){let n=e.get(t);if(n){if((0,V.SU)(n))return t;{if(!n.diagramParentId)return;let t=e.get(n.diagramParentId);return(0,V.SU)(t)?n.diagramParentId:void 0}}}(new P.qo,t);if(!n){d(),r(H,{success:!1,failure_reason:"Failed to get selected node"});return}p(n,e)}}}();return e=>{let o=u.lQ,i="";if(e){switch(e.type){case"summarize":o=t,i="ai-quick-action-summarize";break;case"cluster":o=n,i="ai-quick-action-cluster";break;case"generate_ideas":o=a,i="ai-quick-action-generate-ideas"}w.l7.user(i,o)}}}function ei(){var e;let t=(0,p.g)(),n=eo(),a=(0,d.kc)().figjam_synthesize_handbrake,[o,l]=i.useState(!1),r=[...function(){let e=[],t=(0,I.UM)(),n=(0,I.cF)(),a=(0,I.v1)();return(0,d.kc)().figjam_inline_menu_organize?[]:(t&&((0,d.kc)().figjam_sticky_clustering&&e.push({type:"cluster",enabled:a}),(0,d.kc)().figjam_summarization&&e.push({type:"summarize",enabled:n})),e)}(),...function(){let e=(0,I.QP)(),t=[];return e&&t.push({type:"generate_ideas",enabled:e}),t}()];return i.createElement($.Fn,{value:void 0,overrideMenuOpenState:{isOpenOverride:o,setIsOpenOverride:l},onChange:n,renderButton:({onClick:e,onKeyDown:n,ref:o})=>i.createElement(er,{onClick:e,onKeyDown:n,buttonRef:o,ariaWrapperId:t,disabled:!!a,trackingProperties:{text:"figjam ai"},dropdownMenuOptions:r}),options:r,renderOption:es,OptionWrapper:(e=(0,b.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_options_aria_label"),function({children:n}){return i.createElement("div",{className:"ai_quick_actions_control--flexColumn--kgAdX","aria-label":e,id:t,role:"listbox",tabIndex:-1,"data-fullscreen-intercept":!0},n)}),responsivePositionY:{aboveTargetPositionY:(e,t,n)=>(0,W.T1)(e,t,n+-48),belowTargetPositionY:(e,t,n)=>(0,W.DH)(e,t,n+-48)},positionX:e=>e.x,popoverClassName:"ai_quick_actions_control--popover--BNsqs",additionalContentsTop:function({closeMenu:e}){return i.createElement("div",{className:"ai_quick_actions_control--dropdownHeaderContainer--ifOPr",onClick:e,role:"button",tabIndex:0},i.createElement("div",{className:"ai_quick_actions_control--dropdownHeaderTitle--Cqg8n"},i.createElement(b.Tx,{id:"whiteboard.inline_menu.ai_quick_actions_header_text"})),i.createElement("div",{className:"ai_quick_actions_control--badgeContainer--kBpYM"},i.createElement(x.G,{location:"INLINE_TOOLBAR",overrideText:(0,b.t)("whiteboard.inline_menu.ai_quick_actions_beta_badge_text")})))}({closeMenu:()=>l(!1)}),additionalOptions:ec,additionalOptionOnChange:()=>{(0,_.Lf)(Q)||s.Ay.unsafeRedirect(Q,"_blank")}})}function el(e,t){return!!e.find(e=>e&&t.includes(e.type))}let er=(0,y.tf)(function({onClick:e,onKeyDown:t,buttonRef:n,ariaWrapperId:a,disabled:o,dropdownMenuOptions:r}){let[s,p]=i.useState(0),{shouldShowBadge:_,setUserFlagsCallback:g}=function(e){let t=(0,l.wA)(),n=function(){let e=(0,m.md)(et).data,t=(0,I.CI)();return!e&&t}(),a=el(e,["generate_ideas"]),o=function(e){let t=(0,I.TI)(),n=(0,m.md)(ea).data;return t&&!n&&!!e}(a),r=el(e,["summarize","cluster"]);return{shouldShowBadge:n||o,setUserFlagsCallback:i.useCallback(()=>{a?t(C.b({[en]:!0})):r&&t(C.b({[ee]:!0}))},[a,r,t])}}(r);return i.createElement(q.$n,{tooltip:T.MW.AI_FEATURES_DISABLED,tooltipType:T.Ib.SPECIAL,onClick:o?u.lQ:()=>{e(),g()},disabled:o,onKeyDown:t,ariaControls:a,ref:n,recordingKey:"toolbarAIQuickActionsDropdownButton",testId:"toolbarAIQuickActionsDropdownButton",caret:"down",role:"combobox",ariaLabel:(0,b.t)("whiteboard.inline_menu.ai_quick_actions_button_aria_label"),buttonStyle:{width:_?48+s+8:48},buttonChildrenStyle:{justifyContent:"initial",width:"initial"}},i.createElement("div",{className:c()({"ai_quick_actions_control--withBadge--z88DK":_})},i.createElement("div",{className:"ai_quick_actions_control--buttonIconContainer--pBGdR"},i.createElement(E.B,{svg:G.A,className:c()("ai_quick_actions_control--svgIcon--XDs5m",{"ai_quick_actions_control--svgIconDisabled--u4WwB":o})})),_&&i.createElement(y.fu,{name:"ai_quick_actions_onboarding_badge"},i.createElement("div",{ref:e=>{p((null==e?void 0:e.offsetWidth)||s)}},i.createElement(f.Ex,{text:(0,d.kc)().figjam_inline_menu_try_ai_2?(0,b.t)("whiteboard.inline_menu.ai_quick_actions_onboarding_badge_2"):(0,b.t)("whiteboard.inline_menu.ai_quick_actions_onboarding_badge"),color:f.zE.FIGJAM,size:f.vj.SMALL,className:"ai_quick_actions_control--onboardingBadge---sKJz"})))))});function ec(e){return i.createElement(i.Fragment,null,i.createElement(g.W.Separator,{key:"menu-separator-token"}),i.createElement("div",{className:"ai_quick_actions_control--dropdownFooterContainer--1d8mD"},i.createElement("span",null,i.createElement("span",{className:"ai_quick_actions_control--dropdownFooterDisclaimer--UVXvJ"},`${(0,b.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer")} `),i.createElement(h.N,{className:c()("ai_quick_actions_control--dropdownFooterCta--hi6Ik",{"ai_quick_actions_control--dropdownFooterCtaIsFocused--2OdM8":e}),href:Q,target:"_blank",trusted:!0},i.createElement(b.Tx,{id:"whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer_cta"})))))}let es=e=>{let{value:t,onClick:n,id:a,isFocused:o}=e;if(!t)return null;let{type:l,enabled:r}=t,{displayText:c,svgSrc:s,disabledTooltipText:d}=function(e){switch(e){case"summarize":return{displayText:(0,b.t)("whiteboard.inline_menu.ai_quick_actions_summarize_button"),svgSrc:X.A,disabledTooltipText:(0,b.t)("whiteboard.inline_menu.ai_quick_actions_summarize_disabled_tooltip",{minSelectedStickies:2})};case"cluster":return{displayText:(0,b.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_button"),svgSrc:Y.A,disabledTooltipText:(0,b.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_disabled_tooltip",{minSelectedStickies:2})};case"generate_ideas":return{displayText:(0,b.t)("whiteboard.inline_menu.ai_quick_actions_generate_ideas_button"),svgSrc:K.A,disabledTooltipText:(0,b.t)("whiteboard.inline_menu.ai_quick_actions_generate_ideas_disabled_tooltip")}}}(l),m=function(e){switch(e){case"summarize":return"summarize";case"cluster":return"sort stickies";default:return"other ai action"}}(l);return i.createElement(ed,{key:`${l}-menu-option`,id:a,type:l,displayText:c,svgSrc:s,disabledTooltipText:d,disabled:!r,onClick:n,isFocused:o,trackingProperties:{text:m}})},ed=(0,y.tf)(function({id:e,type:t,displayText:n,svgSrc:a,disabledTooltipText:o,disabled:l,onClick:r,isFocused:s}){return i.createElement("div",{id:e,className:c()("ai_quick_actions_control--optionContainer--pbhnv",{"ai_quick_actions_control--optionContainerDisabled--Sxua-":l,"ai_quick_actions_control--optionContainerIsFocused--AD1hq":s}),"aria-label":n,"aria-selected":"false",role:"option",tabIndex:-1,"data-tooltip-type":T.Ib.TEXT,"data-tooltip":l?o:"","data-tooltip-tip-align-left":!0,"data-tooltip-show-right":!0,"data-tooltip-offset-x":6},i.createElement(k.c$,{disabled:l,recordingKey:`aiQuickActionsOption-${t}`,"data-testid":`aiQuickActionsOption-${t}`,dataTestId:`aiQuickActionsOption-${t}`,key:`option-${t}`,value:t,height:32,fullWidth:!0,svg:a,formattedValue:n,additionalStylesClassName:void 0,selected:!1,onMouseUp:l?u.lQ:r,style:{marginLeft:8},ignoreCheck:!0}))})},654872:(e,t,n)=>{n.d(t,{S:()=>h,o:()=>g});var a=n(411855),o=n(646240),i=n(732326),l=n(402791),r=n(795553),c=n(664080),s=n(797811),d=n(292229),m=n(57522),u=n(184995),p=n(383987),_=n(775731),f=n(861713);function g(e){var t;let n=(0,p.uQ)()||"",i=(0,m.kl)("embedData"),l=decodeURIComponent((null==(t=(0,d.E7)(i))?void 0:t.originalText)||""),_=(0,r.tq)(i),f=(0,o.Xr)(u.n);return a.useCallback(()=>{l&&(_(r.yc.CONVERT_TO_TEXT),f({type:"MINIMIZE"}),(0,s.l7)(e,"convert-embed-to-text",()=>c.glU.replaceNodeWithText(n,l)))},[l,_,f,n,e])}function h(e){var t;let n=(0,i.md)(u.n),o=(0,p.uQ)()||"",r=(0,m.kl)("embedData"),s=decodeURIComponent((null==(t=(0,d.E7)(r))?void 0:t.originalText)||""),h=g(c.zkO.USER);return r&&o&&s&&(!n||e.inModal)?a.createElement(_.K0,{svg:f.A,active:"NONE",tooltip:(0,l.t)("whiteboard.embeds.inline_menu.change_back_to_text"),onClick:h,recordingKey:"embedConvertToTextControl"}):null}},354125:(e,t,n)=>{n.d(t,{e:()=>g,f:()=>f});var a=n(411855),o=n(188507),i=n(732326),l=n(402791),r=n(487664),c=n(795553),s=n(292229),d=n(57522),m=n(184995),u=n(775731),p=n(650602);let _=()=>{var e,t;let n=(0,d.kl)("embedData");return decodeURIComponent((null==(e=(0,s.E7)(n))?void 0:e.url)||(null==(t=(0,s.E7)(n))?void 0:t.srcUrl)||"")};function f(){let e=(0,o.wA)(),t=_(),n=(0,d.kl)("embedData"),i=(0,c.tq)(n);return a.useCallback(()=>{t&&(i(c.yc.OPEN_PREVIEW),e((0,r.RK)({rawInput:t})))},[t,e,i])}function g(e){let t=(0,i.md)(m.n),n=_(),o=f();return n&&(e.inModal||!t)?a.createElement(u.K0,{svg:p.A,active:"NONE",tooltip:(0,l.t)("whiteboard.embeds.inline_menu.open_link"),onClick:o,recordingKey:"embedOpenExternalControl"}):null}},465223:(e,t,n)=>{n.d(t,{nG:()=>H,tT:()=>Z});var a=n(411855),o=n(188507),i=n(629019),l=n.n(i),r=n(703473),c=n(611464),s=n(732326),d=n(159849),m=n(672002),u=n(483787),p=n(769514),_=n(480201),f=n(619258),g=n(487644),h=n(959875),E=n(402791),b=n(884096),C=n(346532),y=n(165077),v=n(764019),w=n(131350),T=n(797811),k=n(579038),x=n(816665),N=n(262712),I=n(118966),S=n(903398),L=n(502965),A=n(407023),M=n(527955),O=n(865328),R=n(775731),B=n(497435),F=n(322027),P=n(62573),D=n(939206),U=n(555282),V=n(754556);let H="https://help.figma.com/hc/articles/16822138920343-Use-AI-tools-in-Figma",j="used_figjam_ai_quick_actions",z=(0,v.r1)(j);function Z(){let e=(0,O.Yh)(),t=(0,m.g)(),n=function(){let e=(0,s.md)(M.f).positionRelativeToSelection,{summarizeCanvasSelection:t}=(0,L.ss)(e),{clusterCanvasSelection:n}=(0,I.Z)();return e=>{let a=d.lQ,o="";if(e){switch(e.type){case O.Uj.SUMMARIZE:a=t,o="inline-menu-organize-summarize";break;case O.Uj.CLUSTER:a=n,o="inline-menu-organize-cluster";break;case O.Uj.TIDY_UP:a=()=>w.Y5.triggerActionInUserEditScope("tidy-up"),o="inline-menu-organize-tidy-up";break;case O.Uj.WRAP_IN_SECTION:a=()=>w.Y5.triggerActionInUserEditScope("create-section-from-selection"),o="inline-menu-organize-wrap-in-section"}T.l7.user(o,a)}}}(),o=(0,c.kc)().figjam_synthesize_handbrake,[i,l]=a.useState(!1),p=(0,c.kc)().figjam_inline_menu_organize_aria?(0,E.t)("whiteboard.inline_menu.organize_dropdown_options_aria_label"):(0,E.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_options_aria_label");return a.createElement(y.fu,{name:"organize_menu_dropdown"},a.createElement(B.Fn,{value:void 0,overrideMenuOpenState:{isOpenOverride:i,setIsOpenOverride:l},onChange:n,renderButton:({onClick:e,onKeyDown:n,ref:i})=>a.createElement(q,{onClick:e,onKeyDown:n,buttonRef:i,ariaWrapperId:t,disabled:!!o,trackingProperties:{text:"organize dropdown button"}}),options:e,renderOption:W,OptionWrapper:function({children:e}){return a.createElement("div",{className:"organize_actions_control--flexColumn--p-Sra","aria-label":p,id:t,role:"listbox",tabIndex:-1,"data-fullscreen-intercept":!0},e)},positionX:e=>e.x,popoverClassName:"organize_actions_control--popover--l143N",additionalContentsTop:a.createElement("div",{className:h.cx.mt4.$}),additionalOptions:$,additionalOptionOnChange:()=>{(0,u.Lf)(H)||r.Ay.unsafeRedirect(H,"_blank")}}))}let q=(0,y.tf)(function({onClick:e,onKeyDown:t,buttonRef:n,ariaWrapperId:i,disabled:r}){let m=(0,o.wA)(),u=(0,s.md)(z).data,_=(0,S.CI)(),[f,h]=a.useState(0),b=(0,c.kc)().figjam_synthesize_handbrake,v=(0,c.kc)().figjam_inline_menu_organize_aria?(0,E.t)("whiteboard.inline_menu.organize_dropdown_button_aria_label"):(0,E.t)("whiteboard.inline_menu.ai_quick_actions_button_aria_label");return a.createElement(R.$n,{tooltip:b?k.MW.AI_FEATURES_DISABLED:void 0,tooltipType:b?k.Ib.SPECIAL:void 0,onClick:r?d.lQ:()=>{e(),m(C.b({[j]:!0}))},disabled:r||b,onKeyDown:t,ariaControls:i,ref:n,recordingKey:"inline_menu_organize_dropdown_button",testId:"inline_menu_organize_dropdown_button",caret:"down",role:"combobox",onboardingKey:A.Su,ariaLabel:v,buttonStyle:{width:"auto",paddingRight:24},buttonChildrenStyle:{justifyContent:"initial",width:"initial"}},a.createElement("div",{className:l()("organize_actions_control--withBadge--2qE6m")},a.createElement("div",{className:"organize_actions_control--buttonIconContainer--7BE5y"},a.createElement(g.B,{svg:U.A,className:l()("organize_actions_control--svgIcon--Y27OU",{"organize_actions_control--svgIconDisabled--siNy6":r})})),a.createElement(E.Tx,{id:"whiteboard.inline_menu.organize_button_text"}),!u&&_&&a.createElement(y.fu,{name:"organize_actions_onboarding_badge"},a.createElement("div",{style:{paddingLeft:8},ref:e=>{h((null==e?void 0:e.offsetWidth)||f)}},a.createElement(p.Ex,{text:(0,c.kc)().figjam_inline_menu_try_ai_2?(0,E.t)("whiteboard.inline_menu.ai_quick_actions_onboarding_badge_2"):(0,E.t)("whiteboard.inline_menu.ai_quick_actions_onboarding_badge"),color:p.zE.FIGJAM,size:p.vj.SMALL,className:"organize_actions_control--onboardingBadge--NG7o-"})))))});function $(e){return a.createElement(a.Fragment,null,a.createElement(_.W.Separator,{key:"menu-separator-token"}),a.createElement("div",{className:"organize_actions_control--dropdownFooterContainer--XB0Mw"},a.createElement("span",null,a.createElement("span",{className:"organize_actions_control--dropdownFooterDisclaimer--Z7B2y"},`${(0,E.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer")} `),a.createElement(f.N,{className:l()("organize_actions_control--dropdownFooterCta--vLKEN",{"organize_actions_control--dropdownFooterCtaIsFocused--Jspdm":e}),href:H,target:"_blank",trusted:!0},a.createElement(E.Tx,{id:"whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer_cta"})))))}let W=e=>{let{value:t,onClick:n,id:o,isFocused:i}=e;if(!t)return null;let{type:l,enabled:r}=t,{displayText:c,svgSrc:s,disabledTooltipText:d}=function(e){switch(e){case O.Uj.SUMMARIZE:return{displayText:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_summarize_button"),svgSrc:P.A,disabledTooltipText:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_summarize_disabled_tooltip",{minSelectedStickies:2})};case O.Uj.CLUSTER:return{displayText:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_button"),svgSrc:F.A,disabledTooltipText:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_disabled_tooltip",{minSelectedStickies:2})};case O.Uj.WRAP_IN_SECTION:return{displayText:"Wrap in section",svgSrc:D.A};case O.Uj.TIDY_UP:return{displayText:"Tidy up",svgSrc:V.A}}}(l),m=function(e){switch(e){case O.Uj.SUMMARIZE:return"summarize";case O.Uj.CLUSTER:return"sort stickies";default:return"other ai action"}}(l);return a.createElement(K,{key:`${l}-menu-option`,id:o,type:l,displayText:c,svgSrc:s,disabledTooltipText:d,disabled:!r,onClick:n,isFocused:i,trackingProperties:{text:m}})};function G(e){return`inline_menu_organize_option-${e}`}let K=(0,y.tf)(function({id:e,type:t,displayText:n,svgSrc:o,disabledTooltipText:i,disabled:r,onClick:c,isFocused:s}){let m=[O.Uj.SUMMARIZE,O.Uj.CLUSTER].includes(t);return a.createElement("div",{id:e,className:l()("organize_actions_control--optionContainer--RtoCw",{"organize_actions_control--optionContainerDisabled--mB76I":r,"organize_actions_control--optionContainerIsFocused--8x27n":s}),"aria-label":n,"aria-selected":"false",role:"option",tabIndex:-1,"data-tooltip-type":k.Ib.TEXT,"data-tooltip":r&&i?i:"","data-tooltip-tip-align-left":!0,"data-tooltip-text-left":!0,"data-tooltip-show-right":!0,"data-tooltip-offset-x":6},a.createElement(x.c$,{disabled:r,recordingKey:G(t),"data-testid":G(t),dataTestId:G(t),key:`option-${t}`,value:t,height:32,fullWidth:!0,svg:o,children:a.createElement("div",{className:h.cx.flex.justifyBetween.itemsCenter.pr16.$},a.createElement(b.E,{truncate:!0},n),m&&a.createElement(N.G,{location:"INLINE_TOOLBAR",overrideText:(0,E.t)("whiteboard.inline_menu.organize_quick_actions_button_beta_badge_text"),hoverStyleClassName:"organize_actions_control--aiBetaBadge--F1z9L"})),additionalStylesClassName:void 0,selected:!1,onMouseUp:r?d.lQ:c,style:{marginLeft:8},ignoreCheck:!0}))})},199825:(e,t,n)=>{n.d(t,{jk:()=>H});var a=n(411855),o=n(188507),i=n(629019),l=n.n(i),r=n(539321),c=n(126049),s=n(479951),d=n(294608),m=n(483469),u=n(159849),p=n(829826),_=n(619258),f=n(959875),g=n(61415),h=n(266304),E=n(866263),b=n(797811),C=n(328613),y=n(376674),v=n(113420),w=n(579038),T=n(816665),k=n(809019),x=n(775731),N=n(840023);let I="widget_controls--label--YWqiO text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",S="widget_controls--img--bNdQj",L=(0,m.UJ)(e=>e.includes("xmlns")?"data:image/svg+xml;utf8,"+encodeURIComponent(e.trim()):(s.k.warn("Your widget must include the xmlns property on any SVGs used in the property menu. See https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg for more info"),null),1e3);function A(e){let t=(0,E.E3)(),n=e.icon?L(e.icon):null;return n?a.createElement(M,{label:e.label,propertyName:e.propertyName,href:e.href,size:t&&"design"===t?"small":"large",tooltip:e.tooltip,icon:n,onClick:e.onClick,active:e.active?e.active:"NONE"}):a.createElement(O,{label:e.label,propertyName:e.propertyName,href:e.href,tooltip:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE"})}function M(e){let t=e.href?a.createElement(_.N,{href:e.href,className:f.cx.cursorDefault.wFull.hFull.$,target:"_blank",trusted:!1},a.createElement("img",{src:e.icon,className:S,alt:`${e.propertyName}`})):a.createElement("img",{src:e.icon,className:S,alt:`${e.propertyName}`});return a.createElement(x.$n,{buttonStyle:{overflow:"hidden",flexShrink:0},size:e.size,tooltip:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE",recordingKey:(0,p.Pt)("widgetControl",e.propertyName)},t)}function O(e){let t=e.href?a.createElement(_.N,{href:e.href,className:l()([I,f.cx.cursorDefault.wFull.hFull.$]),target:"_blank",trusted:!1},e.label):a.createElement("span",{className:I},e.label);return a.createElement(x.$n,{className:f.cx.flexShrink0.$,tooltip:e.tooltip===e.label?void 0:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE",recordingKey:(0,p.Pt)("widgetControl",e.propertyName)},t)}function R({widgetInfo:e,item:t}){let n=(0,E.E3)(),o=b.nc.user("widget-select-color",n=>{let a=(0,r.colorToHex)(n.option);C.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,_[a]??a)}),i=(0,c.A)(o,100),[l,d]=a.useState(!1),m=[t.selectedOption,...t.options.map(e=>e.option)],u={},_={};for(let e of m)try{let t=h.z5.parse(e);u[e]=t,_[(0,r.colorToHex)(t)]=e}catch(t){return s.k.warn(`Cannot render widget color selector. ${e} is an invalid color.`),a.createElement("div",{"data-testid":"emptyColorSelector"})}let f="design"===n;return a.createElement(k.qW,{value:{option:u[t.selectedOption]},options:t.options.map(e=>({option:u[e.option],tooltip:e.tooltip})),onColorChange:e=>{i(e)},paletteType:"widget",buttonSize:f?"xsmall":"small",optionSize:"medium",isDesignInlineMenu:f,inlineButtonTooltip:t.tooltip,recordingKey:(0,p.Pt)("widgetControl",t.propertyName),isColorPopoverOpen:l,setIsColorPopoverOpen:d})}function B({widgetInfo:e,item:t}){return a.createElement(A,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:t.icon,onClick:b.nc.user("widget-action",()=>{C.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,null)})})}class F extends T.l6{}class P extends T.c${}function D({item:e,widgetInfo:t}){let n=(0,E.E3)(),i=(0,o.wA)(),l=(0,v.U)(),r=e.options.find(t=>t.option===e.selectedOption),c=(0,p.Pt)("widgetControl",e.propertyName),s=n&&"design"===n;return a.createElement("div",{className:s?void 0:N.kL,"data-tooltip-show-above":!0,"data-tooltip-type":w.Ib.TEXT,"data-tooltip":e.tooltip},a.createElement(F,{property:{option:e.selectedOption,tooltip:r?r.tooltip:e.selectedOption},className:s?"widget_controls--select---Nqnq text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L":N.Lt,chevronClassName:s?"widget_controls--chevron--a3ua2":N.ai,inputClassName:s?"widget_controls--input--Z6nHO":N.hF,dropdownClassName:g.Dm,id:`widgetControl.${e.propertyName}`,formatter:{format:e=>e.tooltip,isEqual:(e,t)=>e.option===t.option},onChange:n=>{C.x.runPropertyMenuCallback(t.pluginID,t.widgetID,e.propertyName,n.option)},blurOnChange:!0,recordingKey:c,dispatch:i,dropdownShown:l,targetDomNode:document.body,dropdownWidth:144,dropdownAlignment:"left"},e.options.map((t,n)=>a.createElement(P,{key:n,value:t,formattedValue:t.tooltip,recordingKey:(0,p.Pt)(c,t.option),selected:e.selectedOption===t.option,truncateInMiddle:!0}))))}function U({widgetInfo:e,item:t}){return a.createElement(A,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:t.icon,active:t.isToggled?"LOUD":"NONE",onClick:b.nc.user("widget-toggle",()=>{C.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,null)})})}function V({widgetInfo:e,item:t}){let n;let o="https://www.figma.com/exit?url="+t.href;return null!==t.icon&&(n=t.icon?t.icon:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M12 12H16V13H13V27H27V24H28V27V28H13H12V27V13V12ZM27.0001 13H26.9913L27.0001 13.0088V13ZM20.0001 13H26.2999L17.0251 22.2747L17.7323 22.9818L27.0001 13.714V20H28.0001V12.5V12H27.5001H20.0001V13Z" fill="white" fill-opacity="0.8"/></svg>'),a.createElement(A,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:n,onClick:u.lQ,href:o})}function H(){let e=function(){let e=(0,d.R)(e=>e.mirror.selectionProperties.selectedWidgetInfo);return a.useMemo(()=>{if(!e)return e;let{pluginID:t}=e;if(!(0,y.Vi)(t))return e;let n=e.propertyMenu.map(e=>"separator"===e.itemType?e:{...e,tooltip:(0,y.kZ)(t,e.propertyName)||e.tooltip});return{...e,propertyMenu:n}},[e])}();return e&&e.propertyMenu.length?a.createElement(a.Fragment,null,e.propertyMenu.map((t,n)=>{switch(t.itemType){case"action":return a.createElement(B,{key:n,item:t,widgetInfo:e});case"separator":return a.createElement(x.wv,{key:n});case"color-selector":return a.createElement(R,{key:n,item:t,widgetInfo:e});case"dropdown":return a.createElement(D,{key:n,item:t,widgetInfo:e});case"toggle":return a.createElement(U,{key:n,item:t,widgetInfo:e});case"link":return a.createElement(V,{key:n,item:t,widgetInfo:e})}})):null}},202613:(e,t,n)=>{n.d(t,{x:()=>N});var a=n(411855),o=n(188507),i=n(636149),l=n.n(i),r=n(613064),c=n(294608),s=n(829826),d=n(828675),m=n(988533),u=n(999231),p=n(633470),_=n(969456),f=n(574512),g=n(736176),h=n(944725),E=n(579038),b=n(673327),C=n(716928),y=n(775731),v=n(497435),w=n(961803);function T(e){let{tooltipName:t,tooltipDescription:n,plugin:o,onClick:i,caret:l,recordingKey:r}=e,c=(0,C._r)(),s=null;return s=(0,h.ZQ)(o)?a.createElement(y.K0,{caret:l,svg:w.A,onClick:i,recordingKey:r}):a.createElement(y.$n,{caret:l,onClick:i,recordingKey:r},a.createElement(b.V,{className:"plugin_relaunch_content--pluginIcon--dxgZD plugin--pluginIconBase--yAG5F",plugin:o,alt:`${t}: ${String(n)}`})),a.createElement("div",{"data-tooltip":E.MW.FIGJAM_PLUGIN_RELAUNCH_BUTTON_INFO,"data-tooltip-type":c&&t?E.Ib.SPECIAL:void 0,"data-tooltip-show-above":!0,"data-tooltip-name":t,"data-tooltip-description":n},s)}function k({children:e}){return a.createElement("div",{className:"plugin_relaunch_content--flexColumn--3aDVl"},e)}function x(e){let{relaunchData:t}=e,n=e=>parseInt(e||"0");return a.createElement(v.Fn,{onChange:a=>{let o=t[n(a)];e.onSelect(o)},value:null,renderOption:({value:e,onClick:o})=>{let i=n(e),l=t[i],r=l.relaunchButton.name.length>34||"string"==typeof l.relaunchButton.description&&l.relaunchButton.description.length>34;return a.createElement("div",{key:`${l.pluginTypeAndID}-${e}`,"data-tooltip":E.MW.FIGJAM_PLUGIN_RELAUNCH_BUTTON_INFO,"data-tooltip-type":l.relaunchButton.name&&r?E.Ib.SPECIAL:void 0,"data-tooltip-show-right":!0,"data-tooltip-name":l.relaunchButton.name,"data-tooltip-description":l.relaunchButton.description},a.createElement(d.D8,{className:"plugin_relaunch_content--menuItem--fZT86",onClick:o,role:"button",recordingKey:(0,s.Pt)("relaunchMenuSelectorOption",l.pluginTypeAndID,l.relaunchButton.command)},a.createElement("div",{className:"plugin_relaunch_content--name--VYXnN text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L ellipsis--ellipsis--Tjyfa"},l.relaunchButton.name),l.relaunchButton.description&&a.createElement("div",{className:"plugin_relaunch_content--description--aAoGx text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k"},String(l.relaunchButton.description))),i!==t.length-1?a.createElement(y.wv,null):null)},renderButton:({onClick:e,value:o})=>{let i=t[n(o)];return a.createElement(T,{caret:"down",onClick:e,plugin:i.plugin,recordingKey:(0,s.Pt)("relaunchMenuSelectorIconButton",i.pluginTypeAndID)})},options:t.map((e,t)=>`${t}`),OptionWrapper:k})}function N(){let e=(0,c.R)(e=>e.mirror.selectionProperties.pluginRelaunchData),t=(0,o.d4)(e=>e.mirror.selectionProperties.numSelected),n=(0,c.R)(e=>e.publishedPlugins),i=(0,c.R)(e=>e.installedPluginVersions.plugins),d=(0,c.R)(e=>e.localPlugins),E=(0,u.Jl)((0,c.R)(e=>e)),b=(0,o.d4)(e=>{var t;return null==(t=e.openFile)?void 0:t.key}),C=(0,a.useRef)(new _.O(r.A.duration(1,"day"))),v=(0,o.wA)(),w=e=>{var t;return v(m.af({id:e,resourceType:(null==(t=n[e])?void 0:t.is_widget)?g.bD.WIDGET:g.bD.PLUGIN}))},k=(0,p.vA)(e,n,d,E,t||0,(e,t)=>C.current.debounceRefresh(e,()=>w(e),t),h.FW.FIGJAM),N=l()(k,e=>e.pluginTypeAndID),I=e=>{if(!b)return;let{canRun:t}=(0,p.JT)({plugin:e.plugin,publishedPlugins:n,orgEntity:E,installedPluginVersions:i,editorType:"whiteboard"});t&&f.R.instance.enqueue({mode:"run-forever",runPluginArgs:{plugin:e.plugin,openFileKey:b||"",command:e.relaunchButton.command,queryMode:!1,runMode:"default",triggeredFrom:"relaunch",ignoreForRunLastPlugin:!0,isWidget:!1}})};return 0===Object.values(N).length?null:a.createElement(a.Fragment,null,a.createElement(y.wv,null),Object.values(N).map(e=>{if(0===e.length)return;let t=e[0],n=`relaunch-button-${t.pluginTypeAndID}-${e.length}`;return 1===e.length?a.createElement(T,{key:n,caret:"none",tooltipName:t.relaunchButton.name,tooltipDescription:t.relaunchButton.description,plugin:t.plugin,onClick:()=>I(t),recordingKey:(0,s.Pt)("relaunchIconButton",t.pluginTypeAndID,t.relaunchButton.command)}):a.createElement(x,{key:n,relaunchData:e,onSelect:I})}))}},849537:(e,t,n)=>{n.d(t,{p:()=>s});var a=n(411855),o=n(629019),i=n.n(o),l=n(218017),r=n(487644),c=n(165077);let s=(0,a.memo)(function(e){let{leftContent:t,content:n,rightContent:o,trackingContext:i="DLT Banner",onClose:r}=e;return a.createElement(c.fu,{name:i},a.createElement("div",{className:"dlt_banner--banner--nGI-J"},a.createElement(d,{leftContent:t}),a.createElement(m,{content:n}),o,r?a.createElement(l.Jn,{className:"dlt_banner--closeButton--aDZdN",onClick:r,trackingEventName:"dlt_banner_closed",recordingKey:"dltBanner"}):null))}),d=(0,a.memo)(function(e){let{icon:t,text:n}=e.leftContent??{},o=t&&a.createElement("div",{className:"dlt_banner--icon--gtxyL"},a.createElement(r.B,{svg:t})),l=n&&a.createElement("b",null,n);return a.createElement("div",{className:i()("dlt_banner--leftContent--5Yk4A text--fontPos12--YsUAh text--_fontBase--QdLsd",n&&t?"dlt_banner--leftContentIconAndText--QjRmB":n?"dlt_banner--leftContentOnlyText--4VC-I":t?"dlt_banner--leftContentOnlyIcon--Nb45Y":"dlt_banner--leftContentEmpty--dXeoN")},o,l)}),m=(0,a.memo)(function(e){let{content:t}=e;return a.createElement("div",{className:"dlt_banner--mainContent--eTkSu text--fontPos12--YsUAh text--_fontBase--QdLsd"},t)})},292910:(e,t,n)=>{n.d(t,{X:()=>Y,O:()=>en});var a=n(411855),o=n(188507),i=n(629019),l=n.n(i),r=n(868879),c=n(611464),s=n(732326),d=n(159849),m=n(344298),u=n(402791),p=n(346532),_=n(145546),f=n(390380),g=n(613431),h=n(764019),E=n(131350),b=n(664080),C=n(449565),y=n(947680),v=n(721401),w=n(646300),T=n(706059),k=n(574079),x=n(787145),N=n(294608),I=n(983245);n(147944);var S=n(794095),L=n(509047),A=n(113420),M=n(127161),O=n(781074),R=n(120550),B=n(949322),F=n(507026);function P({dismissModal:e,targetKey:t=F.oi.ZOOM}){let n=(0,o.wA)(),i=(0,N.R)(({mirror:{appModel:e}})=>e.showUi),l=(0,A.U)(),r=(0,a.useRef)(!1),c=(0,S.q)(),s=(0,a.useCallback)(()=>{e(),n(I.oB())},[e,n]);return(0,a.useEffect)(()=>{r.current&&!(0,M.TY)(l)&&e()},[e,l]),(0,a.useEffect)(()=>{if(c&&!r.current){if((0,M.TY)(l))n(I.ho({type:M.pi,data:{selectionToUpdate:L.m7W.PREFERENCES}}));else{let e=i?42:0;n(I.j7({type:M.pi,data:{targetRect:{top:0,right:e,bottom:e,left:0,width:e,height:e},togglePreferences:!0},hasOwnEscKeyHandler:!0}))}r.current=!0}},[n,l,c,i]),a.createElement(O.rq,{isShowing:!0,trackingContextName:"new_user_pan_zoom_pref_tooltip",onClose:s,targetKey:t,emphasized:!0,title:a.createElement(u.Tx,{id:"mouse_controls_modal.new_user.title"}),description:a.createElement(u.Tx,{id:"mouse_controls_modal.new_user.description"}),arrowPosition:R.F_.LEFT_TITLE})}n(194031),n(840054);var D=n(849537);function U(){return a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.80079 15.0786V10.2857H5.80079V15.0786L6.94724 13.9322L7.65434 14.6393L5.30079 16.9928L2.94724 14.6393L3.65434 13.9322L4.80079 15.0786Z",fill:"#8638E5"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.80077 20.2071V25H4.80077V20.2071L3.65433 21.3536L2.94722 20.6464L5.30077 18.2929L7.65433 20.6464L6.94722 21.3536L5.80077 20.2071Z",fill:"#8638E5"}),a.createElement("path",{d:"M8.22183 11.7644C7.44078 10.9834 7.44078 9.71705 8.22183 8.93601C9.00288 8.15496 10.2692 8.15496 11.0503 8.93601L18.8284 16.7142L16 19.5426L8.22183 11.7644Z",fill:"white"}),a.createElement("path",{d:"M8.57538 11.4109C7.9896 10.8251 7.9896 9.87535 8.57538 9.28956C9.16117 8.70377 10.1109 8.70377 10.6967 9.28956L18.1213 16.7142L16 18.8355L8.57538 11.4109Z",stroke:"black",strokeOpacity:"0.9"}),a.createElement("path",{d:"M13.171 12.4716C12.39 11.6905 12.39 10.4242 13.171 9.64316C13.9521 8.86211 15.2184 8.86211 15.9995 9.64316L20.9492 14.5929L18.1208 17.4213L13.171 12.4716Z",fill:"white"}),a.createElement("path",{d:"M13.5246 12.118C12.9388 11.5322 12.9388 10.5825 13.5246 9.99671C14.1104 9.41093 15.0601 9.41093 15.6459 9.99671L20.2421 14.5929L18.1208 16.7142L13.5246 12.118Z",stroke:"black",strokeOpacity:"0.9"}),a.createElement("path",{d:"M15.9992 11.0574C15.2181 10.2764 15.2181 9.01002 15.9992 8.22897C16.7802 7.44793 18.0466 7.44793 18.8276 8.22897L23.0702 12.4716L20.2418 15.3L15.9992 11.0574Z",fill:"white"}),a.createElement("path",{d:"M16.3527 10.7038C15.7669 10.1181 15.7669 9.16831 16.3527 8.58253C16.9385 7.99674 17.8883 7.99674 18.474 8.58253L22.3631 12.4716L20.2418 14.5929L16.3527 10.7038Z",stroke:"black",strokeOpacity:"0.9"}),a.createElement("path",{d:"M19.5353 10.3502C18.7543 9.5692 18.7543 8.30287 19.5353 7.52182C20.3164 6.74077 21.5827 6.74077 22.3637 7.52182L25.1922 10.3502L22.3637 13.1787L19.5353 10.3502Z",fill:"white"}),a.createElement("path",{d:"M19.8889 9.9967C19.3031 9.41091 19.3031 8.46116 19.8889 7.87538C20.4746 7.28959 21.4244 7.28959 22.0102 7.87538L24.4851 10.3502L22.3637 12.4716L19.8889 9.9967Z",stroke:"black",strokeOpacity:"0.9"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0144L25.8992 22.3711C29.0234 19.2469 29.0234 14.1816 25.8992 11.0574L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.4619 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0143L28.0205 20.2498C29.9732 18.2972 29.9732 15.1313 28.0205 13.1787L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.4619 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0143L28.0205 20.2498C29.9732 18.2972 29.9732 15.1313 28.0205 13.1787L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.462 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897ZM17.3246 19.6318L25.1921 11.7644L27.3134 13.8858C28.8755 15.4479 28.8755 17.9806 27.3134 19.5427L24.7125 22.1436L24.7101 22.1445L24.2113 22.6433C22.0103 24.008 19.3228 24.3498 16.8477 23.5758L10.9742 21.7391C11.4561 20.7767 12.5552 20.2721 13.6117 20.5555L15.8649 21.16C16.8504 21.4244 17.5982 20.4627 17.3246 19.6318Z",fill:"black",fillOpacity:"0.9"}),a.createElement("rect",{x:"15.292",y:"17.4214",width:"2",height:"4",transform:"rotate(-45 15.292 17.4214)",fill:"white"}),a.createElement("path",{d:"M16.2617 18.3853C16.7382 18.8834 17.3334 19.5012 17.3555 19.7388L17.7643 19.562L16.2617 18.3853Z",fill:"white"}),a.createElement("rect",{x:"17.4141",y:"15.3",width:"2",height:"4",transform:"rotate(-45 17.4141 15.3)",fill:"white"}),a.createElement("rect",{x:"19.5352",y:"13.1787",width:"2",height:"4",transform:"rotate(-45 19.5352 13.1787)",fill:"white"}),a.createElement("rect",{x:"23.0703",y:"13.8859",width:"2",height:"4",transform:"rotate(-45 23.0703 13.8859)",fill:"white"}),a.createElement("rect",{x:"21.6562",y:"11.0574",width:"2",height:"4",transform:"rotate(-45 21.6562 11.0574)",fill:"white"}),a.createElement("path",{d:"M20.9492 20.2498L28.0203 13.1787V13.1787C29.9729 15.1313 29.9729 18.2971 28.0203 20.2498L25 23.27L24.5 23.5L20.9492 20.2498Z",fill:"white"}),a.createElement("path",{d:"M27.3137 13.8858C27.509 14.0811 27.8256 14.0811 28.0208 13.8858C28.2161 13.6906 28.2161 13.374 28.0208 13.1787L27.3137 13.8858ZM24.4853 11.0574L27.3137 13.8858L28.0208 13.1787L25.1924 10.3503L24.4853 11.0574Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.8514 23.4906L24.0517 23.882L23.6121 22.9839L24.4118 22.5924L24.8514 23.4906Z",fill:"white"}),a.createElement("path",{d:"M24.8516 23.4907C25.0996 23.3693 25.2022 23.0698 25.0808 22.8218C24.9594 22.5738 24.6599 22.4711 24.4119 22.5926L24.8516 23.4907ZM24.0519 23.8822L24.8516 23.4907L24.4119 22.5926L23.6122 22.984L24.0519 23.8822Z",fill:"black",fillOpacity:"0.9"}))}function V(){return a.createElement("svg",{width:"17",height:"24",viewBox:"0 0 17 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{width:"16.8",height:"24",rx:"8.4",fill:"white"}),a.createElement("rect",{x:"0.5",y:"0.5",width:"15.8",height:"23",rx:"7.9",stroke:"black",strokeOpacity:"0.9"}),a.createElement("rect",{x:"6",y:"4.80005",width:"4.8",height:"8.4",rx:"2.4",fill:"#9747FF"}),a.createElement("rect",{x:"6.5",y:"5.30005",width:"3.8",height:"7.4",rx:"1.9",stroke:"black",strokeOpacity:"0.9"}))}function H(){return a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{width:"16.8007",height:"24",rx:"8.40036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 25.2197 6.58252)",fill:"white"}),a.createElement("rect",{x:"-0.61236",y:"0.353557",width:"15.8007",height:"23",rx:"7.90036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 24.1074 6.43607)",stroke:"black",strokeOpacity:"0.9"}),a.createElement("path",{d:"M14.0391 15.7617L21.5291 17.7686L23.2014 14.0238L22.377 9.61005L19.7149 6.10149L16.8341 5.32959L14.0391 15.7617Z",fill:"#9747FF"}),a.createElement("rect",{x:"-0.61236",y:"0.353557",width:"15.8007",height:"23",rx:"7.90036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 24.1074 6.43607)",stroke:"black",strokeOpacity:"0.9"}),a.createElement("rect",{width:"4.8002",height:"8.4",rx:"2.4001",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 18.1826 9.66602)",fill:"white"}),a.createElement("rect",{x:"-0.61236",y:"0.353557",width:"3.8002",height:"7.4",rx:"1.9001",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 17.0703 9.51957)",stroke:"black",strokeOpacity:"0.9"}))}function j(){return a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.3535 6.50001H19V7.50001H21.3535L20.2071 8.64645L20.9142 9.35356L23.2677 7.00001L20.9142 4.64645L20.2071 5.35356L21.3535 6.50001Z",fill:"#8638E5"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.64649 6.50001H10V7.50001H7.64649L8.79293 8.64645L8.08583 9.35356L5.73227 7.00001L8.08583 4.64645L8.79293 5.35356L7.64649 6.50001Z",fill:"#8638E5"}),a.createElement("path",{d:"M11 8C11 6.89543 11.8954 6 13 6V6C14.1046 6 15 6.89543 15 8V19H11V8Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 18V8C14 7.44772 13.5523 7 13 7C12.4477 7 12 7.44772 12 8V18H14ZM13 6C11.8954 6 11 6.89543 11 8V19H15V8C15 6.89543 14.1046 6 13 6Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M8 13.8C8 13.3582 8.35817 13 8.8 13C10.5673 13 12 14.4327 12 16.2V27H10L8.71523 23.7881C8.24275 22.6069 8 21.3464 8 20.0742V13.8Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 26V16.2C11 15.0524 10.1213 14.11 9 14.009V20.0742C9 21.2192 9.21848 22.3536 9.64371 23.4167L10.677 26H11ZM10 27L8.71523 23.7881C8.24275 22.6069 8 21.3464 8 20.0742V13.8C8 13.3582 8.35817 13 8.8 13C10.5673 13 12 14.4327 12 16.2V27H10Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M14 6C14 4.89543 14.8954 4 16 4V4C17.1046 4 18 4.89543 18 6V19H14V6Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 18V6C17 5.44772 16.5523 5 16 5C15.4477 5 15 5.44772 15 6V18H17ZM16 4C14.8954 4 14 4.89543 14 6V19H18V6C18 4.89543 17.1046 4 16 4Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M17 13C17 11.8954 17.8954 11 19 11V11C20.1046 11 21 11.8954 21 13V19H17V13Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 18V13C20 12.4477 19.5523 12 19 12C18.4477 12 18 12.4477 18 13V18H20ZM19 11C17.8954 11 17 11.8954 17 13V19H21V13C21 11.8954 20.1046 11 19 11Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M20 15C20 13.8954 20.8954 13 22 13V13C23.1046 13 24 13.8954 24 15V19H20V15Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 18V15C23 14.4477 22.5523 14 22 14C21.4477 14 21 14.4477 21 15V18H23ZM22 13C20.8954 13 20 13.8954 20 15V19H24V15C24 13.8954 23.1046 13 22 13Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M11 19H24V21.7689C24 22.5866 23.8997 23.4011 23.7014 24.1943L23 27H11V19Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 20H12V26H22.2192L22.7313 23.9518C22.9098 23.2379 23 22.5048 23 21.7689V20ZM23 27H11V19H24V21.7689C24 22.5866 23.8997 23.4011 23.7014 24.1943L23 27Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M11 19H22V27H11V19Z",fill:"white"}),a.createElement("path",{d:"M15 17C15 17.2761 14.7761 17.5 14.5 17.5C14.2239 17.5 14 17.2761 14 17C14 16.7239 14.2239 16.5 14.5 16.5C14.7761 16.5 15 16.7239 15 17Z",fill:"white"}),a.createElement("path",{d:"M12 19C12 19.2761 11.7761 19.5 11.5 19.5C11.2239 19.5 11 19.2761 11 19C11 18.7239 11.2239 18.5 11.5 18.5C11.7761 18.5 12 18.7239 12 19Z",fill:"white"}),a.createElement("path",{d:"M18 17C18 17.2761 17.7761 17.5 17.5 17.5C17.2239 17.5 17 17.2761 17 17C17 16.7239 17.2239 16.5 17.5 16.5C17.7761 16.5 18 16.7239 18 17Z",fill:"white"}),a.createElement("path",{d:"M21 18C21 18.2761 20.7761 18.5 20.5 18.5C20.2239 18.5 20 18.2761 20 18C20 17.7239 20.2239 17.5 20.5 17.5C20.7761 17.5 21 17.7239 21 18Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 17.5C14.7761 17.5 15 17.2761 15 17C15 16.7239 14.7761 16.5 14.5 16.5C14.2239 16.5 14 16.7239 14 17C14 17.2761 14.2239 17.5 14.5 17.5Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 19.5C11.7761 19.5 12 19.2761 12 19C12 18.7239 11.7761 18.5 11.5 18.5C11.2239 18.5 11 18.7239 11 19C11 19.2761 11.2239 19.5 11.5 19.5Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 17.5C17.7761 17.5 18 17.2761 18 17C18 16.7239 17.7761 16.5 17.5 16.5C17.2239 16.5 17 16.7239 17 17C17 17.2761 17.2239 17.5 17.5 17.5Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.5 18.5C20.7761 18.5 21 18.2761 21 18C21 17.7239 20.7761 17.5 20.5 17.5C20.2239 17.5 20 17.7239 20 18C20 18.2761 20.2239 18.5 20.5 18.5Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M10 26H23V26.6C23 26.8209 22.8209 27 22.6 27H10.4C10.1791 27 10 26.8209 10 26.6V26Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.6941 24.8912C9.95025 24.788 10.2415 24.9121 10.3447 25.1682L10.84 26.3984C10.9431 26.6545 10.8191 26.9458 10.5629 27.049C10.3068 27.1521 10.0155 27.0281 9.91238 26.7719L9.41704 25.5417C9.3139 25.2856 9.43794 24.9943 9.6941 24.8912Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.0231 24.8459C22.7554 24.7781 22.4835 24.9402 22.4157 25.2079L22.0949 26.4752C22.0271 26.7429 22.1892 27.0148 22.4569 27.0826C22.7246 27.1503 22.9965 26.9883 23.0643 26.7206L23.3851 25.4533C23.4529 25.1856 23.2908 24.9136 23.0231 24.8459Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.6941 24.8912C9.95025 24.788 10.2415 24.9121 10.3447 25.1682L10.84 26.3984C10.9431 26.6545 10.8191 26.9458 10.5629 27.049C10.3068 27.1521 10.0155 27.0281 9.91238 26.7719L9.41704 25.5417C9.3139 25.2856 9.43794 24.9943 9.6941 24.8912Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.0231 24.8459C22.7554 24.7781 22.4835 24.9402 22.4157 25.2079L22.0949 26.4752C22.0271 26.7429 22.1892 27.0148 22.4569 27.0826C22.7246 27.1503 22.9965 26.9883 23.0643 26.7206L23.3851 25.4533C23.4529 25.1856 23.2908 24.9136 23.0231 24.8459Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M20 18H23V21H20V18Z",fill:"white"}),a.createElement("path",{d:"M12 17H15V21H12V17Z",fill:"white"}),a.createElement("path",{d:"M16 17H19V21H16V17Z",fill:"white"}),a.createElement("path",{d:"M21 16H23V21H21V16Z",fill:"white"}),a.createElement("path",{d:"M18 16H20V26H18V16Z",fill:"white"}),a.createElement("path",{d:"M15 16H17V26H15V16Z",fill:"white"}),a.createElement("path",{d:"M12 16H14V26H12V16Z",fill:"white"}))}let z="figjam_pan_zoom_onboarding--icon--TaGJG",Z="figjam_pan_zoom_onboarding--bannerContainer--CsV0q",q={NEW_USER_PAN:"figjam_seen_new_user_dlt_pan",NEW_USER_ZOOM:"figjam_seen_new_user_dlt_zoom"};function $({children:e}){return a.createElement("span",{className:"figjam_pan_zoom_onboarding--boldedBannerText--Zx-EN"},e)}function W(e){let{onNext:t,onManualDismiss:n}=e,i=(0,o.wA)(),r=(0,a.useCallback)(()=>{i(p.b({[q.NEW_USER_ZOOM]:!0}))},[i]),c=(0,a.useCallback)(()=>{r(),n()},[r,n]),s=(0,a.useCallback)(()=>{r(),t()},[r,t]);return(0,a.useEffect)(()=>(b.glU.setUsedZoomAction(!1),E.Y5.fromFullscreen.on("zoomActionMessageForOnboarding",s),()=>{E.Y5.fromFullscreen.removeListener("zoomActionMessageForOnboarding",s)}),[i,s]),a.createElement(D.p,{trackingContext:"FigJam New User Zoom Banner",content:a.createElement("div",{className:Z},a.createElement(u.Tx,{id:"rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll",boldTextPinch:a.createElement(a.Fragment,null,a.createElement("span",{className:l()("figjam_pan_zoom_onboarding--zoomIcon--efDh8",z)},a.createElement(U,null)),a.createElement($,null,a.createElement(u.Tx,{id:"rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll_bold_text_pinch"}))),boldTextScroll:a.createElement(a.Fragment,null,a.createElement("span",{className:z},a.createElement(V,null)),a.createElement($,null,a.createElement(u.Tx,{id:"rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll_bold_text_scroll"})))})),rightContent:a.createElement(K,{onChangePreferences:e.onChangePreferences}),onClose:c})}function G(e){let{onManualDismiss:t}=e,[n,i]=(0,a.useState)(!1),l=(0,o.wA)();(0,r.h)(()=>{setTimeout(()=>{i(!0)},1e3)});let c=(0,a.useCallback)(()=>{l(p.b({[q.NEW_USER_PAN]:!0}))},[l]),s=(0,a.useCallback)(()=>{c(),t()},[c,t]);return((0,a.useEffect)(()=>{if(n)return b.glU.setUsedPanAction(!1),E.Y5.fromFullscreen.on("panActionMessageForOnboarding",s),()=>{E.Y5.fromFullscreen.removeListener("panActionMessageForOnboarding",s)}},[l,n,s]),n)?a.createElement(D.p,{trackingContext:"FigJam New User Pan Banner",content:a.createElement("div",{className:Z},a.createElement(u.Tx,{id:"rcs.figjam_pan.move_instructions",boldTextSwipe:a.createElement(a.Fragment,null,a.createElement("span",{className:z},a.createElement(j,null)),a.createElement($,null,a.createElement(u.Tx,{id:"rcs.figjam_pan.move_instructions_bold_text_swipe"}))),boldTextRightClick:a.createElement(a.Fragment,null,a.createElement("span",{className:z},a.createElement(H,null)),a.createElement($,null,a.createElement(u.Tx,{id:"rcs.figjam_pan.hold_right_click"})))})),rightContent:a.createElement(K,{onChangePreferences:e.onChangePreferences}),onClose:s}):null}function K({onChangePreferences:e}){return a.createElement("button",{onClick:e,className:"figjam_pan_zoom_onboarding--changePreferencesButton--0z5Xs text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement(u.Tx,{id:"rcs.figjam_pan_zoom_change_prefs"}))}function Y(){let e=(0,y.aV)(),t=(0,x.Td)(),n=(0,c.kc)().navigation_mode_scroll_to_pref&&(0,c.kc)().figjam_navigation_mode,i=(0,o.d4)(e=>e.isMakeSomethingV2Active);return t||!n||e||i?null:a.createElement(et,null)}let X=(0,h.r1)(q.NEW_USER_PAN),Q=(0,h.r1)(q.NEW_USER_ZOOM),J=(0,h.Fu)("figjam_editor_onboarded"),ee=[function(e){let{isOverlayShowing:t,next:n,complete:o,onChangePreferences:i}=e;return t?a.createElement(W,{onNext:n,onManualDismiss:o,onChangePreferences:i}):null},function(e){let{isOverlayShowing:t,complete:n,onChangePreferences:o}=e;return t?a.createElement(G,{onNext:n,onManualDismiss:n,onChangePreferences:o}):null}];function et(){let e=(0,s.md)(X),t=(0,s.md)(Q),n=(0,s.md)(J),o=(0,s.md)(g.Fy),i=(0,s.md)(g.g5),l=(0,s.md)(g.NT),r=(0,s.md)(T.w),[u,p]=(0,a.useState)(!1),h=(0,f.A)({numSteps:ee.length,onComplete:d.lQ}),{show:E,complete:b,isShowing:C}=(0,_.e)({overlay:B.eD$,priority:v.N.DEFAULT_MODAL},[e,t,n,o,i,l]);(0,a.useEffect)(()=>{let e=[T.tX.NOT_STARTED,T.tX.COMPLETED].includes(r),t=h.currentStep===ee.length-1;C||!e||t||E({canShow:(e,t,n,a,o,i)=>{let l=!m.Xb&&!m.aR,s=!!((0,c.kc)().navigation_mode_scroll_to_pref&&(0,c.kc)().figjam_navigation_mode),d=(0,k.d2)({emailValidatedAt:o,jobTitle:i});return![T.tX.USE_CASE_STEPS,T.tX.MODAL_SHOWING].includes(r)&&(!!n||d)&&!a&&!e&&!t&&l&&s}})},[C,r,E,h.currentStep]);let y=(0,a.useCallback)(()=>{p(!0)},[p]),x=(0,a.useCallback)(()=>{p(!1)},[p]);return C?a.createElement(a.Fragment,null,a.createElement(w.U,{currentStep:h.currentStep,children:ee.map((e,t)=>a.createElement(e,{isOverlayShowing:h.currentStep===t,next:h.next,complete:b,onChangePreferences:y})),isShowing:!0}),u?a.createElement(P,{dismissModal:x,targetKey:1===h.currentStep?F.oi.PAN:F.oi.ZOOM}):null):null}function en(){return(0,c.kc)().figjam_nav_new_user_onboarding&&(0,C.UK)().scrollWheelZoom.getCopy()&&(0,C.UK)().rightClickPan.getCopy()}},587405:(e,t,n)=>{n.d(t,{s:()=>T});var a=n(411855),o=n(188507),i=n(629019),l=n.n(i),r=n(709103),c=n(323434),s=n(320732),d=n(794307),m=n(829826),u=n(828675),p=n(91609),_=n(244126),f=n(131350),g=n(564511),h=n(664080),E=n(235441),b=n(534766),C=n(325512),y=n(759593),v=n(897717),w=n(935819);let T=a.memo(function({toolType:e,color:t,isSelected:n,onTap:i,onDragEnd:T,onDragStart:k,Icon:x,IconNoRef:N,toolbarIconScale:I,canvasToSvgScale:S,isDrawingSubmenuTool:L,isDragReversing:A,stickyAnimationState:M,isHovered:O,hoverOffsetAmount:R="DEFAULT"}){let{state:B,dispatch:F}=a.useContext(y.nS),P=(0,o.wA)(),D=B.draggedTool===e,U=B.draggedToolCanCancel,[V,H]=a.useState(!1),[j,z]=a.useState(!1),[Z,q]=a.useState(0);a.useEffect(()=>{let e=e=>{"Escape"===e.key&&D&&(F({type:"end drag"}),H(!1),q(Z+1))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[Z,D,e,F]),a.useEffect(()=>{let e=()=>{H(!1)};return document.addEventListener("pointerup",e),()=>{document.removeEventListener("pointerup",e)}},[H]),a.useEffect(()=>(D?document.body.classList.add(w.bz):document.body.classList.remove(w.bz),()=>{document.body.classList.remove(w.bz)}),[D]);let $=a.useRef(null),W=(0,b.Pl)({subscribeToUpdates_expensive:D}),G=function(e){switch(e){case"NONE":return 0;case"STICKY":return -20;case"DRAWING":return -22;case"DRAWING_SUBMENU":case"DEFAULT":return -24}}(R),K=a.useRef(null),Y=(0,r.d)(.5),X=(0,r.d)(.5),[Q,J]=a.useState(),ee=D?U?"whileDragShouldCancel":"whileDrag":"pencil"===e&&n?"hiddenPencil":V?"whileTap":L&&n?"selectedSubmenuTool":O?"whileHovering":"initial";if("connector"===e&&!D){let e=(0,g.oB)(_.F.parse(t));e.l>.9&&(t=_.F.formatHSLA({h:e.h,s:e.s,l:.9,a:e.a}))}return a.createElement(u.D8,{recordingKey:(0,C.hx)(`${e}.animatedIcon`),className:l()(w.ke,{[w.zO]:n,[w.bj]:O}),onPointerDown:()=>{if(H(!0),!v.T.RECORD_DETAILED_EVENTS)return m.aH},onPointerUp:()=>{if(H(!1),!v.T.RECORD_DETAILED_EVENTS)return m.aH},onTouchStart:e=>{e.preventDefault()},onTouchEnd:e=>{e.preventDefault(),!j&&B.shouldFinishClick&&i(),z(!1)},onContextMenu:e=>{e.preventDefault()}},a.createElement(c.N,{key:String(Z)},a.createElement(s.P.div,{"data-testid":v.T.getMotionDivId(e),"data-test-animate-state":ee,style:{originX:Y,originY:X},variants:{initial:{scale:1,y:0},selectedSubmenuTool:{y:G},whileTap:{y:G,scale:.93},whileDragShouldCancel:{y:G,scale:.93},whileDrag:{y:G,scale:W*(S||1)},whileHovering:{y:G},hiddenPencil:{y:72}},className:l()({[w.T6]:!U}),animate:ee,transition:{duration:.1,ease:[.12,.23,.5,1]},transformTemplate:(e,t)=>"translate3d(0px, 0px, 0) scale(1, 1)"===t?"none":t,drag:!!T,dragConstraints:{top:0,bottom:0,right:0,left:0},ref:K,onDragStart:(t,n)=>{F({type:"start drag",tool:e}),h.glU.triggerActionInUserEditScope("set-tool-default",{source:C.fK}),E.oW.trigger("action",h.KWd.CLEAR),P(p.jD());let a=K.current;if(a){let e=a.getBoundingClientRect();Y.set((n.point.x-e.x)/e.width),X.set((n.point.y-e.y)/e.height)}let o=$.current;if(o){let e=o.closest("."+w.kl);(0,d.KF)(e,"Delightful tool can't find containing toolbar!"),J(e.getBoundingClientRect()),k&&k()}},onDrag:(e,t)=>{var n;Q&&((n=t.point).x>=Q.x&&n.x<=Q.x+Q.width&&n.y>=Q.y||n.y>Q.y+Q.height)!==U&&F({type:"toggle drag cancellable"})},onDragEnd:(e,t)=>{if(z(!0),Y.set(.5),X.set(.5),U){F({type:"cancel drag"}),H(!1);return}let n=$.current;if(n){let t=n.getBoundingClientRect(),a=f.Y5.getViewportInfo(),o={x:t.left-a.x,y:t.top-a.y},i=(0,b.$$)(a,o),l=(0,b.$$)(a,{x:e.x-a.x,y:e.y-a.y});T&&T(i,l),F({type:"end drag"}),H(!1),q(Z+1)}else(0,d.KF)(!1,"Delightful tool is missing the toolref!")},dragElastic:1},x?a.createElement(x,{color:t,toolbarIconScale:I,ref:$,shouldAnimate:D,isReversing:A,stickyAnimationState:M,shouldDrawStroke:!D}):N)))})},443622:(e,t,n)=>{n.d(t,{s:()=>R,i:()=>B});var a=n(411855),o=n(629019),i=n.n(o),l=n(611464),r=n(732326),c=n(407931),s=n(244126),d=n(664080),m=n(797811),u=n(509047),p=n(947680),_=n(579038),f=n(197208),g=n(325512),h=n(759593),E=n(780833),b=n(587405),C=n(563923),y=n(467095),v=n(205728),w=n(58029),T=n(829826),k=n(129041),x=n(118530),N=n(553575),I=n(643013),S=n(764737),L=n(555285),A=n(935819);function M({recordingKey:e,isOpen:t}){let[n,o]=(0,r.fp)(c.qL),[i,l]=a.useState(!1),{openColorPalettePicker:m,closeColorPalettePicker:u}=(0,x.$J)(l),p=s.F.format(n);a.useEffect(()=>{u()},[t,u]);let _=e=>{o(e),d.glU.triggerActionInUserEditScope("set-tool-sticky",{source:g.fK})},f=e=>{_(e),O()},h=(0,x.Z9)(),E=h.type===k.Yv.CUSTOM,b=(0,w.TS)("sticky"),y=E?h.variations.sticky:b,v=(0,r.md)(N.Qv),A=!!v;return a.createElement(a.Fragment,null,a.createElement(C.br,{paddingRight:8,paddingLeft:8},a.createElement(L.V,{loadingPaletteCircleCount:v}),!A&&y.map((t,n)=>{let o=s.F.format(t),i=E?(0,w.AF)(n,"sticky"):(0,w.V_)(t,"sticky");return a.createElement(S.cd,{key:s.F.format(t)+"-"+n,size:"medium",value:t,selectionState:o===p?"selected":"unselected",paletteType:"sticky",background:"light",onClick:()=>f(t),tooltip:i,recordingKey:T.Pt(e,i)})}),a.createElement(I.s,{colorPalettePickerState:{openColorPalettePicker:m,closeColorPalettePicker:u,isColorPalettePickerOpen:i},defaultColorPaletteLength:b.length,recordingKey:T.Pt(e||"color-palettes","sticky")||"sticky",disabled:A,isInDltSubmenu:!0})))}let O=()=>{let e={duration:800,easing:"ease-out"},t={transform:"rotate(0) translate(0, 0)"},n=[t,{transform:"translate(32px, 32px) rotate(5deg) translate(0, -8px) translate(-32px, -32px)",offset:.1},{transform:"translate(32px, 32px) rotate(5deg) translate(0, -10px) translate(-32px, -32px)",offset:.35},t,{transform:"translate(-32px, 32px) rotate(-3deg) translate(32px, -32px) "},t,{transform:"translate(32px, 32px) rotate(1deg) translate(-32px, -32px) "},t];[A.eB,A.gz,A.Sk].forEach((t,a)=>{var o;null==(o=document.getElementsByClassName(t)[0].parentElement)||o.animate(n,{...e,delay:70*a})})},R="sticky";function B({toolbarIconScale:e}){let t;let n=(0,v.bu)(),o=(0,v.sT)(),T=(0,r.md)(c.qL),k=(0,p.aV)(),x=(0,l.kc)().figjam_differentiate_stickies,N=(0,l.kc)().figjam_differentiate_stickies_v3,I=x||N,[S,L]=(0,a.useState)(!1),[O,B]=(0,a.useState)(!1),[F,P]=(0,a.useState)(!1),[D,U]=(0,a.useState)(f.kk.DEFAULT);(0,a.useEffect)(()=>{if(!I&&S){let e=setTimeout(()=>L(!1),300);return()=>clearTimeout(e)}},[S]);let V=240/f.rX,H=(0,w.zS)(T,"sticky"),j=s.F.format(T),z=k||!H?(0,w.MV)(d.daH.STICKY_GRAY_LIGHT):(0,w.MV)(H,j),{state:Z,dispatch:q}=(0,a.useContext)(h.nS),$="sticky"===Z.submenu.tool,W=(0,a.useCallback)(()=>{o?d.glU.triggerActionInUserEditScope("set-tool-default",{source:g.fK}):(d.glU.triggerActionInUserEditScope("set-tool-sticky",{source:g.fK}),q({type:"open submenu",submenu:"sticky"}))},[o,q]),G=$||n||"shape"===Z.submenu.tool,{isHovered:K,onMouseEnter:Y,onMouseMove:X,onMouseLeave:Q,onTouchStart:J,onTouchEnd:ee}=(0,E.W)(W,G,!1),et=(0,a.useCallback)((e,t)=>{m.l7.user("drop-sticky-on-canvas",()=>d.glU.delightfulToolbarDropItemOntoCanvas(u.NLJ.STICKY,Math.round(e.x),Math.round(e.y),Math.round(t.x),Math.round(t.y))),I?(B(!1),P(!1),U(f.kk.DEFAULT)):L(!0)},[]),en=(0,a.useCallback)(()=>{I&&B(!0),N&&D===f.kk.DEFAULT&&U(f.kk.INITIAL_DRAG_ON_DLT)},[]);(0,a.useEffect)(()=>{x&&"sticky"===Z.draggedTool&&P(e=>{let t=Z.draggedToolCanCancel;return!e&&t&&O})},[Z,O]),(0,a.useEffect)(()=>{if(N){if("sticky"===Z.draggedTool){let e=!Z.draggedToolCanCancel;D===f.kk.INITIAL_DRAG_ON_DLT?e&&U(f.kk.DRAG_ON_CANVAS):D===f.kk.DRAG_ON_CANVAS?e||U(f.kk.DRAG_RETURN_TO_DLT):D===f.kk.DRAG_RETURN_TO_DLT&&e&&U(f.kk.DRAG_ON_CANVAS)}else Z.draggedTool||U(f.kk.DEFAULT)}},[Z,O,N,U,D]),t=N?f.UJ:x?f.N7:f.BV;let ea=I?O:S,eo=(0,a.useRef)(null);return a.createElement(C.XN,{alignment:"CENTER",innerRef:eo},a.createElement(C.ti,{isSelected:K||o||$,noScaleAnimation:!0},a.createElement(y.J7,{toolType:"sticky",recordingKey:(0,g.hx)("sticky"),isSelected:o,className:A.qf,onClick:W,"data-tooltip-type":_.Ib.LOOKUP,"data-tooltip":"set-tool-sticky",tooltipOffset:{offsetY:-26,offsetX:10},onboardingKey:R,isHovered:K,onMouseEnter:Y,onMouseMove:X,onMouseLeave:Q,onTouchStart:J,onTouchEnd:ee,hasOpenSubmenu:$},a.createElement("div",{className:i()(A.Sr,A.JQ)},a.createElement(b.s,{toolType:"sticky",color:z,isSelected:o,onTap:W,onDragStart:en,onDragEnd:et,Icon:t,toolbarIconScale:e,canvasToSvgScale:V,isDragReversing:F,isHovered:K,stickyAnimationState:D,hoverOffsetAmount:"STICKY"}),a.createElement(t,{toolOrder:2,color:z,toolbarIconScale:e,shouldAnimate:ea,isReversing:F,stickyAnimationState:D}),a.createElement(t,{toolOrder:3,color:z,toolbarIconScale:e,shouldAnimate:ea,isReversing:F,stickyAnimationState:D}),I?a.createElement(t,{toolOrder:4,color:z,toolbarIconScale:e,shouldAnimate:ea,isReversing:F,stickyAnimationState:D}):null))),a.createElement(C.Qw,{isOpen:o,fadedOut:K},a.createElement(M,{isOpen:o,recordingKey:(0,g.hx)("stickySubmenu")})))}},555285:(e,t,n)=>{n.d(t,{V:()=>r});var a=n(411855),o=n(629019),i=n.n(o),l=n(216817);let r=a.memo(function({loadingPaletteCircleCount:e}){let t=(0,l.Z)(e),n=t&&!e,o=n?t:e;return a.createElement("div",{className:i()("dlt_submenu_palette_skeleton--skeletonCircleContainer--zJP5v",{"dlt_submenu_palette_skeleton--isFadingOut--X7mcE":n})},[...Array(o)].map((e,t)=>a.createElement("div",{className:"dlt_submenu_palette_skeleton--skeletonCircleWrapper--jqySu",key:"skeleton-palette-"+t},a.createElement("div",{className:i()("dlt_submenu_palette_skeleton--skeletonCircle--S16JP",{"dlt_submenu_palette_skeleton--loading--NXGYD":!n}),style:{animationDelay:`${.1*t}s`}}))))})},785565:(e,t,n)=>{n.d(t,{az:()=>A,dQ:()=>L,f7:()=>M,Q6:()=>O});var a=n(197208),o=n(29295),i=n(411855),l=n(188507),r=n(664080),c=n(509047),s=n(579038),d=n(24319),m=n(325512),u=n(753028),p=n(467095),_=n(935819);let f=(0,i.memo)(function(){let e=(0,l.d4)(e=>{var t,n;return(null==(n=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:n.currentTool)===c.NLJ.SECTION}),t=(0,i.useCallback)(()=>{r.glU.triggerActionInUserEditScope(e?"set-tool-default":"set-tool-section",{source:m.fK})},[e]);return i.createElement(p.IB,{toolType:"section",recordingKey:(0,m.hx)("section"),isSelected:e,className:_.uW,onClick:t,"data-tooltip-type":s.Ib.LOOKUP,"data-tooltip":"set-tool-section",hasOpenSubmenu:!1,onboardingKey:d.pN},t=>i.createElement(u.gd,{toolType:"section",inactiveIcon:i.createElement(a.aO,null),hoveredIcon:i.createElement(a.wv,null),activeIcon:i.createElement(a.XU,null),isSelected:e,isHovered:t}))});var g=n(423723);let h=(0,i.memo)(function(){let e=(0,l.d4)(e=>{var t,n;return(null==(n=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:n.currentTool)===c.NLJ.TYPE}),t=(0,i.useCallback)(()=>{r.glU.triggerActionInUserEditScope(e?"set-tool-default":"set-tool-type",{source:m.fK})},[e]);return i.createElement(p.IB,{toolType:"text",recordingKey:(0,m.hx)("text"),isSelected:e,className:_.Qq,onClick:t,"data-tooltip-type":s.Ib.LOOKUP,"data-tooltip":"set-tool-type",hasOpenSubmenu:!1},t=>i.createElement(u.gd,{toolType:"text",inactiveIcon:i.createElement(a.Ch,null),hoveredIcon:i.createElement(a.Gb,null),activeIcon:i.createElement(a.nl,null),isSelected:e,isHovered:t}))}),E=(0,i.memo)(function(){let e=(0,l.d4)(e=>{var t,n;return(null==(n=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:n.currentTool)===c.NLJ.TABLE}),t=(0,i.useCallback)(()=>{r.glU.triggerActionInUserEditScope(e?"set-tool-default":"set-tool-table",{source:m.fK})},[e]);return i.createElement(p.IB,{toolType:"table",recordingKey:(0,m.hx)("table"),isSelected:e,className:_.tp,onClick:t,"data-tooltip-type":s.Ib.LOOKUP,"data-tooltip":"set-tool-table",hasOpenSubmenu:!1},t=>i.createElement(u.gd,{toolType:"table",inactiveIcon:i.createElement(a.PW,null),hoveredIcon:i.createElement(a.nb,null),activeIcon:i.createElement(a.oN,null),isSelected:e,isHovered:t}))}),b=a.Ch(),C=a.aO(),y=a.PW(),v=a.oV(),w=a.lV(),T=a.LI(),k=a.pk(),x=a.G7(),N=a.xc(),I=a.sw(),S=new Map([["text",{toolType:"text",Component:h,action:"set-tool-type",iconComponent:b,noBorderIconComponent:T}],["stamp",{toolType:"stamp",Component:g.sV,action:"set-tool-stamp",iconComponent:v,noBorderIconComponent:N}],["section",{toolType:"section",Component:f,action:"set-tool-section",iconComponent:C,noBorderIconComponent:k}],["table",{toolType:"table",Component:E,action:"set-tool-table",iconComponent:y,noBorderIconComponent:x}],["universal-insert",{toolType:"universal-insert",Component:o.Hm,action:"browse-all-resources-dlt-overflow",iconComponent:w,noBorderIconComponent:I}]]);function L(){return["text","section","table","stamp"]}function A(e){return[{stage:"FULL",thresholdWidth:774,numPrimaryTools:4},{stage:"MINIMIZED_THREE",thresholdWidth:718,numPrimaryTools:e?2:3},{stage:"MINIMIZED_TWO",thresholdWidth:662,numPrimaryTools:e?1:2},{stage:"MINIMIZED_ONE",thresholdWidth:606,numPrimaryTools:e?0:1},{stage:"MINIMIZED_ZERO",thresholdWidth:533,numPrimaryTools:0},{stage:"MINIMIZED",thresholdWidth:422,numPrimaryTools:0},{stage:"CUT_OFF",thresholdWidth:0,numPrimaryTools:0}]}function M(){let e=[];for(let t of L()){let n=(function(){let e=new Map;for(let t of new Set(["text","stamp","section","table"]))S.has(t)&&e.set(t,S.get(t));return e})().get(t);n&&(e=e.concat(n))}return e}function O(e){return M().slice(0,e).map(e=>e.toolType)}},6283:(e,t,n)=>{n.d(t,{w:()=>M,Z:()=>A});var a=n(411855),o=n(188507),i=n(629019),l=n.n(i),r=n(491059),c=n(487644),s=n(402791),d=n(965528),m=n(165077),u=n(353166),p=n(358835),_=n(245470),f=n(21122),g=n(482402),h=n(428748),E=n(733992),b=n(516140),C=n(221033),y=n(781374);function v(){return a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M9.5 1.5H2.5C1.94772 1.5 1.5 1.94772 1.5 2.5V8.59171C1.5 9.15197 2.09195 9.51443 2.59097 9.25973L4.40594 8.33333H9.5C10.0523 8.33333 10.5 7.88562 10.5 7.33333V2.5C10.5 1.94772 10.0523 1.5 9.5 1.5Z",fill:"#D5EB97",stroke:"#9CB74F"}),a.createElement("path",{d:"M6.50036 6.5166H13.5479C14.1001 6.5166 14.5479 6.96432 14.5479 7.5166V13.7322C14.5479 14.2941 13.9528 14.6564 13.4536 14.3986L11.6271 13.455H6.50036C5.94808 13.455 5.50036 13.0073 5.50036 12.455V7.5166C5.50036 6.96432 5.94808 6.5166 6.50036 6.5166Z",fill:"white",stroke:"#9CB74F"}))}function w(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},a.createElement("mask",{id:"path-1-inside-1_2917_5656",fill:"white",stroke:"none"},a.createElement("path",{d:"M11 10.4999C11 10.1854 11.1524 9.89389 11.3839 9.68099C12.3774 8.76717 13 7.45629 13 6C13 3.23858 10.7614 1 8 1C5.23858 1 3 3.23858 3 6C3 7.45629 3.62259 8.76717 4.61612 9.68099C4.8476 9.89389 5 10.1854 5 10.4999V13C5 14.1046 5.89543 15 7 15H9C10.1046 15 11 14.1046 11 13V10.4999Z"})),a.createElement("path",{d:"M11 10.4999C11 10.1854 11.1524 9.89389 11.3839 9.68099C12.3774 8.76717 13 7.45629 13 6C13 3.23858 10.7614 1 8 1C5.23858 1 3 3.23858 3 6C3 7.45629 3.62259 8.76717 4.61612 9.68099C4.8476 9.89389 5 10.1854 5 10.4999V13C5 14.1046 5.89543 15 7 15H9C10.1046 15 11 14.1046 11 13V10.4999Z",fill:"#FFF2DF",stroke:"none"}),a.createElement("path",{d:"M4.61612 9.68099L3.93916 10.417L4.61612 9.68099ZM11.3839 9.68099L10.7069 8.94497L11.3839 9.68099ZM12 6C12 7.16503 11.5032 8.21256 10.7069 8.94497L12.0608 10.417C13.2516 9.32178 14 7.74755 14 6H12ZM8 2C10.2091 2 12 3.79086 12 6H14C14 2.68629 11.3137 0 8 0V2ZM4 6C4 3.79086 5.79086 2 8 2V0C4.68629 0 2 2.68629 2 6H4ZM5.29309 8.94497C4.49678 8.21256 4 7.16503 4 6H2C2 7.74755 2.7484 9.32178 3.93916 10.417L5.29309 8.94497ZM6 13V10.4999H4V13H6ZM7 14C6.44772 14 6 13.5523 6 13H4C4 14.6569 5.34315 16 7 16V14ZM9 14H7V16H9V14ZM10 13C10 13.5523 9.55228 14 9 14V16C10.6569 16 12 14.6569 12 13H10ZM10 10.4999V13H12V10.4999H10ZM3.93916 10.417C3.96922 10.4447 3.98627 10.4704 3.99438 10.4872C4.00183 10.5027 4 10.5063 4 10.4999H6C6 9.85501 5.68992 9.30997 5.29309 8.94497L3.93916 10.417ZM10.7069 8.94497C10.3101 9.30997 10 9.85501 10 10.4999H12C12 10.5063 11.9982 10.5027 12.0056 10.4872C12.0137 10.4704 12.0308 10.4447 12.0608 10.417L10.7069 8.94497Z",fill:"#FFC470",stroke:"none",mask:"url(#path-1-inside-1_2917_5656)"}),a.createElement("path",{d:"M8 11.5V9M8 9L6 7M8 9L10 7",stroke:"black"}),a.createElement("path",{d:"M5.5 11.5H10.5V13C10.5 13.8284 9.82843 14.5 9 14.5H7C6.17157 14.5 5.5 13.8284 5.5 13V11.5Z",fill:"white",stroke:"#FFC470"}))}function T(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},a.createElement("rect",{x:"1.5",y:"1.5",width:"5",height:"5",rx:"0.5",fill:"#FFBDF2",stroke:"#F697F9"}),a.createElement("path",{d:"M8.5 11.5C8.5 9.84315 9.84315 8.5 11.5 8.5C13.1569 8.5 14.5 9.84315 14.5 11.5C14.5 13.1569 13.1569 14.5 11.5 14.5C9.84315 14.5 8.5 13.1569 8.5 11.5Z",fill:"#D5EB97",stroke:"#9CB74F"}),a.createElement("path",{d:"M10 4H14M14 4L12 2M14 4L12 6",stroke:"#AFBCCF"}),a.createElement("path",{d:"M3.99973 14L3.99973 9.99997M3.99973 9.99997L5.99973 12M3.99973 9.99997L1.99973 12",stroke:"#AFBCCF"}))}function k(){return a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M1.5 5.5H14.5V13.0134C14.5 13.8344 13.8344 14.5 13.0134 14.5H2.98658C2.16556 14.5 1.5 13.8344 1.5 13.0134V5.5Z",fill:"white",stroke:"#AFBCCF"}),a.createElement("path",{d:"M1.5 3.98658C1.5 3.16556 2.16556 2.5 2.98658 2.5H13.0134C13.8344 2.5 14.5 3.16556 14.5 3.98658V6.5H1.5V3.98658Z",fill:"#DA9DFF",stroke:"#A259FF"}),a.createElement("rect",{x:"4",y:"1",width:"1",height:"3",rx:"0.5",fill:"white",stroke:"none"}),a.createElement("rect",{x:"11",y:"1",width:"1",height:"3",rx:"0.5",fill:"white",stroke:"none"}))}function x(){return a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{"clip-path":"url(#clip0_2983_30525)"},a.createElement("path",{d:"M8 3V13M3 8H13",stroke:"white"})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_2983_30525"},a.createElement("rect",{width:"16",height:"16",fill:"white"}))))}var N=n(605584);let I=["meeting","brainstorm","diagram","plan"],S={meeting:{displayName:a.createElement(s.Tx,{id:"whiteboard.editor_file_create_button.template.meeting"}),templateId:"1131656387097659439"},brainstorm:{displayName:a.createElement(s.Tx,{id:"whiteboard.editor_file_create_button.template.brainstorm"}),templateId:"1131655445295798316"},diagram:{displayName:a.createElement(s.Tx,{id:"whiteboard.editor_file_create_button.template.diagram"}),templateId:"1131655783221981229"},plan:{displayName:a.createElement(s.Tx,{id:"whiteboard.editor_file_create_button.template.plan"}),templateId:"1131656074685986862"}};var L=n(635858);function A(){let e=(0,p.nF)(!0),t=!(0,u.N)()&&e.enabled,n=null===(0,f.iZ)();return(0,_.eM)()||t&&n?null:a.createElement(M,null)}function M(){let e=(0,N.$3)(),{Dropdown:t,toggleDropdown:n,dropdownTargetRef:i,isDropdownShown:u}=(0,E.B)("figjam-editor-create-button-dropdown"),p=(0,o.wA)(),_=(0,C.Bq)(),f=(0,r.U)(),A={brainstorm:(0,b.S)({templateId:S.brainstorm.templateId,source:h.f6.FIGJAM_EDITOR_FILE_CREATE_BUTTON,forceOpenNewTab:!0,additionalCtaLoggingProps:{action:"editor_file_create_button_create_template",selected_template_type:"brainstorm"}}),meeting:(0,b.S)({templateId:S.meeting.templateId,source:h.f6.FIGJAM_EDITOR_FILE_CREATE_BUTTON,forceOpenNewTab:!0,additionalCtaLoggingProps:{action:"editor_file_create_button_create_template",selected_template_type:"meeting"}}),diagram:(0,b.S)({templateId:S.diagram.templateId,source:h.f6.FIGJAM_EDITOR_FILE_CREATE_BUTTON,forceOpenNewTab:!0,additionalCtaLoggingProps:{action:"editor_file_create_button_create_template",selected_template_type:"diagram"}}),plan:(0,b.S)({templateId:S.plan.templateId,source:h.f6.FIGJAM_EDITOR_FILE_CREATE_BUTTON,forceOpenNewTab:!0,additionalCtaLoggingProps:{action:"editor_file_create_button_create_template",selected_template_type:"plan"}})},M=a.useCallback(()=>{u||f("CTA Clicked",{action:"editor_file_create_button_toggle_dropdown_shown"}),n()},[u,n,f]),O=a.useCallback(()=>{f("CTA Clicked",{action:"editor_file_create_button_create_blank"}),p(d.zE({state:_,from:h.f6.FIGJAM_EDITOR_FILE_CREATE_BUTTON,editorType:g._Y.WHITEBOARD,team:void 0,openNewFileIn:h.ai.NEW_TAB}))},[p,f,_]),R=I.map(e=>({displayText:function(e){switch(e){case"meeting":return(0,s.t)("whiteboard.editor_file_create_button.template.meeting");case"brainstorm":return(0,s.t)("whiteboard.editor_file_create_button.template.brainstorm");case"diagram":return(0,s.t)("whiteboard.editor_file_create_button.template.diagram");case"plan":return(0,s.t)("whiteboard.editor_file_create_button.template.plan")}}(e),icon:function(e){switch(e){case"meeting":return a.createElement(v,null);case"brainstorm":return a.createElement(w,null);case"diagram":return a.createElement(T,null);case"plan":return a.createElement(k,null)}}(e),className:y.QR,optionHeight:26,callback:()=>{A[e]()}})),B=[{displayText:"Blank whiteboard",callback:O,className:y.QR,icon:a.createElement(x,null),optionHeight:26},{separator:!0,displayText:""},{displayText:"Start from template",disabled:!0,className:y.QR,optionHeight:24},...R];return a.createElement(m.fu,{name:"Editor File Create Button"},a.createElement("div",{className:y.Ll},a.createElement("div",{className:l()(y.UD,{[y.wH]:u})},a.createElement("button",{className:l()(y.x6,{[y.FU]:!e,[y.wH]:u}),onClick:M,"aria-label":(0,s.t)("whiteboard.editor_file_create_button.create_button_aria_label")},a.createElement("div",{className:y.Xl},a.createElement(s.Tx,{id:"sidebar.new_file"})),a.createElement("div",{className:y.FH,ref:i},a.createElement(c.B,{className:l()(y.ai,{[y.BG]:u}),svg:L.A}))),a.createElement(t,{items:B,showPoint:!0,lean:"center",minLeftMargin:-4,minWidth:164}))))}},865328:(e,t,n)=>{let a;n.d(t,{Cb:()=>s,Uj:()=>r,Yh:()=>c});var o=n(611464),i=n(730641),l=n(903398),r=((a=r||{}).SUMMARIZE="summarize",a.CLUSTER="cluster",a.TIDY_UP="tidy_up",a.WRAP_IN_SECTION="wrap_in_section",a);function c(){let e=[],t=(0,l.V)(),n=(0,l.cF)(),a=(0,l.v1)();return(0,o.kc)().figjam_inline_menu_organize?(t&&((0,o.kc)().figjam_sticky_clustering&&e.push({type:"cluster",enabled:a}),(0,o.kc)().figjam_summarization&&e.push({type:"summarize",enabled:n})),e):[]}function s(){let e=c(),t=!(0,i.yT)();return!!((0,o.kc)().figjam_inline_menu_organize&&t&&(!(e.length<=1)||e.find(e=>e&&("summarize"===e.type||"cluster"===e.type))))}},275426:(e,t,n)=>{n.d(t,{Cx:()=>c,Tb:()=>r,UT:()=>s});var a=n(38580),o=n(825165);let i=(0,a.eU)({type:"CLOSED"}),l=(0,a.eU)(e=>e(i),(e,t,n)=>{t(i,n)}),r=(0,a.eU)(e=>e(l));(0,a.eU)(null,(e,t,n)=>{if(!n||!n.trim()){t(l,{type:"ALL"});return}t(l,{type:"SEARCH",searchQuery:n})}),(0,a.eU)(null,(e,t)=>{t(l,{type:"ALL"})});let c=(0,a.eU)(null,(e,t)=>{t(l,{type:"CLOSED"})}),s=(0,a.eU)(null,(e,t)=>{(0,o.i)(()=>{t(c)}),t(l,{type:"ALL"})})},892308:(e,t,n)=>{n.d(t,{l:()=>c});var a=n(411855),o=n(629019),i=n.n(o),l=n(218017),r=n(959875);function c({title:e,onClose:t,badge:n,backButton:o,inputField:c,closeButtonInnerText:s}){return a.createElement(a.Fragment,null,a.createElement("div",{className:i()(r.cx.flex.itemsCenter.justifyBetween.py8.pr8.$,{[r.cx.pl8.$]:o,[r.cx.pl16.$]:!o})},a.createElement("div",{className:r.cx.flex.itemsCenter.gap4.$},o,a.createElement("div",{className:r.cx.font13.fontSemiBold.$},e)),a.createElement("div",{className:r.cx.flex.itemsCenter.gap4.$},n,a.createElement(l.Jn,{onClick:t,innerText:s||"close"}))),c&&a.createElement("div",{className:r.cx.px16.pb20.$},c))}},230538:(e,t,n)=>{n.d(t,{w:()=>r});var a=n(411855),o=n(629019),i=n.n(o),l=n(959875);function r(){return a.createElement("div",{className:i()(l.cx.colorBorder.bSolid.bt1.$)})}},321026:(e,t,n)=>{n.d(t,{Cx:()=>f,ET:()=>p,Tb:()=>d,UD:()=>b,UT:()=>_,Y3:()=>g,YB:()=>E,b9:()=>C,ht:()=>h,r7:()=>u});var a=n(38580),o=n(664080),i=n(794095),l=n(825165),r=n(746696);let c=(0,a.eU)({type:"CLOSED"}),s=(0,a.eU)(e=>e(c),(e,t,n)=>{t(c,n),t(r.Fo)}),d=(0,a.eU)(e=>e(s)),m=(0,a.eU)(null),u=(0,a.eU)(e=>e(m)),p=(0,a.eU)(e=>"CLOSED"!==e(d).type),_=(0,a.eU)(null,(e,t,n)=>{(0,l.i)(()=>{t(f)}),t(s,{type:"ALL"}),t(m,n.source)}),f=(0,a.eU)(null,(e,t)=>{e(i.w)&&o.Hyj.closeTemplatePreview(),t(s,{type:"CLOSED"}),t(m,null)}),g=(0,a.eU)(null,(e,t,n)=>{if(!n||!n.trim()){t(s,{type:"ALL"});return}t(s,{type:"SEARCH",searchQuery:n})}),h=(0,a.eU)(null,(e,t)=>{t(s,{type:"ALL"})}),E=(0,a.eU)(null,(e,t,{categoryId:n,fromAll:a=!1})=>{t(s,{type:"CATEGORY",categoryId:n,fromAll:a})}),b=(0,a.eU)(null,(e,t)=>{t(s,{type:"CUSTOM_TEMPLATES"})}),C=(0,a.eU)(null,(e,t)=>{t(s,{type:"ALL"})})},471828:(e,t,n)=>{n.d(t,{$:()=>i});var a=n(611464),o=n(344298);let i=()=>!o.Xb&&(0,a.kc)().figjam_templates_sidebar},763105:(e,t,n)=>{n.d(t,{g:()=>p,k:()=>_});var a=n(411855),o=n(188507),i=n(646240),l=n(732326),r=n(820657),c=n(22310),s=n(669234),d=n(21122),m=n(746696),u=n(321026);function p(){let e=(0,s.tS)(),t=(0,o.d4)(e=>e.fileVersion),n=(0,i.Xr)(m.ME);return(0,a.useCallback)((a,o)=>n({fileKey:e,fileVersion:t,template:a},o),[e,t,n])}function _(){let e=(0,l.md)(u.r7),t=(0,i.Xr)(u.Cx),n=(0,d.TA)(),s=(0,o.d4)(e=>{var t;return null==(t=e.openFile)?void 0:t.key});return(0,a.useCallback)(({isUserTriggered:a})=>{"newFile"===e&&(0,c.Cu)({text:a?"Close auto-opened templates sidebar":"Close auto-opened templates sidebar implicit",trackingDescriptor:a?r.c.TEMPLATES_SIDEBAR_DISMISS:r.c.TEMPLATES_SIDEBAR_DISMISS_IMPLICIT,userId:n,fileKey:s}),t()},[t,e,n,s])}}}]);

//# debugId=33817324-0d40-5dc2-abb0-1a95b557eda0

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/e728e05bb8947453a6dcb9a409a86e2810596aa2/1002-d50515fc4c38c7da.min.js.map